import{n as w,j as n,V as be,H as we,o as ce,p as N,T as y,g as u,B as W,q as R,s as Ne,t as Le,v as ue,w as b,x as _,M as Ue,y as Te,z as Be,A as he,C as Ce,r as p,D,E as H,F as G,G as V,J as ae,K as F,L as $,N as M,O as _e,a as J,S as We,Q as De,U as Me,W as T,X as B,Y as O,Z as He,_ as Ge,$ as Ve,a0 as Fe,a1 as Q,a2 as $e,a3 as qe,a4 as Je,a5 as Qe,a6 as Ke,a7 as Xe}from"./vendor-14bf6bac.js";import{F as Ye,u as re,a as Se,b as X,E,o as Ze,c as et,t as Y,s as tt,d as nt,e as st,g as at,m as rt,f as it}from"./index-d4c5bde4.js";const ot="/assets/rmp-logo512-652b509a.png",lt={flex:1,justifyContent:"center",mb:10,"& > div":{mb:3},"& img":{w:120,p:2,backgroundColor:"white",borderRadius:12}};function ct(){const{t:e}=w();return n.jsxs(be,{sx:lt,children:[n.jsxs(we,{spacing:3,children:[n.jsx(ce,{src:"/logo512.png"}),n.jsx(ce,{src:ot,backgroundColor:"white"})]}),n.jsx(N,{children:e("Welcome to Rail Map Toolkit")}),n.jsx(y,{fontSize:"lg",textAlign:"center",children:e("Select an app to start your own rail map design!")})]})}function ut(e){var s;const{tab:t,isActive:r}=e,[a]=u.useState((s=t.url)!=null?s:"/"+t.app+"/");return n.jsx(W,{display:r?"block":"none",flex:1,children:n.jsx("iframe",{id:Ye+t.id,src:a,loading:"lazy",title:t.app,width:"100%",height:"100%"})})}/**
 * @remix-run/router v1.6.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L(){return L=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},L.apply(this,arguments)}var k;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(k||(k={}));const de="popstate";function ht(e){e===void 0&&(e={});function t(a,s){let{pathname:c,search:l,hash:i}=a.location;return Z("",{pathname:c,search:l,hash:i},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(a,s){return typeof s=="string"?s:ze(s)}return ft(t,r,null,e)}function C(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function dt(){return Math.random().toString(36).substr(2,8)}function fe(e,t){return{usr:e.state,key:e.key,idx:t}}function Z(e,t,r,a){return r===void 0&&(r=null),L({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?q(t):t,{state:r,key:t&&t.key||a||dt()})}function ze(e){let{pathname:t="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function q(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(t.search=e.substr(a),e=e.substr(0,a)),e&&(t.pathname=e)}return t}function ft(e,t,r,a){a===void 0&&(a={});let{window:s=document.defaultView,v5Compat:c=!1}=a,l=s.history,i=k.Pop,o=null,d=m();d==null&&(d=0,l.replaceState(L({},l.state,{idx:d}),""));function m(){return(l.state||{idx:null}).idx}function v(){i=k.Pop;let f=m(),h=f==null?null:f-d;d=f,o&&o({action:i,location:g.location,delta:h})}function j(f,h){i=k.Push;let x=Z(g.location,f,h);r&&r(x,f),d=m()+1;let I=fe(x,d),U=g.createHref(x);try{l.pushState(I,"",U)}catch(rn){s.location.assign(U)}c&&o&&o({action:i,location:g.location,delta:1})}function P(f,h){i=k.Replace;let x=Z(g.location,f,h);r&&r(x,f),d=m();let I=fe(x,d),U=g.createHref(x);l.replaceState(I,"",U),c&&o&&o({action:i,location:g.location,delta:0})}function A(f){let h=s.location.origin!=="null"?s.location.origin:s.location.href,x=typeof f=="string"?f:ze(f);return C(h,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,h)}let g={get action(){return i},get location(){return e(s,l)},listen(f){if(o)throw new Error("A history only accepts one active listener");return s.addEventListener(de,v),o=f,()=>{s.removeEventListener(de,v),o=null}},createHref(f){return t(s,f)},createURL:A,encodeLocation(f){let h=A(f);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:j,replace:P,go(f){return l.go(f)}};return g}var pe;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(pe||(pe={}));function pt(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}function mt(e,t){t===void 0&&(t="/");let{pathname:r,search:a="",hash:s=""}=typeof e=="string"?q(e):e;return{pathname:r?r.startsWith("/")?r:gt(r,t):t,search:yt(a),hash:bt(s)}}function gt(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function K(e,t,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xt(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function vt(e,t,r,a){a===void 0&&(a=!1);let s;typeof e=="string"?s=q(e):(s=L({},e),C(!s.pathname||!s.pathname.includes("?"),K("?","pathname","search",s)),C(!s.pathname||!s.pathname.includes("#"),K("#","pathname","hash",s)),C(!s.search||!s.search.includes("#"),K("#","search","hash",s)));let c=e===""||s.pathname==="",l=c?"/":s.pathname,i;if(a||l==null)i=r;else{let v=t.length-1;if(l.startsWith("..")){let j=l.split("/");for(;j[0]==="..";)j.shift(),v-=1;s.pathname=j.join("/")}i=v>=0?t[v]:"/"}let o=mt(s,i),d=l&&l!=="/"&&l.endsWith("/"),m=(c||l===".")&&r.endsWith("/");return!o.pathname.endsWith("/")&&(d||m)&&(o.pathname+="/"),o}const jt=e=>e.join("/").replace(/\/\/+/g,"/"),yt=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,bt=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Ae=["post","put","patch","delete"];new Set(Ae);const wt=["get",...Ae];new Set(wt);/**
 * React Router v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},ee.apply(this,arguments)}const ke=u.createContext(null),ie=u.createContext(null),oe=u.createContext(null),Re=u.createContext({outlet:null,matches:[]});function le(){return u.useContext(oe)!=null}function Pe(){return le()||C(!1),u.useContext(oe).location}function Ie(e){u.useContext(ie).static||u.useLayoutEffect(e)}function Ct(){return u.useContext(ke)!=null?kt():Mt()}function Mt(){le()||C(!1);let{basename:e,navigator:t}=u.useContext(ie),{matches:r}=u.useContext(Re),{pathname:a}=Pe(),s=JSON.stringify(xt(r).map(i=>i.pathnameBase)),c=u.useRef(!1);return Ie(()=>{c.current=!0}),u.useCallback(function(i,o){if(o===void 0&&(o={}),!c.current)return;if(typeof i=="number"){t.go(i);return}let d=vt(i,JSON.parse(s),a,o.relative==="path");e!=="/"&&(d.pathname=d.pathname==="/"?e:jt([e,d.pathname])),(o.replace?t.replace:t.push)(d,o.state,o)},[e,t,s,a])}var te;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(te||(te={}));var ne;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(ne||(ne={}));function St(e){let t=u.useContext(ke);return t||C(!1),t}function zt(e){let t=u.useContext(Re);return t||C(!1),t}function At(e){let t=zt(),r=t.matches[t.matches.length-1];return r.route.id||C(!1),r.route.id}function kt(){let{router:e}=St(te.UseNavigateStable),t=At(ne.UseNavigateStable),r=u.useRef(!1);return Ie(()=>{r.current=!0}),u.useCallback(function(s,c){c===void 0&&(c={}),r.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,ee({fromRouteId:t},c)))},[e,t])}function Rt(e){let{basename:t="/",children:r=null,location:a,navigationType:s=k.Pop,navigator:c,static:l=!1}=e;le()&&C(!1);let i=t.replace(/^\/*/,"/"),o=u.useMemo(()=>({basename:i,navigator:c,static:l}),[i,c,l]);typeof a=="string"&&(a=q(a));let{pathname:d="/",search:m="",hash:v="",state:j=null,key:P="default"}=a,A=u.useMemo(()=>{let g=pt(d,i);return g==null?null:{location:{pathname:g,search:m,hash:v,state:j,key:P},navigationType:s}},[i,d,m,v,j,P,s]);return A==null?null:u.createElement(ie.Provider,{value:o},u.createElement(oe.Provider,{children:r,value:A}))}var me;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(me||(me={}));new Promise(()=>{});/**
 * React Router DOM v6.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function se(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let a=e[r];return t.concat(Array.isArray(a)?a.map(s=>[r,s]):[[r,a]])},[]))}function Pt(e,t){let r=se(e);if(t)for(let a of t.keys())r.has(a)||t.getAll(a).forEach(s=>{r.append(a,s)});return r}function It(e){let{basename:t,children:r,window:a}=e,s=u.useRef();s.current==null&&(s.current=ht({window:a,v5Compat:!0}));let c=s.current,[l,i]=u.useState({action:c.action,location:c.location});return u.useLayoutEffect(()=>c.listen(i),[c]),u.createElement(Rt,{basename:t,children:r,location:l.location,navigationType:l.action,navigator:c})}var ge;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(ge||(ge={}));var xe;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(xe||(xe={}));function Ot(e){let t=u.useRef(se(e)),r=u.useRef(!1),a=Pe(),s=u.useMemo(()=>Pt(a.search,r.current?null:t.current),[a.search]),c=Ct(),l=u.useCallback((i,o)=>{const d=se(typeof i=="function"?i(s):i);r.current=!0,c("?"+d,o)},[c,s]);return[s,l]}function Et(){const{openedTabs:e,activeTab:t}=re(s=>s.app),[r,a]=Ot();return u.useEffect(()=>{var s;if(t){const c=(s=e.find(l=>l.id===t))==null?void 0:s.app;a(c?{app:c}:{})}else a({})},[t]),e.length===0?n.jsx(ct,{}):n.jsx(n.Fragment,{children:e.map(s=>n.jsx(ut,{tab:s,isActive:t===s.id},s.id))})}var Oe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ve=R.createContext&&R.createContext(Oe),z=globalThis&&globalThis.__assign||function(){return z=Object.assign||function(e){for(var t,r=1,a=arguments.length;r<a;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},z.apply(this,arguments)},Nt=globalThis&&globalThis.__rest||function(e,t){var r={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(r[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(r[a[s]]=e[a[s]]);return r};function Ee(e){return e&&e.map(function(t,r){return R.createElement(t.tag,z({key:r},t.attr),Ee(t.child))})}function S(e){return function(t){return R.createElement(Lt,z({attr:z({},e.attr)},t),Ee(e.child))}}function Lt(e){var t=function(r){var a=e.attr,s=e.size,c=e.title,l=Nt(e,["attr","size","title"]),i=s||r.size||"1em",o;return r.className&&(o=r.className),e.className&&(o=(o?o+" ":"")+e.className),R.createElement("svg",z({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,a,l,{className:o,style:z(z({color:e.color||r.color},r.style),e.style),height:i,width:i,xmlns:"http://www.w3.org/2000/svg"}),c&&R.createElement("title",null,c),e.children)};return ve!==void 0?R.createElement(ve.Consumer,null,function(r){return t(r)}):t(Oe)}function Ut(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}function Tt(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-1 6h2v2h-2V7zm0 4h2v6h-2v-6z"}}]})(e)}function Bt(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}}]})(e)}function _t(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"}}]})(e)}function je(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}function Wt(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}}]})(e)}function Dt(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(e)}function Ht(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}}]})(e)}const ye={"& button:first-of-type":{w:"100%",overflow:"hidden",justifyContent:"flex-start",textOverflow:"ellipsis",textAlign:"start","& span.chakra-button__icon":{ml:-1,color:"orange.300",'[data-theme="dark"] &':{color:"orange.200"}}},'&[aria-current="true"] > button':{bg:"primary.50",_hover:{bg:"primary.100"},'[data-theme="dark"] &':{bg:"primary.700",_hover:{bg:"primary.600"}}}};function Gt(e){var f;const{appId:t,onAboutOpen:r}=e,{t:a}=w(),s=Se(),c=Ne(`(min-width: ${Le.breakpoints.sm})`),{activeTab:l,openedTabs:i}=re(h=>h.app),o=X[t],d=o.name.split(" - ").map(a).join(" - "),m=i.some(h=>h.app===t),v=!o.allowMultiInstances&&((f=i.find(h=>h.id===l))==null?void 0:f.app)===t,j=h=>{m||p.event(E.OPEN_APP,{appId:t,isOpenInNew:h}),s(h?Ze(t):et({appId:t})),c[0]||(s(Y()),p.toggleNavMenu(!1))},P=h=>{s(tt(h)),c[0]||(s(Y()),p.toggleNavMenu(!1))},A=h=>{s(nt(h)),p.event(E.CLOSE_APP,{app:t})},g=h=>{s(st(h)),p.event(E.CLOSE_APP,{app:h})};return n.jsxs(n.Fragment,{children:[n.jsxs(ue,{variant:v?"solid":"ghost",size:"md",isAttached:!0,"aria-current":v,sx:ye,children:[n.jsx(b,{onClick:()=>j(!1),leftIcon:m?n.jsx(_t,{title:a("Running")}):n.jsx(W,{w:4}),children:d}),o.allowMultiInstances&&n.jsx(_,{"aria-label":a("New tab"),title:a("New tab"),icon:n.jsx(Bt,{}),onClick:()=>j(!0)}),n.jsxs(Ue,{children:[n.jsx(Te,{as:_,icon:n.jsx(Dt,{}),"aria-label":a("More"),title:a("More")}),n.jsxs(Be,{children:[m&&n.jsx(he,{icon:n.jsx(je,{}),onClick:()=>g(t),children:o.allowMultiInstances?a("Close all tabs"):a("Close app")}),n.jsx(he,{icon:n.jsx(Ut,{}),onClick:r,children:a("About")})]})]})]}),o.allowMultiInstances&&i.filter(h=>h.app===t).map((h,x)=>{const I=h.id===l;return n.jsxs(ue,{variant:I?"solid":"ghost",size:"sm",ml:8,mr:1,isAttached:!0,"aria-current":I,sx:ye,children:[n.jsxs(b,{onClick:()=>P(h.id),children:[n.jsx(Ce,{mr:2,children:x+1}),a("Tab")+" "+(x+1).toString()+" - "+d]}),n.jsx(_,{"aria-label":a("Close tab"),title:a("Close tab"),icon:n.jsx(je,{}),onClick:()=>A(h.id)})]},h.id)})]})}const Vt=async e=>{const t=`/${e}/info.json`;try{return(await(await fetch(t)).json()).version}catch(r){return console.log(`Failed to get version for ${e}`),"unknown"}};function Ft(e){var i,o,d;const{appId:t,onClose:r}=e,{t:a}=w(),[s,c]=u.useState("Unknown"),l=t?(d=(o=(i=X[t])==null?void 0:i.url)==null?void 0:o.split("/"))==null?void 0:d[1]:void 0;return u.useEffect(()=>{l?Vt(l).then(m=>c(m)):c("Unknown")},[l]),n.jsxs(D,{isOpen:!!t,onClose:r,size:"xl",scrollBehavior:"inside",children:[n.jsx(H,{}),n.jsxs(G,{children:[n.jsxs(V,{children:[a("About")+" "+(t?X[t].name.split(" - ").map(a).join(" - "):""),n.jsx(Ce,{ml:1,children:s})]}),n.jsx(ae,{}),n.jsx(F,{}),n.jsx($,{children:n.jsx(b,{colorScheme:"primary",onClick:()=>window.open("https://github.com/railmapgen/"+l,"_blank"),children:a("Visit GitHub")})})]})]})}const $t={flexDirection:"column","& h4":{mx:3,my:2},"& > div":{flexDirection:"column"}};function qt(){const{t:e}=w(),[t,r]=u.useState(),a=at(p.getEnv());return n.jsxs(M,{sx:$t,children:[n.jsx(N,{as:"h4",size:"md",children:e("Apps")}),n.jsx(M,{children:a.map(s=>n.jsx(Gt,{appId:s,onAboutOpen:()=>r(s)},s))}),n.jsx(Ft,{appId:t,onClose:()=>r(void 0)})]})}const Jt={flexDirection:"column",py:1,"& h4":{mx:3,my:2},"& > div":{px:2}};function Qt(){const{t:e}=w(),{setColourMode:t}=_e(),r={light:e("Light"),dark:e("Dark"),system:e("System")},s=p.getInstance()===J.GITHUB?J.GITLAB:J.GITHUB,c=()=>{const i=it(s,p.getEnv());window.open(i,"_blank"),p.event(E.SWITCH_MIRROR,{mirrorUrl:i})},l=[{type:"select",label:e("Language"),value:p.getLanguage(),options:We.reduce((i,o)=>({...i,[o]:De[o][o]}),{}),onChange:i=>{const o=i;p.setLanguage(o),p.getI18nInstance().changeLanguage(o),p.event(E.CHANGE_LANGUAGE,{language:o})}},{type:"select",label:e("Appearance"),value:p.getColourMode(),options:r,onChange:i=>t(i)},{type:"custom",label:e("Switch to")+" "+rt[s],component:n.jsx(b,{size:"xs",onClick:c,children:e("Switch")}),minW:"full",oneLine:!0}];return n.jsxs(M,{sx:Jt,children:[n.jsx(N,{as:"h4",size:"md",children:e("Settings")}),n.jsx(W,{children:n.jsx(Me,{fields:l})})]})}const Kt=["52PD","linchen1965"],Xt=["jealousyge","Jay20081229","clearng-kly","Dingdong2334","C1P918R","AnDanJuneUnderline","GrassRabbit1410","xiany114514","Andy1782010","Thomastzc","Tianxiu11111"];function Yt(e){const{isOpen:t,onClose:r}=e,{t:a}=w();return n.jsxs(D,{isOpen:t,onClose:r,size:"xl",scrollBehavior:"inside",children:[n.jsx(H,{}),n.jsxs(G,{children:[n.jsx(V,{children:a("Contributors")}),n.jsx(ae,{}),n.jsxs(F,{children:[n.jsx(N,{as:"h6",size:"xs",my:1,children:a("Core contributors")}),n.jsxs(be,{children:[n.jsxs(T,{size:"lg",minW:"80%",onClick:()=>window.open("https://github.com/wongchito","_blank"),cursor:"pointer",children:[n.jsx(B,{src:"https://github.com/wongchito.png",size:"lg",my:2,ml:-1,mr:2}),n.jsxs(O,{display:"block",children:[n.jsx(y,{fontSize:"lg",fontWeight:"bold",mb:1,children:"Chito Wong"}),n.jsx(y,{fontSize:"sm",children:"Project initiator"}),n.jsx(y,{fontSize:"sm",children:"Author of MTR and Guangzhou Metro styles"})]})]}),n.jsxs(T,{size:"lg",minW:"80%",onClick:()=>window.open("https://github.com/thekingofcity","_blank"),cursor:"pointer",children:[n.jsx(B,{src:"https://github.com/thekingofcity.png",size:"lg",my:2,ml:-1,mr:2}),n.jsxs(O,{display:"block",children:[n.jsx(y,{fontSize:"lg",fontWeight:"bold",mb:1,children:"thekingofcity"}),n.jsx(y,{fontSize:"sm",children:"Author of Shanghai Metro style"}),n.jsx(y,{fontSize:"sm",children:"Desktop version (Electron) maintainer"})]})]})]}),n.jsx(N,{as:"h6",size:"xs",my:1,children:a("Resource contributors")}),n.jsxs(M,{wrap:"wrap",children:[Kt.map(s=>n.jsxs(T,{size:"lg",mb:1,mr:1,flex:"100%",onClick:()=>window.open(`https://github.com/railmapgen/rmg/issues?q=is:issue+author:${s}`,"_blank"),cursor:"pointer",children:[n.jsx(B,{src:`https://github.com/${s}.png`,size:"xs",ml:-1,mr:2}),n.jsx(O,{children:s}),n.jsx(O,{flexGrow:1}),n.jsx(O,{children:n.jsx(y,{fontSize:"sm",children:a("Resource Administrator")})})]},s)),Xt.map(s=>n.jsxs(T,{size:"lg",mb:1,mr:1,onClick:()=>window.open(`https://github.com/railmapgen/rmg/issues?q=is:issue+author:${s}`,"_blank"),cursor:"pointer",children:[n.jsx(B,{src:`https://github.com/${s}.png`,size:"xs",ml:-1,mr:2}),n.jsx(O,{children:s})]},s))]})]}),n.jsx($,{children:n.jsx(b,{colorScheme:"primary",onClick:()=>window.open("https://github.com/railmapgen/rmg/wiki/How-to-add-color-palette-and-line-templates","_blank"),children:a("Contribution Wiki")})})]})]})}function Zt(e){const{isOpen:t,onClose:r}=e,{t:a}=w(),[s,c]=u.useState(p.isAllowAnalytics()),[l,i]=u.useState();u.useEffect(()=>{t||i(void 0)},[t]);const o=[{type:"switch",label:a("Allow cookies to help improve our website"),isChecked:s,onChange:c,oneLine:!0}],d=()=>{p.allowAnalytics(s).refreshRequired?i("Refreshing is required for changes to take effect."):r()};return n.jsxs(D,{isOpen:t,onClose:r,children:[n.jsx(H,{}),n.jsxs(G,{children:[l&&n.jsxs(He,{status:"info",variant:"solid",size:"xs",children:[n.jsx(Ge,{}),a(l)]}),n.jsxs(W,{position:"relative",children:[n.jsx(V,{children:a("Privacy settings")}),n.jsx(ae,{})]}),n.jsx(F,{children:n.jsx(Me,{fields:o})}),n.jsx($,{children:n.jsx(b,{colorScheme:"primary",isDisabled:!!l,onClick:d,children:a("Save")})})]})]})}function en(e){return S({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M126.12 315.1A47.06 47.06 0 1179.06 268h47.06zm23.72 0a47.06 47.06 0 0194.12 0v117.84a47.06 47.06 0 11-94.12 0zm47.06-188.98A47.06 47.06 0 11244 79.06v47.06zm0 23.72a47.06 47.06 0 010 94.12H79.06a47.06 47.06 0 010-94.12zm188.98 47.06a47.06 47.06 0 1147.06 47.1h-47.06zm-23.72 0a47.06 47.06 0 01-94.12 0V79.06a47.06 47.06 0 1194.12 0zM315.1 385.88a47.06 47.06 0 11-47.1 47.06v-47.06zm0-23.72a47.06 47.06 0 010-94.12h117.84a47.06 47.06 0 110 94.12z"}}]})(e)}function tn(){const{t:e}=w(),[t,r]=u.useState(!1),[a,s]=u.useState(!1);return n.jsxs(M,{direction:"column",children:[n.jsx(Ve,{}),n.jsxs(Fe,{templateColumns:"repeat(3, auto)",children:[n.jsx(Q,{children:n.jsx(b,{as:$e,variant:"ghost",size:"sm",w:"100%",leftIcon:n.jsx(en,{}),target:"_blank",href:"https://join.slack.com/t/railmapgenerator/shared_invite/zt-1odhhta3n-DdZF~fnVwo_q0S0RJmgV8A",children:"Slack"})}),n.jsx(Q,{children:n.jsx(b,{variant:"ghost",size:"sm",w:"100%",leftIcon:n.jsx(Ht,{}),onClick:()=>r(!0),children:e("Contributors")})}),n.jsx(Q,{children:n.jsx(b,{variant:"ghost",size:"sm",w:"100%",leftIcon:n.jsx(Tt,{}),onClick:()=>s(!0),children:e("Privacy")})})]}),n.jsx(Yt,{isOpen:t,onClose:()=>r(!1)}),n.jsx(Zt,{isOpen:a,onClose:()=>s(!1)})]})}const nn={flexShrink:0,flexDirection:"column",overflow:"hidden",alignItems:"flex-end",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",boxShadow:"lg",zIndex:100,".show-menu &":{maxW:{base:"100%",sm:360},w:{base:"100%",sm:"unset"},visibility:"initial"},"& > div":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:360},"& > div:nth-of-type(1)":{flex:0,flexDirection:"row",alignItems:"center",minHeight:10,pl:12},"& > div:nth-of-type(2)":{flexDirection:"column",flex:1,"& > div:first-of-type":{flex:1,overflowY:"auto"}}}};function sn(){const{t:e}=w();return n.jsx(M,{as:"section",sx:nn,children:n.jsxs(M,{children:[n.jsxs(M,{children:[n.jsx(N,{as:"h4",size:"md",children:e("Rail Map Toolkit")}),n.jsx(qe,{environment:p.getEnv(),version:p.getAppVersion()})]}),n.jsxs(M,{children:[n.jsx(qt,{}),n.jsx(Qt,{})]}),n.jsx(tn,{})]})})}function an(e){const{isOpen:t,onClose:r}=e,{t:a}=w(),s=u.useRef(null),c=()=>{p.allowAnalytics(!0),r()},l=()=>{p.allowAnalytics(!1).refreshRequired?window.location.reload():r()};return n.jsxs(D,{initialFocusRef:s,isOpen:t,onClose:()=>{},children:[n.jsx(H,{}),n.jsxs(G,{children:[n.jsx(V,{children:a("CookiesModal.header")}),n.jsxs(F,{children:[n.jsx(y,{children:a("CookiesModal.text1")}),n.jsx(y,{mt:2,children:a("CookiesModal.text2")}),n.jsx(Je,{children:n.jsxs(Qe,{children:[" ",a("CookiesModal.item1")]})}),n.jsx(y,{mt:2,children:a("CookiesModal.text3")})]}),n.jsx($,{children:n.jsxs(we,{children:[n.jsx(b,{variant:"ghost",onClick:l,children:a("CookiesModal.reject")}),n.jsx(b,{ref:s,colorScheme:"primary",onClick:c,children:a("CookiesModal.accept")})]})})]})]})}function cn(){const{t:e}=w(),t=Se(),r=re(l=>l.app.isShowMenu),[a,s]=u.useState(!1);u.useEffect(()=>{p.isAnalyticsQADone()||s(!0)},[]);const c=()=>{p.toggleNavMenu(!r),t(Y()),p.event(E.TOGGLE_NAV_MENU,{})};return n.jsx(It,{basename:"/",children:n.jsxs(Ke,{className:r?"show-menu":"",children:[n.jsx(_,{variant:r?"ghost":"solid",colorScheme:r?void 0:"primary",size:"md","aria-label":e("Toggle menu"),title:e("Toggle menu"),icon:n.jsx(Wt,{}),position:"absolute",zIndex:110,borderRadius:0,onClick:c}),n.jsxs(Xe,{sx:{flexDirection:"row"},children:[n.jsx(sn,{}),n.jsx(Et,{})]}),n.jsx(an,{isOpen:a,onClose:()=>s(!1)})]})})}export{cn as default};
