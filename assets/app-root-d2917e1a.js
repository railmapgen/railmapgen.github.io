import{o as j,k as t,V as Ce,H as Me,p as ue,q as N,T as b,h as u,B as F,s as R,t as Ne,v as Le,w as he,x as w,y as V,M as Te,z as Ue,A as Be,C as de,D as Se,r as p,E as T,F as $,G as U,J as B,K as ae,L as _,N as W,O as M,Q as _e,a as J,S as We,U as De,W as ze,X as H,Y as G,Z as O,_ as He,$ as Ge,a0 as Ve,a1 as Fe,a2 as Q,a3 as $e,a4 as qe,a5 as Je,a6 as Qe,a7 as fe,a8 as Ye}from"./vendor-777a2cc7.js";import{F as Ke,u as ie,a as ke,b as K,E,o as Xe,c as Ze,t as X,s as et,d as tt,e as nt,g as st,m as at,f as it}from"./index-630a8cf1.js";const rt="/assets/rmp-logo512-652b509a.png",ot={flex:1,justifyContent:"center",mb:10,"& > div":{mb:3},"& img":{w:120,p:2,backgroundColor:"white",borderRadius:12}};function lt(){const{t:e}=j();return t.jsxs(Ce,{sx:ot,children:[t.jsxs(Me,{spacing:3,children:[t.jsx(ue,{src:"/logo512.png"}),t.jsx(ue,{src:rt,backgroundColor:"white"})]}),t.jsx(N,{children:e("Welcome to Rail Map Toolkit")}),t.jsx(b,{fontSize:"lg",textAlign:"center",children:e("Select an app to start your own rail map design!")})]})}function ct(e){var a;const{tab:n,isActive:i}=e,[s]=u.useState((a=n.url)!=null?a:"/"+n.app+"/");return t.jsx(F,{display:i?"block":"none",flex:1,children:t.jsx("iframe",{id:Ke+n.id,src:s,loading:"lazy",title:n.app,width:"100%",height:"100%"})})}/**
 * @remix-run/router v1.6.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function L(){return L=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},L.apply(this,arguments)}var A;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(A||(A={}));const pe="popstate";function ut(e){e===void 0&&(e={});function n(s,a){let{pathname:l,search:c,hash:r}=s.location;return Z("",{pathname:l,search:c,hash:r},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function i(s,a){return typeof a=="string"?a:Ae(a)}return dt(n,i,null,e)}function C(e,n){if(e===!1||e===null||typeof e>"u")throw new Error(n)}function ht(){return Math.random().toString(36).substr(2,8)}function me(e,n){return{usr:e.state,key:e.key,idx:n}}function Z(e,n,i,s){return i===void 0&&(i=null),L({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof n=="string"?q(n):n,{state:i,key:n&&n.key||s||ht()})}function Ae(e){let{pathname:n="/",search:i="",hash:s=""}=e;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function q(e){let n={};if(e){let i=e.indexOf("#");i>=0&&(n.hash=e.substr(i),e=e.substr(0,i));let s=e.indexOf("?");s>=0&&(n.search=e.substr(s),e=e.substr(0,s)),e&&(n.pathname=e)}return n}function dt(e,n,i,s){s===void 0&&(s={});let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,r=A.Pop,o=null,d=m();d==null&&(d=0,c.replaceState(L({},c.state,{idx:d}),""));function m(){return(c.state||{idx:null}).idx}function v(){r=A.Pop;let f=m(),h=f==null?null:f-d;d=f,o&&o({action:r,location:g.location,delta:h})}function y(f,h){r=A.Push;let x=Z(g.location,f,h);i&&i(x,f),d=m()+1;let I=me(x,d),D=g.createHref(x);try{c.pushState(I,"",D)}catch(ln){a.location.assign(D)}l&&o&&o({action:r,location:g.location,delta:1})}function P(f,h){r=A.Replace;let x=Z(g.location,f,h);i&&i(x,f),d=m();let I=me(x,d),D=g.createHref(x);c.replaceState(I,"",D),l&&o&&o({action:r,location:g.location,delta:0})}function k(f){let h=a.location.origin!=="null"?a.location.origin:a.location.href,x=typeof f=="string"?f:Ae(f);return C(h,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,h)}let g={get action(){return r},get location(){return e(a,c)},listen(f){if(o)throw new Error("A history only accepts one active listener");return a.addEventListener(pe,v),o=f,()=>{a.removeEventListener(pe,v),o=null}},createHref(f){return n(a,f)},createURL:k,encodeLocation(f){let h=k(f);return{pathname:h.pathname,search:h.search,hash:h.hash}},push:y,replace:P,go(f){return c.go(f)}};return g}var ge;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(ge||(ge={}));function ft(e,n){if(n==="/")return e;if(!e.toLowerCase().startsWith(n.toLowerCase()))return null;let i=n.endsWith("/")?n.length-1:n.length,s=e.charAt(i);return s&&s!=="/"?null:e.slice(i)||"/"}function pt(e,n){n===void 0&&(n="/");let{pathname:i,search:s="",hash:a=""}=typeof e=="string"?q(e):e;return{pathname:i?i.startsWith("/")?i:mt(i,n):n,search:jt(s),hash:yt(a)}}function mt(e,n){let i=n.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?i.length>1&&i.pop():a!=="."&&i.push(a)}),i.length>1?i.join("/"):"/"}function Y(e,n,i,s){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+n+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+i+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gt(e){return e.filter((n,i)=>i===0||n.route.path&&n.route.path.length>0)}function xt(e,n,i,s){s===void 0&&(s=!1);let a;typeof e=="string"?a=q(e):(a=L({},e),C(!a.pathname||!a.pathname.includes("?"),Y("?","pathname","search",a)),C(!a.pathname||!a.pathname.includes("#"),Y("#","pathname","hash",a)),C(!a.search||!a.search.includes("#"),Y("#","search","hash",a)));let l=e===""||a.pathname==="",c=l?"/":a.pathname,r;if(s||c==null)r=i;else{let v=n.length-1;if(c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),v-=1;a.pathname=y.join("/")}r=v>=0?n[v]:"/"}let o=pt(a,r),d=c&&c!=="/"&&c.endsWith("/"),m=(l||c===".")&&i.endsWith("/");return!o.pathname.endsWith("/")&&(d||m)&&(o.pathname+="/"),o}const vt=e=>e.join("/").replace(/\/\/+/g,"/"),jt=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,yt=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,Re=["post","put","patch","delete"];new Set(Re);const bt=["get",...Re];new Set(bt);/**
 * React Router v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ee(){return ee=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var i=arguments[n];for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(e[s]=i[s])}return e},ee.apply(this,arguments)}const wt=u.createContext(null),re=u.createContext(null),oe=u.createContext(null),le=u.createContext({outlet:null,matches:[],isDataRoute:!1});function ce(){return u.useContext(oe)!=null}function Pe(){return ce()||C(!1),u.useContext(oe).location}function Ie(e){u.useContext(re).static||u.useLayoutEffect(e)}function Ct(){let{isDataRoute:e}=u.useContext(le);return e?At():Mt()}function Mt(){ce()||C(!1);let{basename:e,navigator:n}=u.useContext(re),{matches:i}=u.useContext(le),{pathname:s}=Pe(),a=JSON.stringify(gt(i).map(r=>r.pathnameBase)),l=u.useRef(!1);return Ie(()=>{l.current=!0}),u.useCallback(function(r,o){if(o===void 0&&(o={}),!l.current)return;if(typeof r=="number"){n.go(r);return}let d=xt(r,JSON.parse(a),s,o.relative==="path");e!=="/"&&(d.pathname=d.pathname==="/"?e:vt([e,d.pathname])),(o.replace?n.replace:n.push)(d,o.state,o)},[e,n,a,s])}var te;(function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate"})(te||(te={}));var ne;(function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId"})(ne||(ne={}));function St(e){let n=u.useContext(wt);return n||C(!1),n}function zt(e){let n=u.useContext(le);return n||C(!1),n}function kt(e){let n=zt(),i=n.matches[n.matches.length-1];return i.route.id||C(!1),i.route.id}function At(){let{router:e}=St(te.UseNavigateStable),n=kt(ne.UseNavigateStable),i=u.useRef(!1);return Ie(()=>{i.current=!0}),u.useCallback(function(a,l){l===void 0&&(l={}),i.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,ee({fromRouteId:n},l)))},[e,n])}function Rt(e){let{basename:n="/",children:i=null,location:s,navigationType:a=A.Pop,navigator:l,static:c=!1}=e;ce()&&C(!1);let r=n.replace(/^\/*/,"/"),o=u.useMemo(()=>({basename:r,navigator:l,static:c}),[r,l,c]);typeof s=="string"&&(s=q(s));let{pathname:d="/",search:m="",hash:v="",state:y=null,key:P="default"}=s,k=u.useMemo(()=>{let g=ft(d,r);return g==null?null:{location:{pathname:g,search:m,hash:v,state:y,key:P},navigationType:a}},[r,d,m,v,y,P,a]);return k==null?null:u.createElement(re.Provider,{value:o},u.createElement(oe.Provider,{children:i,value:k}))}var xe;(function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"})(xe||(xe={}));new Promise(()=>{});/**
 * React Router DOM v6.11.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function se(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((n,i)=>{let s=e[i];return n.concat(Array.isArray(s)?s.map(a=>[i,a]):[[i,s]])},[]))}function Pt(e,n){let i=se(e);if(n)for(let s of n.keys())i.has(s)||n.getAll(s).forEach(a=>{i.append(s,a)});return i}function It(e){let{basename:n,children:i,window:s}=e,a=u.useRef();a.current==null&&(a.current=ut({window:s,v5Compat:!0}));let l=a.current,[c,r]=u.useState({action:l.action,location:l.location});return u.useLayoutEffect(()=>l.listen(r),[l]),u.createElement(Rt,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:l})}var ve;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(ve||(ve={}));var je;(function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(je||(je={}));function Ot(e){let n=u.useRef(se(e)),i=u.useRef(!1),s=Pe(),a=u.useMemo(()=>Pt(s.search,i.current?null:n.current),[s.search]),l=Ct(),c=u.useCallback((r,o)=>{const d=se(typeof r=="function"?r(a):r);i.current=!0,l("?"+d,o)},[l,a]);return[a,c]}function Et(){const{openedTabs:e,activeTab:n}=ie(a=>a.app),[i,s]=Ot();return u.useEffect(()=>{var a;if(n){const l=(a=e.find(c=>c.id===n))==null?void 0:a.app;s(l?{app:l}:{})}else s({})},[n]),e.length===0?t.jsx(lt,{}):t.jsx(t.Fragment,{children:e.map(a=>t.jsx(ct,{tab:a,isActive:n===a.id},a.id))})}var Oe={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},ye=R.createContext&&R.createContext(Oe),z=globalThis&&globalThis.__assign||function(){return z=Object.assign||function(e){for(var n,i=1,s=arguments.length;i<s;i++){n=arguments[i];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},z.apply(this,arguments)},Nt=globalThis&&globalThis.__rest||function(e,n){var i={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&n.indexOf(s)<0&&(i[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)n.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(i[s[a]]=e[s[a]]);return i};function Ee(e){return e&&e.map(function(n,i){return R.createElement(n.tag,z({key:i},n.attr),Ee(n.child))})}function S(e){return function(n){return R.createElement(Lt,z({attr:z({},e.attr)},n),Ee(e.child))}}function Lt(e){var n=function(i){var s=e.attr,a=e.size,l=e.title,c=Nt(e,["attr","size","title"]),r=a||i.size||"1em",o;return i.className&&(o=i.className),e.className&&(o=(o?o+" ":"")+e.className),R.createElement("svg",z({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},i.attr,s,c,{className:o,style:z(z({color:e.color||i.color},i.style),e.style),height:r,width:r,xmlns:"http://www.w3.org/2000/svg"}),l&&R.createElement("title",null,l),e.children)};return ye!==void 0?R.createElement(ye.Consumer,null,function(i){return n(i)}):n(Oe)}function Tt(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(e)}function Ut(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-1 6h2v2h-2V7zm0 4h2v6h-2v-6z"}}]})(e)}function Bt(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}}]})(e)}function _t(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"}}]})(e)}function be(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(e)}function Wt(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}}]})(e)}function Dt(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(e)}function Ht(e){return S({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}}]})(e)}const we={"& button:first-of-type":{w:"100%",overflow:"hidden",justifyContent:"flex-start",textOverflow:"ellipsis",textAlign:"start","& span.chakra-button__icon":{ml:-1,color:"orange.300",'[data-theme="dark"] &':{color:"orange.200"}}},'&[aria-current="true"] > button':{bg:"primary.50",_hover:{bg:"primary.100"},'[data-theme="dark"] &':{bg:"primary.700",_hover:{bg:"primary.600"}}}};function Gt(e){var f;const{appId:n,onAboutOpen:i}=e,{t:s}=j(),a=ke(),l=Ne(`(min-width: ${Le.breakpoints.sm})`),{activeTab:c,openedTabs:r}=ie(h=>h.app),o=K[n],d=o.name.split(" - ").map(s).join(" - "),m=r.some(h=>h.app===n),v=!o.allowMultiInstances&&((f=r.find(h=>h.id===c))==null?void 0:f.app)===n,y=h=>{m||p.event(E.OPEN_APP,{appId:n,isOpenInNew:h}),a(h?Xe(n):Ze({appId:n})),l[0]||(a(X()),p.toggleNavMenu(!1))},P=h=>{a(et(h)),l[0]||(a(X()),p.toggleNavMenu(!1))},k=h=>{a(tt(h)),p.event(E.CLOSE_APP,{app:n})},g=h=>{a(nt(h)),p.event(E.CLOSE_APP,{app:h})};return t.jsxs(t.Fragment,{children:[t.jsxs(he,{variant:v?"solid":"ghost",size:"md",isAttached:!0,"aria-current":v,sx:we,children:[t.jsx(w,{onClick:()=>y(!1),leftIcon:m?t.jsx(_t,{title:s("Running")}):t.jsx(F,{w:4}),children:d}),o.allowMultiInstances&&t.jsx(V,{"aria-label":s("New tab"),title:s("New tab"),icon:t.jsx(Bt,{}),onClick:()=>y(!0)}),t.jsxs(Te,{children:[t.jsx(Ue,{as:V,icon:t.jsx(Dt,{}),"aria-label":s("More"),title:s("More")}),t.jsxs(Be,{children:[m&&t.jsx(de,{icon:t.jsx(be,{}),onClick:()=>g(n),children:o.allowMultiInstances?s("Close all tabs"):s("Close app")}),t.jsx(de,{icon:t.jsx(Tt,{}),onClick:i,children:s("About")})]})]})]}),o.allowMultiInstances&&r.filter(h=>h.app===n).map((h,x)=>{const I=h.id===c;return t.jsxs(he,{variant:I?"solid":"ghost",size:"sm",ml:8,mr:1,isAttached:!0,"aria-current":I,sx:we,children:[t.jsxs(w,{onClick:()=>P(h.id),children:[t.jsx(Se,{mr:2,children:x+1}),s("Tab")+" "+(x+1).toString()+" - "+d]}),t.jsx(V,{"aria-label":s("Close tab"),title:s("Close tab"),icon:t.jsx(be,{}),onClick:()=>k(h.id)})]},h.id)})]})}const Vt=async e=>{const n=`/${e}/info.json`;try{return(await(await fetch(n)).json()).version}catch(i){return console.log(`Failed to get version for ${e}`),"unknown"}};function Ft(e){var r,o,d;const{appId:n,onClose:i}=e,{t:s}=j(),[a,l]=u.useState("Unknown"),c=n?(d=(o=(r=K[n])==null?void 0:r.url)==null?void 0:o.split("/"))==null?void 0:d[1]:void 0;return u.useEffect(()=>{c?Vt(c).then(m=>l(m)):l("Unknown")},[c]),t.jsxs(T,{isOpen:!!n,onClose:i,size:"xl",scrollBehavior:"inside",children:[t.jsx($,{}),t.jsxs(U,{children:[t.jsxs(B,{children:[s("About")+" "+(n?K[n].name.split(" - ").map(s).join(" - "):""),t.jsx(Se,{ml:1,children:a})]}),t.jsx(ae,{}),t.jsx(_,{}),t.jsx(W,{children:t.jsx(w,{colorScheme:"primary",onClick:()=>window.open("https://github.com/railmapgen/"+c,"_blank"),children:s("Visit GitHub")})})]})]})}const $t={flexDirection:"column","& h4":{mx:3,my:2},"& > div":{flexDirection:"column"}};function qt(){const{t:e}=j(),[n,i]=u.useState(),s=st(p.getEnv());return t.jsxs(M,{sx:$t,children:[t.jsx(N,{as:"h4",size:"md",children:e("Apps")}),t.jsx(M,{children:s.map(a=>t.jsx(Gt,{appId:a,onAboutOpen:()=>i(a)},a))}),t.jsx(Ft,{appId:n,onClose:()=>i(void 0)})]})}const Jt={flexDirection:"column",py:1,"& h4":{mx:3,my:2},"& > div":{px:2}};function Qt(){const{t:e}=j(),{setColourMode:n}=_e(),i={light:e("Light"),dark:e("Dark"),system:e("System")},a=p.getInstance()===J.GITHUB?J.GITLAB:J.GITHUB,l=()=>{const r=it(a,p.getEnv());window.open(r,"_blank"),p.event(E.SWITCH_MIRROR,{mirrorUrl:r})},c=[{type:"select",label:e("Language"),value:p.getLanguage(),options:We.reduce((r,o)=>({...r,[o]:De[o][o]}),{}),onChange:r=>{const o=r;p.setLanguage(o),p.getI18nInstance().changeLanguage(o),p.event(E.CHANGE_LANGUAGE,{language:o})}},{type:"select",label:e("Appearance"),value:p.getColourMode(),options:i,onChange:r=>n(r)},{type:"custom",label:e("Switch to")+" "+at[a],component:t.jsx(w,{size:"xs",onClick:l,children:e("Switch")}),minW:"full",oneLine:!0}];return t.jsxs(M,{sx:Jt,children:[t.jsx(N,{as:"h4",size:"md",children:e("Settings")}),t.jsx(F,{children:t.jsx(ze,{fields:c})})]})}const Yt=["52PD","linchen1965"],Kt=["jealousyge","Jay20081229","clearng-kly","Dingdong2334","C1P918R","AnDanJuneUnderline","GrassRabbit1410","xiany114514","Andy1782010","Thomastzc","Tianxiu11111"];function Xt(e){const{isOpen:n,onClose:i}=e,{t:s}=j();return t.jsxs(T,{isOpen:n,onClose:i,size:"xl",scrollBehavior:"inside",children:[t.jsx($,{}),t.jsxs(U,{children:[t.jsx(B,{children:s("Contributors")}),t.jsx(ae,{}),t.jsxs(_,{children:[t.jsx(N,{as:"h6",size:"xs",my:1,children:s("Core contributors")}),t.jsxs(Ce,{children:[t.jsxs(H,{size:"lg",minW:"80%",onClick:()=>window.open("https://github.com/wongchito","_blank"),cursor:"pointer",children:[t.jsx(G,{src:"https://github.com/wongchito.png",size:"lg",my:2,ml:-1,mr:2}),t.jsxs(O,{display:"block",children:[t.jsx(b,{fontSize:"lg",fontWeight:"bold",mb:1,children:"Chito Wong"}),t.jsx(b,{fontSize:"sm",children:"Project initiator"}),t.jsx(b,{fontSize:"sm",children:"Author of MTR and Guangzhou Metro styles"})]})]}),t.jsxs(H,{size:"lg",minW:"80%",onClick:()=>window.open("https://github.com/thekingofcity","_blank"),cursor:"pointer",children:[t.jsx(G,{src:"https://github.com/thekingofcity.png",size:"lg",my:2,ml:-1,mr:2}),t.jsxs(O,{display:"block",children:[t.jsx(b,{fontSize:"lg",fontWeight:"bold",mb:1,children:"thekingofcity"}),t.jsx(b,{fontSize:"sm",children:"Author of Shanghai Metro style"}),t.jsx(b,{fontSize:"sm",children:"Desktop version (Electron) maintainer"})]})]})]}),t.jsx(N,{as:"h6",size:"xs",my:1,children:s("Resource contributors")}),t.jsxs(M,{wrap:"wrap",children:[Yt.map(a=>t.jsxs(H,{size:"lg",mb:1,mr:1,flex:"100%",onClick:()=>window.open(`https://github.com/railmapgen/rmg/issues?q=is:issue+author:${a}`,"_blank"),cursor:"pointer",children:[t.jsx(G,{src:`https://github.com/${a}.png`,size:"xs",ml:-1,mr:2}),t.jsx(O,{children:a}),t.jsx(O,{flexGrow:1}),t.jsx(O,{children:t.jsx(b,{fontSize:"sm",children:s("Resource Administrator")})})]},a)),Kt.map(a=>t.jsxs(H,{size:"lg",mb:1,mr:1,onClick:()=>window.open(`https://github.com/railmapgen/rmg/issues?q=is:issue+author:${a}`,"_blank"),cursor:"pointer",children:[t.jsx(G,{src:`https://github.com/${a}.png`,size:"xs",ml:-1,mr:2}),t.jsx(O,{children:a})]},a))]})]}),t.jsx(W,{children:t.jsx(w,{colorScheme:"primary",onClick:()=>window.open("https://github.com/railmapgen/rmg/wiki/How-to-add-color-palette-and-line-templates","_blank"),children:s("Contribution Wiki")})})]})]})}function Zt(e){const{isOpen:n,onClose:i}=e,{t:s}=j(),[a,l]=u.useState(p.isAllowAnalytics()),[c,r]=u.useState();u.useEffect(()=>{n||r(void 0)},[n]);const o=[{type:"switch",label:s("Allow cookies to help improve our website"),isChecked:a,onChange:l,oneLine:!0}],d=()=>{p.allowAnalytics(a).refreshRequired?r("Refreshing is required for changes to take effect."):i()};return t.jsxs(T,{isOpen:n,onClose:i,children:[t.jsx($,{}),t.jsxs(U,{children:[c&&t.jsxs(He,{status:"info",variant:"solid",size:"xs",children:[t.jsx(Ge,{}),s(c)]}),t.jsxs(F,{position:"relative",children:[t.jsx(B,{children:s("Privacy settings")}),t.jsx(ae,{})]}),t.jsx(_,{children:t.jsx(ze,{fields:o})}),t.jsx(W,{children:t.jsx(w,{colorScheme:"primary",isDisabled:!!c,onClick:d,children:s("Save")})})]})]})}function en(e){return S({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M126.12 315.1A47.06 47.06 0 1179.06 268h47.06zm23.72 0a47.06 47.06 0 0194.12 0v117.84a47.06 47.06 0 11-94.12 0zm47.06-188.98A47.06 47.06 0 11244 79.06v47.06zm0 23.72a47.06 47.06 0 010 94.12H79.06a47.06 47.06 0 010-94.12zm188.98 47.06a47.06 47.06 0 1147.06 47.1h-47.06zm-23.72 0a47.06 47.06 0 01-94.12 0V79.06a47.06 47.06 0 1194.12 0zM315.1 385.88a47.06 47.06 0 11-47.1 47.06v-47.06zm0-23.72a47.06 47.06 0 010-94.12h117.84a47.06 47.06 0 110 94.12z"}}]})(e)}function tn(){const{t:e}=j(),[n,i]=u.useState(!1),[s,a]=u.useState(!1);return t.jsxs(M,{direction:"column",children:[t.jsx(Ve,{}),t.jsxs(Fe,{templateColumns:"repeat(3, auto)",children:[t.jsx(Q,{children:t.jsx(w,{as:$e,variant:"ghost",size:"sm",w:"100%",leftIcon:t.jsx(en,{}),target:"_blank",href:"https://join.slack.com/t/railmapgenerator/shared_invite/zt-1odhhta3n-DdZF~fnVwo_q0S0RJmgV8A",children:"Slack"})}),t.jsx(Q,{children:t.jsx(w,{variant:"ghost",size:"sm",w:"100%",leftIcon:t.jsx(Ht,{}),onClick:()=>i(!0),children:e("Contributors")})}),t.jsx(Q,{children:t.jsx(w,{variant:"ghost",size:"sm",w:"100%",leftIcon:t.jsx(Ut,{}),onClick:()=>a(!0),children:e("Privacy")})})]}),t.jsx(Xt,{isOpen:n,onClose:()=>i(!1)}),t.jsx(Zt,{isOpen:s,onClose:()=>a(!1)})]})}const nn={flexShrink:0,flexDirection:"column",overflow:"hidden",alignItems:"flex-end",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",boxShadow:"lg",zIndex:100,".show-menu &":{maxW:{base:"100%",sm:360},w:{base:"100%",sm:"unset"},visibility:"initial"},"& > div":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:360},"& > div:nth-of-type(1)":{flex:0,flexDirection:"row",alignItems:"center",minHeight:10,pl:12},"& > div:nth-of-type(2)":{flexDirection:"column",flex:1,overflow:"hidden","& > div:first-of-type":{flex:1,overflowY:"auto"}}}};function sn(){const{t:e}=j();return t.jsx(M,{as:"section",sx:nn,children:t.jsxs(M,{children:[t.jsxs(M,{children:[t.jsx(N,{as:"h4",size:"md",children:e("Rail Map Toolkit")}),t.jsx(qe,{environment:p.getEnv(),version:p.getAppVersion()})]}),t.jsxs(M,{children:[t.jsx(qt,{}),t.jsx(Qt,{})]}),t.jsx(tn,{})]})})}function an(e){const{isOpen:n,onClose:i}=e,{t:s}=j(),a=u.useRef(null),l=()=>{p.allowAnalytics(!0),i()},c=()=>{p.allowAnalytics(!1).refreshRequired?window.location.reload():i()};return t.jsxs(T,{initialFocusRef:a,isOpen:n,onClose:()=>{},children:[t.jsx($,{}),t.jsxs(U,{children:[t.jsx(B,{children:s("CookiesModal.header")}),t.jsxs(_,{children:[t.jsx(b,{children:s("CookiesModal.text1")}),t.jsx(b,{mt:2,children:s("CookiesModal.text2")}),t.jsx(Je,{children:t.jsxs(Qe,{children:[" ",s("CookiesModal.item1")]})}),t.jsx(b,{mt:2,children:s("CookiesModal.text3")})]}),t.jsx(W,{children:t.jsxs(Me,{children:[t.jsx(w,{variant:"ghost",onClick:c,children:s("CookiesModal.reject")}),t.jsx(w,{ref:a,colorScheme:"primary",onClick:l,children:s("CookiesModal.accept")})]})})]})]})}const rn=()=>{};function on(){const{t:e}=j();return t.jsx(T,{isOpen:!0,onClose:rn,children:t.jsxs(U,{children:[t.jsx(B,{children:e("Rail Map Toolkit is opened in another window")}),t.jsx(_,{children:e("You cannot open multiple Rail Map Toolkit at the same time. Please close this window.")}),t.jsx(W,{})]})})}function hn(){const{t:e}=j(),n=ke(),{isPrimary:i,isShowMenu:s}=ie(r=>r.app),[a,l]=u.useState(!1);u.useEffect(()=>{p.isAnalyticsQADone()||l(!0)},[]);const c=()=>{p.toggleNavMenu(!s),n(X()),p.event(E.TOGGLE_NAV_MENU,{})};return i===!1?t.jsx(fe,{children:t.jsx(on,{})}):t.jsx(It,{basename:"/",children:t.jsxs(fe,{className:s?"show-menu":"",children:[t.jsx(V,{variant:s?"ghost":"solid",colorScheme:s?void 0:"primary",size:"md","aria-label":e("Toggle menu"),title:e("Toggle menu"),icon:t.jsx(Wt,{}),position:"absolute",zIndex:110,borderRadius:0,onClick:c}),t.jsxs(Ye,{sx:{flexDirection:"row"},children:[t.jsx(sn,{}),t.jsx(Et,{})]}),t.jsx(an,{isOpen:a,onClose:()=>l(!1)})]})})}export{hn as default};
