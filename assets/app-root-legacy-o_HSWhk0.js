System.register(["./chakra-legacy-Ir01YGBP.js","./react-legacy-UAfVcrmt.js","./index-legacy-lwL59wGz.js"],(function(n,e){"use strict";var t,i,s,a,o,r,l,c,h,d,u,x,p,g,j,m,v,f,z,b,k,w,H,C,y,M,S,A,_,D,I,R,L,O,T,V,E,P,N,B,W,G,$,F,U,q,Y,Z,J,K,Q,X,nn,en,tn,sn,an,on,rn,ln,cn,hn,dn,un,xn,pn,gn,jn,mn,vn,fn,zn,bn,kn,wn;return{setters:[n=>{t=n.a1,i=n.H,s=n.a,a=n.F,o=n.ao,r=n.ap,l=n.aq,c=n.ar,h=n.as,d=n._,u=n.B,x=n.at,p=n.ac,g=n.ak,j=n.au,m=n.a0,v=n.ad,f=n.av,z=n.aw,b=n.ax,k=n.ay,w=n.L,H=n.az,C=n.U,y=n.aA,M=n.X,S=n.Y,A=n.Z,_=n.$,D=n.aB,I=n.aC,R=n.aD,L=n.aE,O=n.aF,T=n.W,V=n.g,E=n.a4,P=n.a5,N=n.D,B=n.a3,W=n.a7,G=n.aG,$=n.aH},n=>{F=n.r,U=n.l,q=n.m,Y=n.B},n=>{Z=n.R,J=n.a,K=n.b,Q=n.c,X=n.d,nn=n.F,en=n.u,tn=n.e,sn=n.f,an=n.r,on=n.E,rn=n.o,ln=n.g,cn=n.t,hn=n.s,dn=n.h,un=n.i,xn=n.j,pn=n.M,gn=n.k,jn=n.l,mn=n.m,vn=n.n,fn=n.p,zn=n.q,bn=n.v,kn=n.w,wn=n.x}],execute:function(){n("default",(function(){const{t:n}=U(),e=tn(),{isPrimary:t,isTerminated:s,isShowMenu:a}=en((n=>n.app)),[o,r]=F.useState(!1);return F.useEffect((()=>{an.isAnalyticsQADone()||r(!0)}),[]),s?i.jsx(kn,{children:i.jsx(Ie,{})}):!1===t?i.jsx(kn,{children:i.jsx(_e,{})}):i.jsx(Y,{basename:"/",children:i.jsxs(kn,{className:a?"show-menu":"",children:[i.jsx(v,{variant:a?"ghost":"solid",colorScheme:a?void 0:"primary",size:"md","aria-label":n("Toggle menu"),title:n("Toggle menu"),icon:i.jsx(Pn,{}),position:"absolute",zIndex:110,borderRadius:0,onClick:()=>{an.toggleNavMenu(!a),e(cn()),an.event(on.TOGGLE_NAV_MENU,{})}}),i.jsxs(wn,{sx:{flexDirection:"row"},children:[i.jsx(Me,{}),i.jsx(In,{})]}),i.jsx(Se,{isOpen:o,onClose:()=>r(!1)})]})})}));var e=["en","zh-Hans","zh-Hant"],Hn=["ja","ko"],Cn={ar:{ar:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",en:"Arabic",ko:"ì•„ëžì–´","zh-Hans":"é˜¿æ‹‰ä¼¯æ–‡","zh-Hant":"é˜¿æ‹‰ä¼¯æ–‡"},az:{az:"AzÉ™rbaycanca",en:"Azerbaijani",ko:"ì•„ì œë¥´ë°”ì´ìž”ì–´","zh-Hans":"é˜¿å¡žæ‹œç–†æ–‡","zh-Hant":"é˜¿å¡žæ‹œç–†æ–‡"},ca:{ca:"CatalÃ ",en:"Catalan",ko:"ì¹´íƒˆë£¨ëƒì–´","zh-Hans":"åŠ æ³°ç½—å°¼äºšæ–‡","zh-Hant":"åŠ æ³°éš†å°¼äºžæ–‡"},da:{da:"Dansk",en:"Danish",ko:"ë´ë§ˆí¬ì–´","zh-Hans":"ä¸¹éº¦æ–‡","zh-Hant":"ä¸¹éº¥æ–‡"},de:{de:"Deutsch",en:"German",ko:"ë…ì¼ì–´","zh-Hans":"å¾·æ–‡","zh-Hant":"å¾·æ–‡"},el:{el:"Î•Î»Î»Î·Î½Î¹ÎºÎ¬",en:"Greek",ko:"ê·¸ë¦¬ìŠ¤ì–´","zh-Hans":"å¸Œè…Šæ–‡","zh-Hant":"å¸Œè‡˜æ–‡"},en:{en:"English",ja:"è‹±èªž",ko:"ì˜ì–´","zh-Hans":"è‹±æ–‡","zh-Hant":"è‹±æ–‡"},es:{en:"Spanish",es:"EspaÃ±ol",ko:"ìŠ¤íŽ˜ì¸ì–´","zh-Hans":"è¥¿ç­ç‰™æ–‡","zh-Hant":"è¥¿ç­ç‰™æ–‡"},fa:{en:"Persian",fa:"ÙØ§Ø±Ø³ÛŒ",ko:"íŽ˜ë¥´ì‹œì•„ì–´","zh-Hans":"æ³¢æ–¯æ–‡","zh-Hant":"æ³¢æ–¯æ–‡"},fr:{en:"French",fr:"FranÃ§ais",ko:"í”„ëž‘ìŠ¤ì–´","zh-Hans":"æ³•æ–‡","zh-Hant":"æ³•æ–‡"},ga:{en:"Irish",ga:"Gaeilge",ko:"ì•„ì¼ëžœë“œì–´","zh-Hans":"çˆ±å°”å…°æ–‡","zh-Hant":"æ„›çˆ¾è˜­æ–‡"},gd:{en:"Scottish Gaelic",gd:"GÃ idhlig",ko:"ìŠ¤ì½”í‹€ëžœë“œ ê²Œì¼ì–´","zh-Hans":"è‹æ ¼å…°ç›–å°”æ–‡","zh-Hant":"è˜‡æ ¼è˜­è“‹çˆ¾æ–‡"},hi:{en:"Hindi",hi:"à¤¹à¤¿à¤¨à¥à¤¦à¥€",ko:"ížŒë””ì–´","zh-Hans":"å°åœ°æ–‡","zh-Hant":"å°åœ°æ–‡"},hu:{en:"Hungarian",hu:"Magyar",ko:"í—ê°€ë¦¬ì–´","zh-Hans":"åŒˆç‰™åˆ©æ–‡","zh-Hant":"åŒˆç‰™åˆ©æ–‡"},id:{en:"Indoesian",id:"Bahasa Indonesia",ko:"ì¸ë„ë„¤ì‹œì•„ì–´","zh-Hans":"å°å°¼æ–‡","zh-Hant":"å°å°¼æ–‡"},it:{en:"Italian",it:"Italiano",ko:"ì´íƒˆë¦¬ì•„ì–´","zh-Hans":"æ„å¤§åˆ©æ–‡","zh-Hant":"æ„å¤§åˆ©æ–‡"},ja:{en:"Japanese",ja:"æ—¥æœ¬èªž",ko:"ì¼ë³¸ì–´","zh-Hans":"æ—¥æ–‡","zh-Hant":"æ—¥æ–‡"},kk:{en:"Kazakh",kk:"ÒšÐ°Ð·Ð°Ò›ÑˆÐ°",ko:"ì¹´ìžíì–´","zh-Hans":"å“ˆè¨å…‹æ–‡","zh-Hant":"å“ˆè–©å…‹æ–‡"},ko:{en:"Korean",ja:"éŸ“å›½èªž",ko:"í•œêµ­ì–´","zh-Hans":"éŸ©æ–‡","zh-Hant":"éŸ“æ–‡"},ms:{en:"Malay",ko:"ë§ë ˆì´ì–´",ms:"Bahasa Melayu","zh-Hans":"é©¬æ¥æ–‡","zh-Hant":"é¦¬ä¾†æ–‡"},no:{en:"Norwegian",ko:"ë…¸ë¥´ì›¨ì´ì–´",no:"Norsk","zh-Hans":"æŒªå¨æ–‡","zh-Hant":"æŒªå¨æ–‡"},pl:{en:"Polish",ko:"í´ëž€ë“œì–´",pl:"Polski","zh-Hans":"æ³¢å…°æ–‡","zh-Hant":"æ³¢è˜­æ–‡"},pt:{en:"Portuguese",ko:"í¬ë¥´íˆ¬ê°ˆì–´",pt:"PortuguÃªs","zh-Hans":"è‘¡è„ç‰™æ–‡","zh-Hant":"è‘¡è„ç‰™æ–‡"},ro:{en:"Romanian",ko:"ë£¨ë§ˆë‹ˆì•„ì–´",ro:"RomÃ¢nÄƒ","zh-Hans":"ç½—é©¬å°¼äºšæ–‡","zh-Hant":"ç¾…é¦¬å°¼äºžæ–‡"},ru:{en:"Russian",ko:"ëŸ¬ì‹œì•„ì–´",ru:"Ð ÑƒÑÑÐºÐ¸Ð¹","zh-Hans":"ä¿„æ–‡","zh-Hant":"ä¿„æ–‡"},sv:{en:"Swedish",ko:"ìŠ¤ì›¨ë´ì–´",sv:"Svenska","zh-Hans":"ç‘žå…¸æ–‡","zh-Hant":"ç‘žå…¸æ–‡"},th:{en:"Thai",ko:"íƒœêµ­ì–´",th:"à¸ à¸²à¸©à¸²à¹„à¸—à¸¢","zh-Hans":"æ³°æ–‡","zh-Hant":"æ³°æ–‡"},tr:{en:"Turkish",ko:"íŠ€ë¥´í‚¤ì˜ˆì–´",tr:"TÃ¼rkÃ§e","zh-Hans":"åœŸè€³å…¶æ–‡","zh-Hant":"åœŸè€³å…¶æ–‡"},uk:{en:"Ukrainian",ko:"ìš°í¬ë¼ì´ë‚˜ì–´",uk:"Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°","zh-Hans":"ä¹Œå…‹å…°æ–‡","zh-Hant":"çƒå…‹è˜­æ–‡"},ur:{en:"Urdo",ko:"ìš°ë¥´ë‘ì–´",ur:"Ø§Ø±Ø¯Ùˆ","zh-Hans":"ä¹Œå°”éƒ½æ–‡","zh-Hant":"çƒçˆ¾éƒ½æ–‡"},uz:{en:"Uzbek",ko:"ìš°ì¦ˆë² í¬ì–´",uz:"OÊ»zbekcha","zh-Hans":"ä¹Œå…¹åˆ«å…‹æ–‡","zh-Hant":"çƒèŒ²åˆ¥å…‹æ–‡"},vi:{en:"Vietnamese",ko:"ë² íŠ¸ë‚¨ì–´",vi:"Tiáº¿ng Viá»‡t","zh-Hans":"è¶Šå—æ–‡","zh-Hant":"è¶Šå—æ–‡"},"zh-Hans":{en:"Simplified Chinese",ja:"ä¸­å›½èªžï¼ˆç°¡ä½“å­—ï¼‰",ko:"ì¤‘êµ­ì–´ ê°„ì²´ìž","zh-Hans":"ç®€ä½“ä¸­æ–‡","zh-Hant":"ç°¡é«”ä¸­æ–‡"},"zh-Hant":{en:"Traditional Chinese",ja:"ä¸­å›½èªžï¼ˆç¹ä½“å­—ï¼‰",ko:"ì¤‘êµ­ì–´ ì •ì²´ìž","zh-Hans":"ç¹ä½“ä¸­æ–‡","zh-Hant":"ç¹é«”ä¸­æ–‡"}},yn=function(n){var e=n.children,a=n.noWrap,o=t("RmgOutput",{noWrap:a});return i.jsx(s.output,{sx:o,children:e})};function Mn(n){var e=n.fields,t=n.noLabel,s=n.minW;return i.jsx(a,{wrap:"wrap",children:e.map((function(n,e){if(n.hidden)return i.jsx(F.Fragment,{},e);var a=n.minW||s,r="full"===a;return i.jsx(Z,{className:r?"mw-full":"",label:n.label,flex:r?void 0:1,minW:r?void 0:a,noLabel:t,oneLine:n.oneLine,children:function(n){switch(n.type){case"input":return i.jsx(X,{placeholder:n.placeholder,defaultValue:n.value,type:n.variant,validator:n.validator,onDebouncedChange:n.onChange,delay:n.debouncedDelay,optionList:n.optionList,isDisabled:n.isDisabled});case"output":return i.jsx(yn,{noWrap:!0,children:n.value});case"textarea":return i.jsx(Q,{placeholder:n.placeholder,defaultValue:n.value,onDebouncedChange:n.onChange,isDisabled:n.isDisabled});case"slider":return i.jsx(K,{defaultValue:n.value,min:n.min,max:n.max,step:n.step,onThrottledChange:n.onChange,leftIcon:n.leftIcon,rightIcon:n.rightIcon,isDisabled:n.isDisabled});case"select":return i.jsx(J,{defaultValue:n.value,onChange:function(e){var t,i=e.target.value;return null===(t=n.onChange)||void 0===t?void 0:t.call(n,"number"==typeof n.value?Number(i):i.toString())},options:n.options,disabledOptions:n.disabledOptions,isInvalid:n.isInvalid,isDisabled:n.isDisabled});case"switch":return i.jsx(o,{isChecked:n.isChecked,isDisabled:n.isDisabled,onChange:function(e){var t,i=e.target.checked;return null===(t=n.onChange)||void 0===t?void 0:t.call(n,i)}});case"custom":return n.component;default:return i.jsx("div",{})}}(n)},e)}))})}const Sn="/assets/rmp-logo512-Hh3pLqZ3.png",An={flex:1,justifyContent:"center",mb:10,"& > div":{mb:3},"& img":{w:120,p:2,backgroundColor:"white",borderRadius:12}};function _n(){const{t:n}=U();return i.jsxs(r,{sx:An,children:[i.jsxs(l,{spacing:3,children:[i.jsx(c,{src:"/logo512.png"}),i.jsx(c,{src:Sn,backgroundColor:"white"})]}),i.jsx(h,{children:n("Welcome to Rail Map Toolkit")}),i.jsx(d,{fontSize:"lg",textAlign:"center",children:n("Select an app to start your own rail map design!")})]})}function Dn(n){var e;const{tab:t,isActive:s}=n,[a]=F.useState(null!==(e=t.url)&&void 0!==e?e:"/"+t.app+"/");return i.jsx(u,{display:s?"block":"none",flex:1,children:i.jsx("iframe",{id:nn+t.id,src:a,loading:"lazy",title:t.app,width:"100%",height:"100%"})})}function In(){const{openedTabs:n,activeTab:e}=en((n=>n.app)),[t,s]=q();return F.useEffect((()=>{if(e){var t;const i=null===(t=n.find((n=>n.id===e)))||void 0===t?void 0:t.app;s(i?{app:i}:{})}else s({})}),[e]),0===n.length?i.jsx(_n,{}):i.jsx(i.Fragment,{children:n.map((n=>i.jsx(Dn,{tab:n,isActive:e===n.id},n.id)))})}function Rn(n){return x({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(n)}function Ln(n){return x({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},child:[]}]})(n)}function On(n){return x({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 1 3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-1 6h2v2h-2V7zm0 4h2v6h-2v-6z"},child:[]}]})(n)}function Tn(n){return x({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(n)}function Vn(n){return x({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"},child:[]}]})(n)}function En(n){return x({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(n)}function Pn(n){return x({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"},child:[]}]})(n)}function Nn(n){return x({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(n)}function Bn(n){return x({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(n)}function Wn(n){return x({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3 1 9l11 6 9-4.91V17h2V9L12 3z"},child:[]}]})(n)}const Gn={"& button:first-of-type":{w:"100%",overflow:"hidden",justifyContent:"flex-start",textOverflow:"ellipsis",textAlign:"start","& span.chakra-button__icon":{ml:-1,color:"orange.300",'[data-theme="dark"] &':{color:"orange.200"}}},'&[aria-current="true"] > button':{bg:"primary.50",_hover:{bg:"primary.100"},'[data-theme="dark"] &':{bg:"primary.700",_hover:{bg:"primary.600"}}}};function $n(n){var e;const{appId:t,onAboutOpen:s}=n,{t:a}=U(),o=tn(),r=p(`(min-width: ${g.breakpoints.sm})`),{activeTab:l,openedTabs:c}=en((n=>n.app)),h=sn[t],d=h.name.split(" - ").map((n=>a(n))).join(" - "),x=c.some((n=>n.app===t)),H=!h.allowMultiInstances&&(null===(e=c.find((n=>n.id===l)))||void 0===e?void 0:e.app)===t,C=n=>{x||an.event(on.OPEN_APP,{appId:t,isOpenInNew:n}),o(n?rn(t):ln({appId:t})),r[0]||(o(cn()),an.toggleNavMenu(!1))};return i.jsxs(i.Fragment,{children:[i.jsxs(j,{variant:H?"solid":"ghost",size:"md",isAttached:!0,"aria-current":H,sx:Gn,children:[i.jsx(m,{onClick:()=>C(!1),leftIcon:x?i.jsx(Vn,{title:a("Running")}):i.jsx(u,{w:4}),children:d}),h.allowMultiInstances&&i.jsx(v,{"aria-label":a("New tab"),title:a("New tab"),icon:i.jsx(Tn,{}),onClick:()=>C(!0)}),i.jsxs(f,{children:[i.jsx(z,{as:v,icon:i.jsx(Nn,{}),"aria-label":a("More"),title:a("More")}),i.jsxs(b,{children:[x&&i.jsx(k,{icon:i.jsx(En,{}),onClick:()=>{return o(un(n=t)),void an.event(on.CLOSE_APP,{app:n});var n},children:h.allowMultiInstances?a("Close all tabs"):a("Close app")}),i.jsx(k,{icon:i.jsx(Rn,{}),onClick:s,children:a("About")})]})]})]}),h.allowMultiInstances&&c.filter((n=>n.app===t)).map(((n,e)=>{const s=n.id===l;return i.jsxs(j,{variant:s?"solid":"ghost",size:"sm",ml:8,mr:1,isAttached:!0,"aria-current":s,sx:Gn,children:[i.jsxs(m,{onClick:()=>{return e=n.id,o(hn(e)),void(r[0]||(o(cn()),an.toggleNavMenu(!1)));var e},children:[i.jsx(w,{mr:2,children:e+1}),a("Tab")+" "+(e+1).toString()+" - "+d]}),i.jsx(v,{"aria-label":a("Close tab"),title:a("Close tab"),icon:i.jsx(En,{}),onClick:()=>{return e=n.id,o(dn(e)),void an.event(on.CLOSE_APP,{app:t});var e}})]},n.id)}))]})}const Fn=async n=>{const e=`/${n}/info.json`;try{const n=await fetch(e);return(await n.json()).version}catch(t){return console.log(`Failed to get version for ${n}`),"unknown"}},Un=async(n,e)=>{const t=`/${n}/legacy-contributor-list.txt`,i=await fetch(t,{signal:e});return(await i.text()).split("\n")};function qn(n){var e;const{appId:t,onClose:s}=n,{t:a}=U(),[o,r]=F.useState("Unknown"),l=t?null===(e=sn[t])||void 0===e||null===(e=e.url)||void 0===e||null===(e=e.split("/"))||void 0===e?void 0:e[1]:void 0;return F.useEffect((()=>{l?Fn(l).then((n=>r(n))):r("Unknown")}),[l]),i.jsxs(H,{isOpen:!!t,onClose:s,size:"xl",scrollBehavior:"inside",children:[i.jsx(C,{}),i.jsxs(y,{children:[i.jsxs(M,{children:[a("About")+" "+(t?sn[t].name.split(" - ").map((n=>a(n))).join(" - "):""),i.jsx(w,{ml:1,children:o})]}),i.jsx(S,{}),i.jsx(A,{}),i.jsx(_,{children:i.jsx(m,{colorScheme:"primary",onClick:()=>window.open("https://github.com/railmapgen/"+l,"_blank"),children:a("Visit GitHub")})})]})]})}const Yn={flexDirection:"column","& h4":{mx:3,my:2},"& > div":{flexDirection:"column"}};function Zn(){const{t:n}=U(),[e,t]=F.useState(),s=xn(an.getEnv());return i.jsxs(a,{sx:Yn,children:[i.jsx(h,{as:"h4",size:"md",children:n("Apps")}),i.jsx(a,{children:s.map((n=>i.jsx($n,{appId:n,onAboutOpen:()=>t(n)},n)))}),i.jsx(qn,{appId:e,onClose:()=>t(void 0)})]})}const Jn={flexDirection:"column",py:1,"& h4":{mx:3,my:2},"& > div":{px:2,"& button":{w:"100%"}}};function Kn(){const{t:n}=U(),e=pn.filter((n=>n!==an.getInstance()));return i.jsxs(a,{sx:Jn,children:[i.jsx(h,{as:"h4",size:"md",children:n("More mirrors")}),i.jsx(D,{templateColumns:`repeat(${e.length}, auto)`,gap:2,children:e.map((e=>i.jsx(I,{children:i.jsx(m,{variant:"outline",size:"xs",rightIcon:i.jsx(Ln,{}),onClick:()=>(n=>{if("Tauri"===n){const e=new Date;e.getFullYear(),String(e.getMonth()+1).padStart(2,"0"),String(e.getFullYear()).slice(-2),e.getMonth();const t=navigator.platform;t.includes("Linux")||t.includes("Mac");const i=gn[n]+"/tauri-${tag}/railmapgen_${ver}_${suffix}";window.open(i,"_blank"),an.event(on.DOWNLOAD_APP,{})}else{const e=gn[n];window.open(e,"_blank"),an.event(on.SWITCH_MIRROR,{url:e})}})(e),children:n("Tauri"===e?"Download desktop app":e)},e)},e)))})]})}const Qn={"& > span":{minW:"75%",borderRadius:"lg",cursor:"pointer","& > span:last-of-type":{display:"block"},"& p":{fontSize:"sm","&:first-of-type":{fontSize:"lg",fontWeight:"bold",mb:1}}},"& .chakra-avatar":{ml:1,mr:3,my:4}};function Xn(){const{t:n}=U();return i.jsxs(jn,{children:[i.jsx(mn,{children:i.jsx(h,{as:"h5",size:"sm",children:n("Developer team")})}),i.jsxs(r,{sx:Qn,children:[i.jsxs(R,{size:"lg",onClick:()=>window.open("https://github.com/wongchito","_blank"),children:[i.jsx(L,{src:"https://github.com/wongchito.png",size:"lg"}),i.jsxs(O,{children:[i.jsx(d,{children:"Chito Wong"}),i.jsx(d,{children:"Author of Rail Map Toolkit platform"}),i.jsx(d,{children:"Author of Rail Map Generator"})]})]}),i.jsxs(R,{size:"lg",onClick:()=>window.open("https://github.com/thekingofcity","_blank"),children:[i.jsx(L,{src:"https://github.com/thekingofcity.png",size:"lg"}),i.jsxs(O,{children:[i.jsx(d,{children:"thekingofcity"}),i.jsx(d,{children:"Author of Rail Map Painter"}),i.jsx(d,{children:"Author of RMG (Shanghai Metro style)"})]})]}),i.jsxs(R,{size:"lg",onClick:()=>window.open("https://github.com/langonginc","_blank"),children:[i.jsx(L,{src:"https://github.com/langonginc.png",size:"lg"}),i.jsxs(O,{children:[i.jsx(d,{children:"5+1"}),i.jsx(d,{children:"Author of RMP2RMG conversion"})]})]})]})]})}function ne(n){const{login:e,urlRepo:t,...s}=n,a=t?`https://github.com/railmapgen/${t}/issues?q=is:issue+author:${e}`:`https://github.com/${e}`;return i.jsx(L,{name:e,title:e,src:`https://github.com/${e}.png`,loading:"lazy",onClick:()=>window.open(a,"_blank"),cursor:"pointer",...s})}const ee=["52PD","linchen1965","28yfang","Windows-Taskmgr"];function te(){const{t:n}=U();return i.jsxs(jn,{children:[i.jsx(mn,{children:i.jsx(h,{as:"h5",size:"sm",children:n("Resource administrators")})}),i.jsx(T,{spacing:1.5,px:2,children:ee.map((n=>i.jsx(V,{children:i.jsx(ne,{login:n,size:"md"})},n)))})]})}const ie="https://api.github.com/repos/railmapgen",se={},ae=async(n,e)=>{if(n in se)return se[n];const t=await fetch(n,e),i=await t.json();return se[n]=i,i},oe=async(n,e,t)=>{const i=`${ie}/${n}/contributors`,s=new URLSearchParams({per_page:"100",page:e.toString()});return(await ae(i+"?"+s.toString(),{signal:t})).map((n=>n.login))},re=async(n,e,t)=>{const i=`${ie}/${n}/issues`,s=new URLSearchParams({state:"closed",labels:"donation",per_page:"100",page:e.toString()});return(await ae(i+"?"+s.toString(),{signal:t})).filter((n=>"completed"===n.state_reason)).map((n=>{var e;return null===(e=n.user)||void 0===e?void 0:e.login}))};function le(n){const[e,t]=F.useState(null!=n?n:[]);return[e,n=>{t((e=>{const t=new Set(e?e.concat(n):n);return Array.from(t)}))}]}const ce=["","wongchito","thekingofcity","github-actions[bot]"],he=n=>!ce.includes(n);function de(n){const[e,t]=le(),[i,s]=F.useState(!0),[a,o]=F.useState(!1),r=F.useRef();return F.useEffect((()=>((async()=>{let e=1;for(;;){var i;r.current=new AbortController;const s=await oe(n,e,null===(i=r.current)||void 0===i?void 0:i.signal);if(t(s.filter(he)),s.length<100)break;e++}})().then((()=>{var e;return sn[n].legacyContributors?(r.current=new AbortController,Un(n,null===(e=r.current)||void 0===e?void 0:e.signal)):[]})).then((n=>t(n.filter(he)))).catch((e=>{console.error("[rmt] unable to fetch contributors for:",n,e),o(!0)})).finally((()=>s(!1))),()=>{var n;null===(n=r.current)||void 0===n||n.abort(),s(!0),o(!1)})),[n]),{contributors:e,isLoading:i,isError:a}}const ue={position:"relative",minH:20,"& .chakra-alert":{flexDirection:"column"},"& .chakra-alert__icon":{boxSize:7,mr:0,mb:1}};function xe(n){const{appId:e}=n,{t:t}=U(),{contributors:s,isLoading:o,isError:r}=de(e);return i.jsxs(a,{sx:ue,children:[o&&i.jsx(vn,{isIndeterminate:!0}),r&&i.jsxs(E,{status:"warning",children:[i.jsx(P,{}),t("Unable to load contributors")]}),!r&&s&&i.jsx(T,{spacing:1.5,children:null==s?void 0:s.map((n=>i.jsx(V,{children:i.jsx(ne,{login:n,urlRepo:e,size:"sm"})},n)))})]})}const pe={"& > *:not(.rmg-section__header)":{px:2},"& h6":{my:2}};function ge(){const{t:n}=U();return i.jsxs(jn,{sx:pe,children:[i.jsx(mn,{children:i.jsx(h,{as:"h5",size:"sm",children:n("Resource contributors")})}),Object.entries(sn).filter((([n,e])=>e.showContributors)).map((([e,t])=>i.jsxs(F.Fragment,{children:[i.jsx(h,{as:"h6",size:"xs",children:n(t.name)}),i.jsx(xe,{appId:e},e)]},e))),i.jsx(d,{as:"i",fontSize:"xs",mt:3,children:n("Notes: Contributors are sorted by number of commits and commit time.")})]})}function je(){const[n,e]=le(),[t,i]=F.useState(!0),[s,a]=F.useState(!1),o=F.useRef();return F.useEffect((()=>((async()=>{const n=Object.entries(sn).filter((([n,e])=>e.showDonators)).map((([n])=>n));for(const s of n)try{let n=1;for(;;){var t;o.current=new AbortController;const i=await re(s,n,null===(t=o.current)||void 0===t?void 0:t.signal);if(e(i),i.length<100)break;n++}}catch(i){throw console.error("[rmt] unable to fetch donators for:",s,i),i}})().catch((()=>a(!0))).finally((()=>i(!1))),()=>{var n;null===(n=o.current)||void 0===n||n.abort(),i(!0),a(!1)})),[]),{donators:n,isLoading:t,isError:s}}const me={position:"relative",px:2,minH:20,"& .chakra-alert":{flexDirection:"column"},"& .chakra-alert__icon":{boxSize:7,mr:0,mb:1}};function ve(){const{t:n}=U(),{donators:e,isLoading:t,isError:s}=je();return i.jsxs(jn,{children:[i.jsx(mn,{children:i.jsx(h,{as:"h5",size:"sm",children:"â¤ï¸ "+n("Donators")})}),i.jsxs(a,{sx:me,children:[t&&i.jsx(vn,{isIndeterminate:!0}),s&&i.jsxs(E,{status:"warning",children:[i.jsx(P,{}),n("Unable to load donators")]}),!s&&e&&i.jsx(T,{spacing:1.5,children:null==e?void 0:e.map((n=>i.jsx(V,{children:i.jsx(ne,{login:n,size:"sm"})},n)))})]})]})}const fe={bg:"inherit",py:0,"& section:not(:last-of-type)":{mb:4}};function ze(n){const{isOpen:e,onClose:t}=n,{t:s}=U();return i.jsxs(H,{isOpen:e,onClose:t,size:"xl",scrollBehavior:"inside",children:[i.jsx(C,{}),i.jsxs(y,{children:[i.jsx(M,{children:s("Contributors")}),i.jsx(S,{}),i.jsxs(A,{sx:fe,children:[i.jsx(Xn,{}),i.jsx(ve,{}),i.jsx(te,{}),i.jsx(ge,{})]}),i.jsx(_,{children:i.jsx(m,{colorScheme:"primary",onClick:()=>window.open("https://github.com/railmapgen/rmg/wiki/How-to-add-color-palette-and-line-templates","_blank"),children:s("Contribution Wiki")})})]})]})}function be(n){const{isOpen:e,onClose:t}=n,{t:s}=U(),[a,o]=F.useState(an.isAllowAnalytics()),[r,l]=F.useState();F.useEffect((()=>{e||l(void 0)}),[e]);const c=[{type:"switch",label:s("Allow cookies to help improve our website"),isChecked:a,onChange:o,oneLine:!0}];return i.jsxs(H,{isOpen:e,onClose:t,children:[i.jsx(C,{}),i.jsxs(y,{children:[r&&i.jsxs(E,{status:"info",variant:"solid",size:"xs",children:[i.jsx(P,{}),s(r)]}),i.jsxs(u,{position:"relative",children:[i.jsx(M,{children:s("Privacy settings")}),i.jsx(S,{})]}),i.jsx(A,{children:i.jsx(Mn,{fields:c})}),i.jsx(_,{children:i.jsx(m,{colorScheme:"primary",isDisabled:!!r,onClick:()=>{an.allowAnalytics(a).refreshRequired?l("Refreshing is required for changes to take effect."):t()},children:s("Save")})})]})]})}function ke(n){return x({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M126.12 315.1A47.06 47.06 0 1 1 79.06 268h47.06zm23.72 0a47.06 47.06 0 0 1 94.12 0v117.84a47.06 47.06 0 1 1-94.12 0zm47.06-188.98A47.06 47.06 0 1 1 244 79.06v47.06zm0 23.72a47.06 47.06 0 0 1 0 94.12H79.06a47.06 47.06 0 0 1 0-94.12zm188.98 47.06a47.06 47.06 0 1 1 47.06 47.1h-47.06zm-23.72 0a47.06 47.06 0 0 1-94.12 0V79.06a47.06 47.06 0 1 1 94.12 0zM315.1 385.88a47.06 47.06 0 1 1-47.1 47.06v-47.06zm0-23.72a47.06 47.06 0 0 1 0-94.12h117.84a47.06 47.06 0 1 1 0 94.12z"},child:[]}]})(n)}function we(){const{t:n}=U(),[e,t]=F.useState(!1),[s,o]=F.useState(!1);return i.jsxs(a,{direction:"column",children:[i.jsx(N,{}),i.jsxs(D,{templateColumns:"repeat(4, auto)",children:[i.jsx(I,{children:i.jsx(m,{as:B,variant:"ghost",size:"sm",w:"100%",leftIcon:i.jsx(ke,{}),target:"_blank",href:"https://join.slack.com/t/railmapgenerator/shared_invite/zt-1odhhta3n-DdZF~fnVwo_q0S0RJmgV8A",children:"Slack"})}),i.jsx(I,{children:i.jsx(m,{variant:"ghost",size:"sm",w:"100%",leftIcon:i.jsx(Bn,{}),onClick:()=>t(!0),children:n("Contributors")})}),i.jsx(I,{children:i.jsx(m,{variant:"ghost",size:"sm",w:"100%",leftIcon:i.jsx(On,{}),onClick:()=>o(!0),children:n("Privacy")})}),i.jsx(I,{children:i.jsx(m,{as:B,variant:"ghost",size:"sm",w:"100%",leftIcon:i.jsx(Wn,{}),target:"_blank",href:"https://rmttutorial.wordpress.com",children:n("Tutorial")})})]}),i.jsx(ze,{isOpen:e,onClose:()=>t(!1)}),i.jsx(be,{isOpen:s,onClose:()=>o(!1)})]})}const He={flexDirection:"column",py:1,"& h4":{mx:3,my:2},"& > div":{px:2}};function Ce(){const{t:n}=U(),{setColourMode:t}=fn(),s={light:n("Light"),dark:n("Dark"),system:n("System")},o=[{type:"select",label:n("Language"),value:an.getLanguage(),options:{[n("Main languages")]:e.reduce(((n,e)=>({...n,[e]:Cn[e][e]})),{}),[n("Other languages")]:Hn.reduce(((n,e)=>({...n,[e]:Cn[e][e]})),{})},onChange:n=>{const e=n;an.setLanguage(e),an.getI18nInstance().changeLanguage(e),an.event(on.CHANGE_LANGUAGE,{language:e})}},{type:"select",label:n("Appearance"),value:an.getColourMode(),options:s,onChange:n=>t(n)}];return i.jsxs(a,{sx:He,children:[i.jsx(h,{as:"h4",size:"md",children:n("Settings")}),i.jsx(u,{children:i.jsx(Mn,{fields:o})})]})}const ye={flexShrink:0,flexDirection:"column",overflow:"hidden",alignItems:"flex-end",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",boxShadow:"lg",zIndex:100,".show-menu &":{maxW:{base:"100%",md:420},w:{base:"100%",md:"unset"},visibility:"initial"},"& > div":{flexDirection:"column",h:"100%",w:{base:"100vw",md:420},"& .nav-menu__header":{flex:0,flexDirection:"row",alignItems:"center",minHeight:10,pl:12},"& .nav-menu__body":{flexDirection:"column",flex:1,overflow:"hidden","& > div:first-of-type":{flex:1,overflowY:"auto"}}},"& .chakra-alert":{flexGrow:0,pl:3,pr:2,py:2,"& a":{fontWeight:"bold",textDecoration:"underline","&:hover, &:focus":{textDecoration:"none"}}}};function Me(){const{t:n}=U(),[e]=q(),t=("GitLab"===an.getInstance()?"https://railmapgen.gitlab.io/":"https://railmapgen.github.io/")+"?"+e.toString();return i.jsx(a,{as:"section",sx:ye,children:i.jsxs(a,{children:[i.jsxs(a,{className:"nav-menu__header",children:[i.jsx(h,{as:"h4",size:"md",children:n("Rail Map Toolkit")}),i.jsx(zn,{environment:an.getEnv(),version:an.getAppVersion()})]}),"PRD"!==an.getEnv()&&i.jsxs(E,{status:"warning",children:[i.jsx(P,{}),i.jsxs(W,{children:[n("You're currently viewing a testing environment.")," ",i.jsx(B,{href:t,isExternal:!0,children:n("Back to production environment")})]})]}),i.jsx(E,{status:"error",children:i.jsxs(W,{children:["ðŸŽ‡"," ",i.jsx(B,{href:"https://en.wikipedia.org/wiki/Chinese_New_Year",isExternal:!0,children:n("Happy Chinese New Year!")})]})}),i.jsxs(a,{className:"nav-menu__body",children:[i.jsx(Zn,{}),i.jsx(Ce,{}),i.jsx(Kn,{})]}),i.jsx(we,{})]})})}function Se(n){const{isOpen:e,onClose:t}=n,{t:s}=U(),a=F.useRef(null);return i.jsxs(H,{initialFocusRef:a,isOpen:e,onClose:()=>{},children:[i.jsx(C,{}),i.jsxs(y,{children:[i.jsx(M,{children:s("CookiesModal.header")}),i.jsxs(A,{children:[i.jsx(d,{children:s("CookiesModal.text1")}),i.jsx(d,{mt:2,children:s("CookiesModal.text2")}),i.jsx(G,{children:i.jsxs($,{children:[" ",s("CookiesModal.item1")]})}),i.jsx(d,{mt:2,children:s("CookiesModal.text3")})]}),i.jsx(_,{children:i.jsxs(l,{children:[i.jsx(m,{variant:"ghost",onClick:()=>{an.allowAnalytics(!1).refreshRequired?window.location.reload():t()},children:s("CookiesModal.reject")}),i.jsx(m,{ref:a,colorScheme:"primary",onClick:()=>{an.allowAnalytics(!0),t()},children:s("CookiesModal.accept")})]})})]})]})}const Ae=()=>{};function _e(){const{t:n}=U(),[e,t]=F.useState(!1);return i.jsx(H,{isOpen:!0,onClose:Ae,children:i.jsxs(y,{children:[i.jsx(M,{children:n("Rail Map Toolkit is opened in another window")}),i.jsx(A,{children:n("You cannot open multiple Rail Map Toolkit at the same time. Please close this window.")}),i.jsx(_,{children:i.jsx(m,{colorScheme:"primary",onClick:()=>{t(!0),bn(),setTimeout((()=>{window.location.reload()}),1e3)},isLoading:e,children:n("Restart RMT in this window")})})]})})}const De=()=>{};function Ie(){const{t:n}=U();return i.jsx(H,{isOpen:!0,onClose:De,children:i.jsxs(y,{children:[i.jsx(M,{children:n("Rail Map Toolkit is opened in another window")}),i.jsx(A,{children:n("Current session has been terminated. Please close this window.")})]})})}}}}));
