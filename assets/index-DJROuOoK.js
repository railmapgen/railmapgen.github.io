import{f as be,j as h,W as Nn,d as Sr,e as _r,g as Cr,P as kn,c as Bt,u as Ke,F as ge,B as Mn,D as an,I as Rr,h as Tn,i as Er,S as $n,k as jr,l as Ar,m as Lr,n as Dn,C as Pr,o as Ir,p as Fr,q as Nr,r as kr,s as Mr,t as Tr,v as $r,w as Dr,x as Br,y as Ur,A as Vr,M as zr,z as Hr,E as Wr,G as Kr,J as Gr,T as ye,K as Jr,b as ln,L as ie,N as Bn,O as un,Q as Yr,R as Qr,U as qr,V as Zr,X as Xr,Y as eo,Z as to,_ as no,$ as ro,a0 as Un,a1 as oo,a2 as cn,a3 as io,a4 as so,a5 as ao,a6 as lo,a7 as uo,a8 as De,a9 as co,aa as fo,ab as ho,ac as go}from"./chakra-VR6Dhm0n.js";import{a as v,d as je,n as po}from"./react-BIZdi9Qg.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();var Vn=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(o,i){return o[0]===n?(r=i,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),o=this.__entries__[r];return o&&o[1]},e.prototype.set=function(n,r){var o=t(this.__entries__,n);~o?this.__entries__[o][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,o=t(r,n);~o&&r.splice(o,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var o=0,i=this.__entries__;o<i.length;o++){var s=i[o];n.call(r,s[1],s[0])}},e}()}(),Lt=typeof window<"u"&&typeof document<"u"&&window.document===document,ot=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),mo=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ot):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),vo=2;function yo(t,e){var n=!1,r=!1,o=0;function i(){n&&(n=!1,t()),r&&a()}function s(){mo(i)}function a(){var l=Date.now();if(n){if(l-o<vo)return;r=!0}else n=!0,r=!1,setTimeout(s,e);o=l}return a}var bo=20,wo=["top","right","bottom","left","width","height","size","weight"],xo=typeof MutationObserver<"u",Oo=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=yo(this.refresh.bind(this),bo)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!Lt||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),xo?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!Lt||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,o=wo.some(function(i){return!!~r.indexOf(i)});o&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),zn=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},Le=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||ot},Hn=ht(0,0,0,0);function it(t){return parseFloat(t)||0}function dn(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,o){var i=t["border-"+o+"-width"];return r+it(i)},0)}function So(t){for(var e=["top","right","bottom","left"],n={},r=0,o=e;r<o.length;r++){var i=o[r],s=t["padding-"+i];n[i]=it(s)}return n}function _o(t){var e=t.getBBox();return ht(0,0,e.width,e.height)}function Co(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Hn;var r=Le(t).getComputedStyle(t),o=So(r),i=o.left+o.right,s=o.top+o.bottom,a=it(r.width),l=it(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+i)!==e&&(a-=dn(r,"left","right")+i),Math.round(l+s)!==n&&(l-=dn(r,"top","bottom")+s)),!Eo(t)){var u=Math.round(a+i)-e,c=Math.round(l+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(c)!==1&&(l-=c)}return ht(o.left,o.top,a,l)}var Ro=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof Le(t).SVGGraphicsElement}:function(t){return t instanceof Le(t).SVGElement&&typeof t.getBBox=="function"}}();function Eo(t){return t===Le(t).document.documentElement}function jo(t){return Lt?Ro(t)?_o(t):Co(t):Hn}function Ao(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(i.prototype);return zn(s,{x:e,y:n,width:r,height:o,top:n,right:e+r,bottom:o+n,left:e}),s}function ht(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Lo=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=ht(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=jo(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Po=function(){function t(e,n){var r=Ao(n);zn(this,{target:e,contentRect:r})}return t}(),Io=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new Vn,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Le(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Lo(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Le(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Po(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Wn=typeof WeakMap<"u"?new WeakMap:new Vn,Kn=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Oo.getInstance(),r=new Io(e,n,this);Wn.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){Kn.prototype[t]=function(){var e;return(e=Wn.get(this))[t].apply(e,arguments)}});var Fo=function(){return typeof ot.ResizeObserver<"u"?ot.ResizeObserver:Kn}();window.ResizeObserver||(window.ResizeObserver=Fo);const[No,we]=ko();function ko(){const t=v.createContext(void 0);t.displayName="AutoCompleteContext";function e(){var n;const r=v.useContext(t),o="useAutoCompleteContext: `context` is undefined. Seems you forgot to wrap all autoomplete components within `<AutoComplete />`";if(!r){const i=new Error(o);throw i.name="ContextError",(n=Error.captureStackTrace)==null||n.call(Error,i,e),i}return r}return[t.Provider,e,t]}function Mo(t){return t==null?void 0:t[0]}function Ct(t){return t!=null&&t.length?t[t.length-1]:void 0}function Gn(t,e,n=1,r=!0){if(e===0)return-1;let o=t+n;return t===-1&&(o=n>0?0:e-1),r?o=(o%e+e)%e:o=Math.max(0,Math.min(o,e-1)),o}function To(t,e,n=!0){return Gn(t,e,-1,n)}function $o(t,e,n=!0){const r=Gn(t,e.length,1,n);return e[r]}function Do(t,e,n=!0){const r=To(t,e.length,n);return e[r]}function Ut(t){return Array.isArray(t)}function Bo(t){return Ut(t)&&t.length===0}function Vt(t){return t!==null&&typeof t=="object"&&!Ut(t)}function Uo(t){return Vt(t)&&Object.keys(t).length===0}function Jn(t){return Ut(t)?Bo(t):Vt(t)?Uo(t):t==null||t===""}function et(t){return typeof t>"u"}function Yn(t){return typeof t<"u"}function Vo(t,e){const n={};return e.forEach(r=>{r in t&&(n[r]=t[r])}),n}function zt(t,e){const n={...t};return e.forEach(r=>{delete n[r]}),n}function zo(t){return typeof t=="function"}function A(t,...e){return zo(t)?t(...e):t}var gt=function(t,e){for(var n,r=v.Children.toArray(t),o=0,i=r;o<i.length;o++){var s=i[o];if(e(s))return s;if(!((n=s.props)===null||n===void 0)&&n.children){var a=gt(s.props.children,e);if(a)return a}}},Ye=function(t,e){for(var n=0,r=e.length,o=t.length;n<r;n++,o++)t[o]=e[n];return t},Qn=function(t,e){for(var n,r=v.Children.toArray(t),o=[],i=0,s=r;i<s.length;i++){var a=s[i];e(a)&&(o=Ye(Ye([],o),[a])),!((n=a.props)===null||n===void 0)&&n.children&&(o=Ye(Ye([],o),Qn(a.props.children,e)))}return o};function fn(t,e,n=2){function r(f,d){f=" ".repeat(d-1)+f.toLowerCase()+" ".repeat(d-1);let g=new Array(f.length-d+1);for(let p=0;p<g.length;p++)g[p]=f.slice(p,p+d);return g}if(!(t!=null&&t.length)||!(e!=null&&e.length))return 0;let o=t.length<e.length?t:e,i=t.length<e.length?e:t,s=r(o,n),a=r(i,n),l=new Set(s),u=a.length,c=0;for(let f of a)l.delete(f)&&c++;return c/u}const Ht=t=>{var e;return(e=typeof t=="string"||typeof t=="number"?t:t[Object.keys(t)[0]])==null?void 0:e.toString()},Ho=(t,e)=>typeof t!="string"||Jn(e)?t:t.toString().replace(new RegExp(Jo(e),"gi"),n=>"<mark>".concat(n,"</mark>")),Wo=t=>Qn(t,e=>{var n;return((n=e==null?void 0:e.type)==null?void 0:n.displayName)==="AutoCompleteItem"}).map(e=>{const n=Vo(e.props,["value","label","fixed","disabled"]),{getValue:r=Ht}=e.props,o=r(n.value);return{...Yn(n.label)?n:{...n,label:o},value:o,originalValue:n.value}}),Ko=()=>({bg:"whiteAlpha.100",_light:{bg:"gray.200"}}),Go=(t,e,n)=>(e==null?void 0:e.toLowerCase().indexOf(t==null?void 0:t.toLowerCase()))>=0||(n==null?void 0:n.toLowerCase().indexOf(t==null?void 0:t.toLowerCase()))>=0||fn(t,e)>=.5||fn(t,n)>=.5;function Jo(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const Yo=(t,e)=>gt(t,n=>{var r;return((r=n==null?void 0:n.type)==null?void 0:r.displayName)==="AutoCompleteItem"&&n.props.value===(e==null?void 0:e.value)}),Qo=(t,e)=>gt(t,n=>{var r;return((r=n==null?void 0:n.type)==null?void 0:r.displayName)==="AutoCompleteItem"&&n.props.value===(e==null?void 0:e.value)}),qo=(t,e)=>Yn(gt(t,n=>{var r,o;const i=A(((r=n.props)==null?void 0:r.getValue)||Ht,((o=n.props)==null?void 0:o.value)||{});return e.some(s=>s.value===i)})),Zo=(t,e)=>{const n={},r={},{field:o}=t;return o&&Object.keys(o).forEach(i=>{if(i.startsWith("--input")===!1)n[i]=o[i];else{let s=o[i];const a=i.replace("--input-","").replace(/-([a-z])/g,function(l){return l[1].toUpperCase()});s.indexOf(".")!==-1&&(s=s.substring(s.indexOf(".")+1)),r[a]=s}}),{...e&&{...n,...r,_focusWithin:t.field._focus,pos:"relative",minH:9,py:1.5,spacing:3},cursor:"text",h:"fit-content"}};function Xo(t){var e;let{prefocusFirstItem:n=!0,closeOnBlur:r=!0,creatable:o,emphasize:i,emptyState:s=!0,defaultEmptyStateProps:a={},freeSolo:l,isReadOnly:u,listAllValuesOnFocus:c,maxSuggestions:f,multiple:d,closeOnSelect:g=!d,defaultValue:p,defaultValues:y=p?[p]:[],onReady:b,defaultIsOpen:_,disableFilter:w,isLoading:q=!1,placement:x="bottom",restoreOnBlurIfEmpty:F=!l,shouldRenderSuggestions:D=()=>!0,submitKeys:E=[],suggestWhenEmpty:se,value:Z,values:xe=Z?typeof Z=="string"?[Z]:[...Z]:void 0}=t;l=l||(d?!0:t.freeSolo);const{isOpen:j,onClose:X,onOpen:ae}=Ir({defaultIsOpen:_}),ee=v.useMemo(()=>A(t.children,{isOpen:j,onClose:X,onOpen:ae}),[t.children,j]),L=v.useMemo(()=>Wo(ee),[ee]),B=v.useRef(null),Ie=v.useRef(null),P=v.useRef(null),U=v.useRef(null),[le,pe]=v.useState(!1);let Oe="";d?Oe="":et(y)?et(xe)||(Oe=xe[0]):Oe=y[0];const[te,Fe]=v.useState(Oe!=null?Oe:""),vt=v.useMemo(()=>w?L:L.filter(m=>m.fixed||A(t.filter||Go,te,m.value,m.label)||le).filter((m,S)=>f?m.fixed||S<f:!0),[te,L,le,f,w]),Zt=o?[{value:te,noFilter:!0,creatable:!0}]:[],N=v.useMemo(()=>[...vt,...Zt],[vt,Zt]),[ne,yt]=Fr({defaultValue:y.map(m=>m==null?void 0:m.toString()),value:xe,onChange:m=>{const S=N.find(C=>C.value===m[0]);if(!S)return;const k=m.map(C=>N.find(G=>G.value===C));A(t.onChange,d?m:m[0],d?k:S)}});v.useEffect(()=>{N.length===0&&!s&&j&&X()},[N.length,s,j]);const[Se,ue]=v.useState(n?(e=L[0])==null?void 0:e.value:null),wr=t.maxSelections||ne.length+1,bt=N.findIndex(m=>m.value===Se),Xt=$o(bt,N,!!t.rollNavigation),en=Do(bt,N,!!t.rollNavigation),me=Mo(N),tn=Ct(N),nn=!N.some(m=>m.value===Se);v.useEffect(()=>{var m;nn&&ue(n?(m=L[0])==null?void 0:m.value:null)},[nn]),Nr(()=>{n&&ue(me==null?void 0:me.value)},[te,me==null?void 0:me.value]),v.useEffect(()=>{var m;!j&&n&&ue((m=L[0])==null?void 0:m.value)},[j]),v.useEffect(()=>{j&&c&&pe(!0)},[j,c,pe]),v.useEffect(()=>{const m=L.find(S=>S.value===Se);A(t.onOptionFocus,{item:m,focusMethod:U.current,isNewInput:m==null?void 0:m.creatable})},[Se,t.onOptionFocus]);const wt=m=>{var S,k;const C=N.find(H=>H.value===m),G=(C==null?void 0:C.label)||(C==null?void 0:C.value);Fe(()=>d?"":G!=null?G:""),!ne.includes(m)&&ne.length<wr&&yt(H=>d?[...H,m]:[m]),d&&((S=B.current)==null||S.focus()),t.focusInputOnSelect&&((k=B.current)==null||k.focus()),A(t.onSelectOption,{item:C,selectMethod:U.current,isNewInput:C==null?void 0:C.creatable}),C!=null&&C.creatable&&A(t.onCreateOption,{item:zt(C,["noFilter"]),selectMethod:U.current}),g&&X()},rn=(m,S)=>{var k;yt(H=>{const ve=L.find(ce=>ce.value===m);return ve?(A(t.onTagRemoved,m,ve,H),H.filter(ce=>ce!==m)):H});const C=L.find(H=>H.value===m),G=(C==null?void 0:C.label)||(C==null?void 0:C.value);te===G&&Fe(""),S&&((k=B.current)==null||k.focus())},xr=m=>{var S;yt([]),m&&((S=B.current)==null||S.focus())},on=d?ne.map(m=>{var S;return{label:((S=L.find(k=>k.value===(m==null?void 0:m.toString())))==null?void 0:S.label)||m,onRemove:()=>rn(m)}}):[];return v.useEffect(()=>{A(b,{tags:on})},[ne]),{autoCompleteProps:t,children:ee,filteredList:N,filteredResults:vt,focusedValue:Se,defaultEmptyStateProps:a,getEmptyStateProps:m=>{if(N.every(S=>S.noFilter)&&s&&!o)return typeof s=="boolean"?m:A(s,{query:te})},getGroupProps:m=>{const S=qo(m.children,N);return{divider:{hasFirstChild:Yo(m.children,me),hasLastChild:Qo(m.children,Ct(N.filter(k=>et(k==null?void 0:k.noFilter))))},group:{display:S?"initial":"none"}}},getInputProps:(m,S)=>{const{onBlur:k,onChange:C,onFocus:G,onKeyDown:H,variant:ve,...ce}=m;return{wrapper:{ref:Ie,onClick:()=>{var O;(O=B==null?void 0:B.current)==null||O.focus()},...Zo(S,d),...ce},input:{isReadOnly:u,onFocus:O=>{A(G,O),t.openOnFocus&&!u&&ae(),t.selectOnFocus&&O.target.select(),c&&pe(!0)},onBlur:O=>{var J,V;A(k,O);const z=O.relatedTarget===(P==null?void 0:P.current)||((J=P.current)==null?void 0:J.contains(O.relatedTarget)),xt=(V=Ie.current)==null?void 0:V.contains(O.relatedTarget);if(!z&&!xt&&(r&&X(),!ne.includes(O.target.value)&&F)){const Ot=Ct(ne),_e=L.find(St=>St.value===Ot),re=(_e==null?void 0:_e.label)||(_e==null?void 0:_e.value)||"";Fe(re)}},onChange:O=>{const J=O.target.value;A(C,O),Fe(J);const V=Jn(J);A(D,J)&&(!V||se)?ae():X(),pe(!1)},onKeyDown:O=>{var J;A(H,O),U.current="keyboard";const{key:V}=O,z=N[bt];if(["Enter",...E].includes(V)){z&&!(z!=null&&z.disabled)&&j?wt(z==null?void 0:z.value):(J=B.current)==null||J.focus(),O.preventDefault();return}if(V==="ArrowDown"){j?ue(Xt==null?void 0:Xt.value):ae(),O.preventDefault();return}if(V==="ArrowUp"){j?ue(en==null?void 0:en.value):ae(),O.preventDefault();return}if(V==="Tab"){j&&z&&!(z!=null&&z.disabled)?wt(z==null?void 0:z.value):X();return}if(V==="Home"){ue(me==null?void 0:me.value),O.preventDefault();return}if(V==="End"){ue(tn==null?void 0:tn.value),O.preventDefault();return}V==="Escape"&&(X(),O.preventDefault())},value:te,variant:d?"unstyled":ve,...ce}}},getItemProps:(m,S)=>{var k;const{_fixed:C,_focus:G,children:H,disabled:ve,label:ce,value:O,fixed:J,getValue:V=Ht,onClick:z,onMouseOver:xt,sx:Ot,..._e}=m,re=S?O:(k=V(O))==null?void 0:k.toString(),St=re===Se,Or=N.findIndex(Ne=>Ne.value===re)>=0,_t=H||ce||re;return{item:{...typeof _t!="string"||!i?{children:_t}:{dangerouslySetInnerHTML:{__html:Ho(_t,te)}},"aria-selected":ne.includes(re),"aria-disabled":ve,_disabled:{opacity:.4,cursor:"not-allowed",userSelect:"none"},onClick:Ne=>{var sn;A(z,Ne),ve?(sn=B.current)==null||sn.focus():wt(re)},onMouseOver:Ne=>{A(xt,Ne),ue(re),U.current="mouse"},sx:{...Ot,mark:{color:"inherit",bg:"transparent",...Vt(i)?i:{fontWeight:i?"extrabold":"inherit"}}},...St&&(G||Ko()),...J&&C,..._e},root:{isValidSuggestion:Or,value:re}}},inputRef:B,interactionRef:U,isLoading:q,isOpen:j,itemList:L,listRef:P,onClose:X,onOpen:ae,placement:x,query:te,removeItem:rn,resetItems:xr,setQuery:Fe,tags:on,value:Z,values:ne}}const ei=be((t,e)=>{const n=Xo(t),{children:r,isOpen:o,onClose:i,onOpen:s,placement:a,resetItems:l,removeItem:u}=n;v.useImperativeHandle(e,()=>({resetItems:l,removeItem:u}));const{matchWidth:c=!0}=n.autoCompleteProps;return h.jsx(No,{value:n,children:h.jsx(kn,{isLazy:!0,isOpen:o,autoFocus:!1,placement:a,closeOnBlur:!0,matchWidth:c,children:h.jsx(Bt.div,{w:"full",ref:e,children:r})})})});ei.displayName="AutoComplete";const ti=be((t,e)=>{const{focusedValue:n,getItemProps:r,interactionRef:o}=we(),i=v.useRef(),s=Ke(e,i),a=r(t),{isValidSuggestion:l,value:u}=a.root,c=n===u;v.useEffect(()=>{var y;c&&o.current==="keyboard"&&((y=i==null?void 0:i.current)==null||y.scrollIntoView({behavior:"smooth",block:"nearest"}))},[c,o]),v.useEffect(()=>{typeof u!="string"&&console.warn("wow"),typeof u!="string"&&et(t.getValue)&&console.error("You must define the `getValue` prop, when an Item's value is not a string")},[]);const{children:f,dangerouslySetInnerHTML:d,...g}=a.item,p=zt(g,["groupId"]);return l?h.jsx(ge,{ref:s,...ni,...p,children:f||h.jsx("span",{dangerouslySetInnerHTML:d})}):null});ti.displayName="AutoCompleteItem";const ni={mx:"2",px:"2",py:"2",rounded:"md",cursor:"pointer"},ri=be((t,e)=>{const{children:n,showDivider:r,...o}=t,i=zt(o,["groupSibling"]),{getGroupProps:s}=we(),{group:a}=s(t),l=si(t);return h.jsxs(Mn,{ref:e,...a,...i,children:[h.jsx(an,{...l.top}),n,h.jsx(an,{...l.bottom})]})}),oi=be((t,e)=>h.jsx(ge,{...ii,...t,ref:e}));ri.displayName="AutoCompleteGroup";oi.displayName="AutoCompleteGroupTitle";const ii={ml:5,my:1,fontSize:"xs",letterSpacing:"wider",fontWeight:"extrabold",textTransform:"uppercase"},si=t=>{const{getGroupProps:e}=we(),n=t.groupSibling,{divider:{hasFirstChild:r,hasLastChild:o}}=e(t),i={my:2,borderColor:t.dividerColor},s={...i,mb:4,display:!t.showDivider||r?"none":""},a={...i,display:!t.showDivider||o||n?"none":""};return{top:s,bottom:a}},hn=be((t,e)=>{const{isLoading:n}=we(),{loadingIcon:r,...o}=t;return h.jsxs(Rr,{children:[h.jsx(Tn,{...o,ref:e}),n&&h.jsx(Er,{children:r||h.jsx($n,{})})]})}),qn=be((t,e)=>{const{autoCompleteProps:n,inputRef:r,getInputProps:o,tags:i,setQuery:s,value:a,itemList:l}=we(),{children:u,isInvalid:c,hidePlaceholder:f,...d}=t,{value:g}=d;v.useEffect(()=>{if(a!==void 0&&(typeof a=="string"||a instanceof String)){const E=l.find(Z=>Z.value===a),se=E===void 0?a:E.label;s(se)}},[a]),v.useEffect(()=>{g!==void 0&&(typeof g=="string"||g instanceof String)&&s(g)},[g]);const p=jr("Input",t);let{wrapper:y,input:b}=o(d,p);const{ref:_,...w}=y,q=Ke(e,r),x=A(u,{tags:i});f&&(b={...b,placeholder:Array.isArray(x)&&x.length?void 0:b.placeholder});const F=h.jsx(hn,{isInvalid:c,...b,ref:q}),D=h.jsxs(Ar,{"aria-invalid":c,...w,ref:_,children:[x,h.jsx(Nn,{as:hn,...b,ref:q})]});return h.jsx(Lr,{children:n.multiple?D:F})});qn.displayName="Input";qn.id="Input";const ai=t=>{const{getEmptyStateProps:e,defaultEmptyStateProps:n}=we(),r=e(h.jsx(ge,{...li,...n,children:"No options found!"}));return h.jsx(Mn,{...t,children:r})},li={fontSize:"sm",align:"center",justify:"center",fontWeight:"bold",fontStyle:"italic"},gn=["AutoCompleteGroup","AutoCompleteItem","AutoCompleteCreatable"],ui=t=>{const e=je.Children.map(t,(r,o)=>{var i;if(((i=r==null?void 0:r.type)==null?void 0:i.displayName)==="AutoCompleteGroup"){const s=je.Children.toArray(t)[o+1];return je.cloneElement(r,{groupSibling:s?s.type.displayName==="AutoCompleteGroup":!1})}return r}),n=je.Children.toArray(e).filter(r=>{var o;return!gn.includes((o=r==null?void 0:r.type)==null?void 0:o.displayName)});return[je.Children.toArray(e).filter(r=>{var o;return gn.includes((o=r==null?void 0:r.type)==null?void 0:o.displayName)}),n]},ci=be((t,e)=>{const{children:n,loadingState:r,...o}=t,{listRef:i,isLoading:s}=we(),a=Ke(e,i),[l,u]=ui(n);return h.jsxs(Dn,{ref:a,w:"inherit",...di,...o,children:[s&&h.jsx(Pr,{children:r||h.jsx($n,{size:"md"})}),!s&&h.jsxs(h.Fragment,{children:[l,h.jsx(ai,{}),u]})]})});ci.displayName="AutoCompleteList";const di={py:"4",opacity:"0",bg:"#232934",rounded:"md",maxH:"350px",border:"none",shadow:"base",zIndex:"popover",overflowY:"auto",_light:{bg:"#ffffff"},_focus:{boxShadow:"none"}};v.memo(t=>{const{label:e,onRemove:n,disabled:r,...o}=t;return h.jsx(Nn,{children:h.jsxs(Sr,{borderRadius:"md",fontWeight:"normal",...r&&pn,...o,children:[h.jsx(_r,{children:e}),h.jsx(Cr,{onClick:()=>!r&&A(n),cursor:"pointer",...r&&pn})]})})});const pn={cursor:"text",userSelect:"none",opacity:.4,_focus:{boxShadow:"none"}};var Pt=function(){return Pt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Pt.apply(this,arguments)},fi=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},hi=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i},gi=function(t,e){var n=t.validator,r=t.onDebouncedChange,o=t.delay,i=t.optionList,s=t.defaultValue;t.onChange;var a=fi(t,["validator","onDebouncedChange","delay","optionList","defaultValue","onChange"]),l=v.useRef(null),u=Ke(l,e),c=v.useRef("datalist-"+new Date().valueOf()),f=hi(v.useState(!1),2),d=f[0],g=f[1],p=v.useRef();v.useEffect(function(){l.current&&(l.current.value=(s==null?void 0:s.toString())||"")},[s]);var y=function(_){var w=_.target.value;window.clearTimeout(p.current),n&&g(!n(w)),p.current=window.setTimeout(function(){r==null||r(w),p.current=void 0},o!=null?o:500)},b=function(_){var w=_.target.value;p.current!==void 0&&(window.clearTimeout(p.current),n&&g(!n(w)),r==null||r(w),p.current=void 0)};return h.jsxs(h.Fragment,{children:[h.jsx(Tn,Pt({ref:u,list:c.current,variant:"flushed",size:"sm",h:6,onChange:y,onBlur:b,isInvalid:d},a)),i&&h.jsx("datalist",{id:c.current,children:i==null?void 0:i.map(function(_,w){return h.jsx("option",{children:_},w)})})]})},Wa=v.forwardRef(gi),It=function(){return It=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},It.apply(this,arguments)},pi=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},mi=function(t,e){var n=t.onDebouncedChange,r=t.defaultValue;t.onChange;var o=pi(t,["onDebouncedChange","defaultValue","onChange"]),i=v.useRef(null),s=Ke(i,e),a=v.useRef();v.useEffect(function(){i.current&&(i.current.value=(r==null?void 0:r.toString())||"")},[r]);var l=function(u){var c=u.target.value;window.clearTimeout(a.current),a.current=window.setTimeout(function(){n==null||n(c)},500)};return h.jsx(kr,It({ref:s,variant:"flushed",size:"sm",resize:"none",onChange:l},o))},Ka=v.forwardRef(mi);var vi=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};const Zn=t=>new Promise(e=>{setTimeout(e,t,"Timeout after ".concat(t/1e3," seconds"))}),yi=t=>new Promise(e=>{const n=new FileReader;n.onloadend=()=>e(n.result),n.readAsDataURL(t)}),bi=t=>{let e,n=!1;return r=>vi(void 0,void 0,void 0,function*(){return e&&(n||!r)?e:(e=t(),n=!0,e.then(o=>(n=!1,o)).catch(o=>{throw e=null,o}))})},Wt=t=>{let e=0;for(let n=0;n<t.length;n++)e=t.charCodeAt(n)+((e<<5)-e);return e},Kt=t=>{const e=(t&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-e.length)+e};var he;(function(t){t.DEV="DEV",t.UAT="UAT",t.PRD="PRD"})(he||(he={}));const Xn="rmg-runtime__language",er="rmg-runtime__colourMode",st="rmg-runtime__allowAnalytics",Ge="rmg-unknown",wi="railmapgen.github.io",xi="rmg-home";let at=Ge,tr=Kt(Wt(Ge));const Oi=t=>{at=t,tr=Kt(Wt(t))},Qe=()=>"[".concat(at,"]"),qe=()=>tr,oe=(t,e,n)=>(...r)=>{typeof r[0]=="string"?t("%c".concat(e(),"%c ").concat(r[0]),"color: ".concat(n()),"",...r.slice(1)):t("%c".concat(e(),"%c"),"color: ".concat(n()),"",...r)},Si={debug:oe(console.debug,Qe,qe),info:oe(console.info,Qe,qe),warn:oe(console.warn,Qe,qe),error:oe(console.error,Qe,qe)},ke=()=>at===Ge?"[runtime]":"[runtime@".concat(at,"]"),_i=Kt(Wt("runtime")),Me=()=>_i,R={setup:Oi,logger:Si,debug:oe(console.debug,ke,Me),info:oe(console.info,ke,Me),warn:oe(console.warn,ke,Me),error:oe(console.error,ke,Me),group:oe(console.group,ke,Me),groupEnd:console.groupEnd};var nr=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};let Gt,pt,Jt,Yt,Qt;const rr=()=>{Gt=!1,pt=Ge,Jt="unknown",Yt=he.PRD,Qt="unknown"},Ci=()=>nr(void 0,void 0,void 0,function*(){const t=window.location.pathname.split("/")[1],e=t?"/".concat(t,"/info.json"):"/info.json",n=yield fetch(e);if(n.ok){const r=yield n.json();R.info("Received info.json",r),pt=r.component,Jt=r.version,Yt=r.environment,Qt=r.instance}else throw new Error("Failed to fetch config from ".concat(e))}),Ri=()=>nr(void 0,void 0,void 0,function*(){try{R.group("Loading config...");const t=yield Promise.race([Ci(),Zn(10*1e3)]);t?R.error("❌ Failed to load config.",t):(Gt=!0,R.info("✅ Config loaded!"))}catch(t){R.error("❌ Failed to load config.",t)}finally{R.groupEnd()}}),Ei=()=>Gt,ji=()=>or()?xi:pt,Ai=()=>Jt,Li=()=>Yt,Pi=()=>Qt,or=()=>pt===wi;rr();const $={loadWithTimeout:Ri,isInitialised:Ei,getComponent:ji,getVersion:Ai,getEnvironment:Li,getInstance:Pi,isRMT:or,_resetConfig:rr};window.dataLayer=window.dataLayer||[];const Ii=()=>{const t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ",document.head.append(t)};function Ft(...t){if($.getEnvironment()!==he.DEV)return window.dataLayer.push(arguments);R.info("Not going to send event in DEV environment",t)}const Fi=(t,e={})=>{Ft("event",t,e)},Ni=()=>{Ii(),Ft("js",new Date),Ft("config","G-2HP8Y4MRRQ",{appName:$.getComponent(),version:$.getVersion(),environment:$.getEnvironment(),instance:$.getInstance()})},lt={init:Ni,customEvent:Fi},ki="rmg-runtime-channel",tt={};let Be;try{Be=new BroadcastChannel(ki),Be.onmessage=t=>{var e;const{event:n,data:r,frameId:o}=t.data;(e=tt[n])===null||e===void 0||e.forEach(i=>i(r,o))}}catch(t){R.warn("Failed to initiate broadcast channel. Some features may be unavailable.",t)}const Mi=(t,e)=>{var n;R.debug("Broadcasting event ".concat(t," with data"),e),Be==null||Be.postMessage({event:t,data:e,frameId:(n=window.frameElement)===null||n===void 0?void 0:n.id})},Ti=(t,e)=>{var n;t in tt?(n=tt[t])===null||n===void 0||n.push(e):tt[t]=[e]},I={postEvent:Mi,onMessage:Ti},ir="TOGGLE_NAV_MENU",sr="OPEN_APP",ar="CLOSE_APP",lr="UPDATE_APP_METADATA",ur="UPDATE_URL",nt=()=>!window.frameElement,$i=()=>{var t;return!!(!((t=window.frameElement)===null||t===void 0)&&t.closest(".show-menu"))},Di=()=>{if(!nt()){const e=document.createElement("style");e.textContent="body{padding: 0;}",document.head.appendChild(e)}const t=document.createElement("style");t.textContent=".rmg-window__header:not(.rmg-window__app-clip-header){margin-left: 40px;}",!nt()&&!$i()&&document.head.appendChild(t),nt()||I.onMessage(ir,e=>{if(e)try{document.head.removeChild(t)}catch(n){R.warn("Unable to remove indent style from RmgWindowHeader",n)}else document.head.appendChild(t)})},Bi=t=>{I.postEvent(sr,t)},Ui=t=>{I.postEvent(ar,t)},Vi=t=>{I.postEvent(lr,t)},zi=t=>{I.postEvent(ur,t)},Hi=t=>{I.onMessage(sr,t)},Wi=t=>{I.onMessage(ar,t)},Ki=t=>{I.onMessage(lr,t)},Gi=t=>{I.onMessage(ur,t)},Ji=t=>{I.postEvent(ir,t)},W={isStandaloneWindow:nt,injectUITools:Di,openApp:Bi,onAppOpen:Hi,closeApp:Ui,onAppClose:Wi,updateAppMetadata:Vi,onAppMetadataUpdate:Ki,updateUrl:zi,onUrlUpdate:Gi,toggleNavMenu:Ji},cr="SET_LANGUAGE",dr="SET_COLOUR_MODE",Yi=t=>{I.postEvent(cr,t),window.localStorage.setItem(Xn,t)},Qi=()=>window.localStorage.getItem(Xn)||"en",qi=t=>{I.onMessage(cr,t)},fr=["light","dark","system"],Zi=t=>{fr.includes(t)&&(I.postEvent(dr,t),window.localStorage.setItem(er,t))},Xi=t=>!!(t&&fr.includes(t)),es=()=>{const t=window.localStorage.getItem(er);return Xi(t)?t:"system"},ts=t=>{I.onMessage(dr,t)},ns=()=>window.localStorage.getItem(st)!==null,hr=()=>window.localStorage.getItem(st)==="true",rs=t=>{const e=hr();return t?(e||(window.localStorage.setItem(st,t.toString()),lt.init()),{refreshRequired:!1}):e?(window.localStorage.setItem(st,t.toString()),{refreshRequired:!0}):{refreshRequired:!1}},K={setLanguage:Yi,getLanguage:Qi,onLanguageChange:qi,setColourMode:Zi,getColourMode:es,onColourModeChange:ts,isAnalyticsQADone:ns,isAllowAnalytics:hr,allowAnalytics:rs},os=new Date().getTime();function is(){const t=$.getComponent(),e=window.localStorage.getItem(t+"__startTime");return e===null?new Date().getTime()-os:new Date().getTime()-Number(e)}const ss={getMsSinceStartUp:is},rt={},Pe=()=>{const t=$.getComponent();if(t===Ge)throw new Error("Unable to clear storage for unknown app");return t};window.addEventListener("storage",t=>{var e;const{key:n,newValue:r}=t;n&&((e=rt[n])===null||e===void 0||e.forEach(o=>o(r)))});const as=(t,e)=>{var n;const r="".concat(Pe(),"__").concat(t);r in rt?(n=rt[r])===null||n===void 0||n.push(e):rt[r]=[e]},ls=t=>{const e=Pe();return window.localStorage.getItem("".concat(e,"__").concat(t))},us=()=>{const t=Pe(),e={};let n=0;for(;n<window.localStorage.length;){const r=window.localStorage.key(n);if(r!=null&&r.startsWith(t+"__")){const o=window.localStorage.getItem(r);o&&(e[r]=o)}n++}return e},cs=(t,e)=>{const n=Pe();window.localStorage.setItem("".concat(n,"__").concat(t),e)},ds=t=>{const e=Pe();window.localStorage.removeItem("".concat(e,"__").concat(t))},fs=()=>{const t=Pe();let e=0;for(;e<window.localStorage.length;){const n=window.localStorage.key(e);n!=null&&n.startsWith(t+"__")?(window.localStorage.removeItem(n),R.info("Removed item ".concat(n))):e++}},Ce={on:as,get:ls,getAll:us,set:cs,remove:ds,clear:fs},hs={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class ut{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||hs,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,o){return o&&!this.debug?null:(typeof e[0]=="string"&&(e[0]="".concat(r).concat(this.prefix," ").concat(e[0])),this.logger[n](e))}create(e){return new ut(this.logger,{prefix:"".concat(this.prefix,":").concat(e,":"),...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ut(this.logger,e)}}var Y=new ut;class mt{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const o=this.observers[r].get(n)||0;this.observers[r].set(n,o+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(s=>{let[a,l]=s;for(let u=0;u<l;u++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(s=>{let[a,l]=s;for(let u=0;u<l;u++)a.apply(a,[e,...r])})}}const Te=()=>{let t,e;const n=new Promise((r,o)=>{t=r,e=o});return n.resolve=t,n.reject=e,n},mn=t=>t==null?"":""+t,gs=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},ps=/###/g,vn=t=>t&&t.indexOf("###")>-1?t.replace(ps,"."):t,yn=t=>!t||typeof t=="string",Ue=(t,e,n)=>{const r=typeof e!="string"?e:e.split(".");let o=0;for(;o<r.length-1;){if(yn(t))return{};const i=vn(r[o]);!t[i]&&n&&(t[i]=new n),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++o}return yn(t)?{}:{obj:t,k:vn(r[o])}},bn=(t,e,n)=>{const{obj:r,k:o}=Ue(t,e,Object);if(r!==void 0||e.length===1){r[o]=n;return}let i=e[e.length-1],s=e.slice(0,e.length-1),a=Ue(t,s,Object);for(;a.obj===void 0&&s.length;)i="".concat(s[s.length-1],".").concat(i),s=s.slice(0,s.length-1),a=Ue(t,s,Object),a&&a.obj&&typeof a.obj["".concat(a.k,".").concat(i)]<"u"&&(a.obj=void 0);a.obj["".concat(a.k,".").concat(i)]=n},ms=(t,e,n,r)=>{const{obj:o,k:i}=Ue(t,e,Object);o[i]=o[i]||[],o[i].push(n)},ct=(t,e)=>{const{obj:n,k:r}=Ue(t,e);if(n)return n[r]},vs=(t,e,n)=>{const r=ct(t,n);return r!==void 0?r:ct(e,n)},gr=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):gr(t[r],e[r],n):t[r]=e[r]);return t},Re=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ys={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const bs=t=>typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>ys[e]):t;class ws{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const xs=[" ",",","?","!",";"],Os=new ws(20),Ss=(t,e,n)=>{e=e||"",n=n||"";const r=xs.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const o=Os.getRegExp("(".concat(r.map(s=>s==="?"?"\\?":s).join("|"),")"));let i=!o.test(t);if(!i){const s=t.indexOf(n);s>0&&!o.test(t.substring(0,s))&&(i=!0)}return i},Nt=function(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let o=t;for(let i=0;i<r.length;){if(!o||typeof o!="object")return;let s,a="";for(let l=i;l<r.length;++l)if(l!==i&&(a+=n),a+=r[l],s=o[a],s!==void 0){if(["string","number","boolean"].indexOf(typeof s)>-1&&l<r.length-1)continue;i+=l-i+1;break}o=s}return o},dt=t=>t&&t.indexOf("_")>0?t.replace("_","-"):t;class wn extends mt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,s=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,n],r&&(Array.isArray(r)?a.push(...r):typeof r=="string"&&i?a.push(...r.split(i)):a.push(r)));const l=ct(this.data,a);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=a[0],n=a[1],r=a.slice(2).join(".")),l||!s||typeof r!="string"?l:Nt(this.data&&this.data[e]&&this.data[e][n],r,i)}addResource(e,n,r,o){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(a=e.split("."),o=n,n=a[1]),this.addNamespaces(n),bn(this.data,a,o),i.silent||this.emit("added",e,n,r,o)}addResources(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(typeof r[i]=="string"||Array.isArray(r[i]))&&this.addResource(e,n,i,r[i],{silent:!0});o.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,o,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),o=r,r=n,n=a[1]),this.addNamespaces(n);let l=ct(this.data,a)||{};s.skipCopy||(r=JSON.parse(JSON.stringify(r))),o?gr(l,r,i):l={...l,...r},bn(this.data,a,l),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var pr={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,o){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,n,r,o))}),e}};const xn={};class ft extends mt{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),gs(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Y.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!Ss(e,r,o);if(s&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:i};const u=e.split(r);(r!==o||r===o&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(o)}return typeof i=="string"&&(i=[i]),{key:e,namespaces:i}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(e[e.length-1],n),l=a[a.length-1],u=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const x=n.nsSeparator||this.options.nsSeparator;return o?{res:"".concat(l).concat(x).concat(s),usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:"".concat(l).concat(x).concat(s)}return o?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(n)}:s}const f=this.resolve(e,n);let d=f&&f.res;const g=f&&f.usedKey||s,p=f&&f.exactUsedKey||s,y=Object.prototype.toString.apply(d),b=["[object Number]","[object Function]","[object RegExp]"],_=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,w=!this.i18nFormat||this.i18nFormat.handleAsObject;if(w&&d&&(typeof d!="string"&&typeof d!="boolean"&&typeof d!="number")&&b.indexOf(y)<0&&!(typeof _=="string"&&Array.isArray(d))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,d,{...n,ns:a}):"key '".concat(s," (").concat(this.language,")' returned an object instead of string.");return o?(f.res=x,f.usedParams=this.getUsedParamsDetails(n),f):x}if(i){const x=Array.isArray(d),F=x?[]:{},D=x?p:g;for(const E in d)if(Object.prototype.hasOwnProperty.call(d,E)){const se="".concat(D).concat(i).concat(E);F[E]=this.translate(se,{...n,joinArrays:!1,ns:a}),F[E]===se&&(F[E]=d[E])}d=F}}else if(w&&typeof _=="string"&&Array.isArray(d))d=d.join(_),d&&(d=this.extendTranslation(d,e,n,r));else{let x=!1,F=!1;const D=n.count!==void 0&&typeof n.count!="string",E=ft.hasDefaultValue(n),se=D?this.pluralResolver.getSuffix(u,n.count,n):"",Z=n.ordinal&&D?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",xe=D&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),j=xe&&n["defaultValue".concat(this.options.pluralSeparator,"zero")]||n["defaultValue".concat(se)]||n["defaultValue".concat(Z)]||n.defaultValue;!this.isValidLookup(d)&&E&&(x=!0,d=j),this.isValidLookup(d)||(F=!0,d=s);const ae=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:d,ee=E&&j!==d&&this.options.updateMissing;if(F||x||ee){if(this.logger.log(ee?"updateKey":"missingKey",u,l,s,ee?j:d),i){const P=this.resolve(s,{...n,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let L=[];const B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&B&&B[0])for(let P=0;P<B.length;P++)L.push(B[P]);else this.options.saveMissingTo==="all"?L=this.languageUtils.toResolveHierarchy(n.lng||this.language):L.push(n.lng||this.language);const Ie=(P,U,le)=>{const pe=E&&le!==d?le:ae;this.options.missingKeyHandler?this.options.missingKeyHandler(P,l,U,pe,ee,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(P,l,U,pe,ee,n),this.emit("missingKey",P,l,U,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&D?L.forEach(P=>{const U=this.pluralResolver.getSuffixes(P,n);xe&&n["defaultValue".concat(this.options.pluralSeparator,"zero")]&&U.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&U.push("".concat(this.options.pluralSeparator,"zero")),U.forEach(le=>{Ie([P],s+le,n["defaultValue".concat(le)]||j)})}):Ie(L,s,j))}d=this.extendTranslation(d,e,n,f,r),F&&d===s&&this.options.appendNamespaceToMissingKey&&(d="".concat(l,":").concat(s)),(F||x)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(s):s,x?d:void 0):d=this.options.parseMissingKeyHandler(d))}return o?(f.res=d,f.usedParams=this.getUsedParamsDetails(n),f):d}extendTranslation(e,n,r,o,i){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||o.usedLng,r),u){const d=e.match(this.interpolator.nestingRegexp),g=d&&d.length;c<g&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(r.lng=this.language||o.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,g=new Array(d),p=0;p<d;p++)g[p]=arguments[p];return i&&i[0]===g[0]&&!r.context?(s.logger.warn("It seems you are nesting recursively key: ".concat(g[0]," in key: ").concat(n[0])),null):s.translate(...g,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=pr.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,o,i,s,a;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;o=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=n.count!==void 0&&typeof n.count!="string",g=d&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),p=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",y=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);f.forEach(b=>{this.isValidLookup(r)||(a=b,!xn["".concat(y[0],"-").concat(b)]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(xn["".concat(y[0],"-").concat(b)]=!0,this.logger.warn('key "'.concat(o,'" for languages "').concat(y.join(", "),'" won\'t get resolved as namespace "').concat(a,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(_=>{if(this.isValidLookup(r))return;s=_;const w=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(w,c,_,b,n);else{let x;d&&(x=this.pluralResolver.getSuffix(_,n.count,n));const F="".concat(this.options.pluralSeparator,"zero"),D="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(d&&(w.push(c+x),n.ordinal&&x.indexOf(D)===0&&w.push(c+x.replace(D,this.options.pluralSeparator)),g&&w.push(c+F)),p){const E="".concat(c).concat(this.options.contextSeparator).concat(n.context);w.push(E),d&&(w.push(E+x),n.ordinal&&x.indexOf(D)===0&&w.push(E+x.replace(D,this.options.pluralSeparator)),g&&w.push(E+F))}}let q;for(;q=w.pop();)this.isValidLookup(r)||(i=q,r=this.getResource(_,b,q,n))}))})}),{res:r,usedKey:o,exactUsedKey:i,usedLng:s,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,o):this.resourceStore.getResource(e,n,r,o)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&typeof e.replace!="string";let o=r?e.replace:e;if(r&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!r){o={...o};for(const i of n)delete o[i]}return o}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}const Rt=t=>t.charAt(0).toUpperCase()+t.slice(1);class On{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Y.create("languageUtils")}getScriptPartFromCode(e){if(e=dt(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=dt(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(o=>o.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Rt(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Rt(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Rt(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(i=>{if(i===o)return i;if(!(i.indexOf("-")<0&&o.indexOf("-")<0)&&(i.indexOf("-")>0&&o.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===o||i.indexOf(o)===0&&o.length>1))return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),o=[],i=s=>{s&&(this.isSupportedCode(s)?o.push(s):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(s)))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):typeof e=="string"&&i(this.formatLanguageCode(e)),r.forEach(s=>{o.indexOf(s)<0&&i(this.formatLanguageCode(s))}),o}}let _s=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Cs={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Rs=["v1","v2","v3"],Es=["v4"],Sn={zero:0,one:1,two:2,few:3,many:4,other:5},js=()=>{const t={};return _s.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:Cs[e.fc]}})}),t};class As{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=Y.create("pluralResolver"),(!this.options.compatibilityJSON||Es.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=js(),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{const r=dt(e==="dev"?"en":e),o=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:r,type:o});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];const s=new Intl.PluralRules(r,{type:o});return this.pluralRulesCache[i]=s,s}catch(r){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(o=>"".concat(n).concat(o))}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((o,i)=>Sn[o]-Sn[i]).map(o=>"".concat(this.options.prepend).concat(n.ordinal?"ordinal".concat(this.options.prepend):"").concat(o)):r.numbers.map(o=>this.getSuffix(e,o,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(e,r);return o?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(r.ordinal?"ordinal".concat(this.options.prepend):"").concat(o.select(n)):this.getSuffixRetroCompatible(o,n):(this.logger.warn("no plural rule found for: ".concat(e)),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let o=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));const i=()=>this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString();return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?"_plural_".concat(o.toString()):i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!Rs.includes(this.options.compatibilityJSON)}}const _n=function(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=vs(t,e,n);return!i&&o&&typeof n=="string"&&(i=Nt(t,n,r),i===void 0&&(i=Nt(e,n,r))),i},Et=t=>t.replace(/\$/g,"$$$$");class Ls{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Y.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:o,prefix:i,prefixEscaped:s,suffix:a,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:g,nestingSuffix:p,nestingSuffixEscaped:y,nestingOptionsSeparator:b,maxReplaces:_,alwaysFormat:w}=e.interpolation;this.escape=n!==void 0?n:bs,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=i?Re(i):s||"{{",this.suffix=a?Re(a):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Re(d):g||Re("$t("),this.nestingSuffix=p?Re(p):y||Re(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=_||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>n&&n.source===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(e,n,r,o){let i,s,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const _=_n(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,r,{...o,...n,interpolationkey:g}):_}const p=g.split(this.formatSeparator),y=p.shift().trim(),b=p.join(this.formatSeparator).trim();return this.format(_n(n,l,y,this.options.keySeparator,this.options.ignoreJSONStructure),b,r,{...o,...n,interpolationkey:y})};this.resetRegExp();const c=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,f=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Et(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Et(this.escape(g)):Et(g)}].forEach(g=>{for(a=0;i=g.regex.exec(e);){const p=i[1].trim();if(s=u(p),s===void 0)if(typeof c=="function"){const b=c(e,i,o);s=typeof b=="string"?b:""}else if(o&&Object.prototype.hasOwnProperty.call(o,p))s="";else if(f){s=i[0];continue}else this.logger.warn("missed to pass in variable ".concat(p," for interpolating ").concat(e)),s="";else typeof s!="string"&&!this.useRawValueToEscape&&(s=mn(s));const y=g.safeValue(s);if(e=e.replace(i[0],y),f?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,i,s;const a=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp("".concat(c,"[ ]*{")));let d="{".concat(f[1]);l=f[0],d=this.interpolate(d,s);const g=d.match(/'/g),p=d.match(/"/g);(g&&g.length%2===0&&!p||p.length%2!==0)&&(d=d.replace(/'/g,'"'));try{s=JSON.parse(d),u&&(s={...u,...s})}catch(y){return this.logger.warn("failed parsing options string in nesting for key ".concat(l),y),"".concat(l).concat(c).concat(d)}return s.defaultValue&&s.defaultValue.indexOf(this.prefix)>-1&&delete s.defaultValue,l};for(;o=this.nestingRegexp.exec(e);){let l=[];s={...r},s=s.replace&&typeof s.replace!="string"?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let u=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const c=o[1].split(this.formatSeparator).map(f=>f.trim());o[1]=c.shift(),l=c,u=!0}if(i=n(a.call(this,o[1].trim(),s),s),i&&o[0]===e&&typeof i!="string")return i;typeof i!="string"&&(i=mn(i)),i||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(e)),i=""),u&&(i=l.reduce((c,f)=>this.format(c,f,r.lng,{...r,interpolationkey:o[1].trim()}),i.trim())),e=e.replace(o[0],i),this.regexp.lastIndex=0}return e}}const Ps=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);e==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(s=>{if(s){const[a,...l]=s.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=a.trim();n[c]||(n[c]=u),u==="false"&&(n[c]=!1),u==="true"&&(n[c]=!0),isNaN(u)||(n[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:n}},Ee=t=>{const e={};return(n,r,o)=>{let i=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(i={...i,[o.interpolationkey]:void 0});const s=r+JSON.stringify(i);let a=e[s];return a||(a=t(dt(r),o),e[s]=a),a(n)}};class Is{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Y.create("formatter"),this.options=e,this.formats={number:Ee((n,r)=>{const o=new Intl.NumberFormat(n,{...r});return i=>o.format(i)}),currency:Ee((n,r)=>{const o=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>o.format(i)}),datetime:Ee((n,r)=>{const o=new Intl.DateTimeFormat(n,{...r});return i=>o.format(i)}),relativetime:Ee((n,r)=>{const o=new Intl.RelativeTimeFormat(n,{...r});return i=>o.format(i,r.range||"day")}),list:Ee((n,r)=>{const o=new Intl.ListFormat(n,{...r});return i=>o.format(i)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=Ee(n)}format(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(a=>a.indexOf(")")>-1)){const a=i.findIndex(l=>l.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,a)].join(this.formatSeparator)}return i.reduce((a,l)=>{const{formatName:u,formatOptions:c}=Ps(l);if(this.formats[u]){let f=a;try{const d=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},g=d.locale||d.lng||o.locale||o.lng||r;f=this.formats[u](a,g,{...c,...o,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn("there was no format function for ".concat(u));return a},e)}}const Fs=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Ns extends mt{constructor(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=o,this.logger=Y.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,o.backend,o)}queueLoad(e,n,r,o){const i={},s={},a={},l={};return e.forEach(u=>{let c=!0;n.forEach(f=>{const d="".concat(u,"|").concat(f);!r.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?s[d]===void 0&&(s[d]=!0):(this.state[d]=1,c=!1,s[d]===void 0&&(s[d]=!0),i[d]===void 0&&(i[d]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(a[u]=!0)}),(Object.keys(i).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(i),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const o=e.split("|"),i=o[0],s=o[1];n&&this.emit("failedLoading",i,s,n),!n&&r&&this.store.addResourceBundle(i,s,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const a={};this.queue.forEach(l=>{ms(l.loaded,[i],s),Fs(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{a[u][f]===void 0&&(a[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:o,wait:i,callback:s});return}this.readingCalls++;const a=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,o+1,i*2,s)},i);return}s(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(c=>a(null,c)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const i=this.queueLoad(e,n,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn("".concat(n,"loading namespace ").concat(i," for language ").concat(o," failed"),s),!s&&a&&this.logger.log("".concat(n,"loaded namespace ").concat(i," for language ").concat(o),a),this.loaded(e,s,a)})}saveMissing(e,n,r,o,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn('did not save key "'.concat(r,'" as the namespace "').concat(n,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...s,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,n,r,o,l):c=u(e,n,r,o),c&&typeof c.then=="function"?c.then(f=>a(null,f)).catch(a):a(null,c)}catch(c){a(c)}else u(e,n,r,o,a,l)}!e||!e[0]||this.store.addResource(e[0],n,r,o)}}}const Cn=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),typeof t[1]=="string"&&(e.defaultValue=t[1]),typeof t[2]=="string"&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Rn=t=>(typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Ze=()=>{},ks=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class He extends mt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Rn(e),this.services={},this.logger=Y,this.modules={external:[]},ks(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const o=Cn();this.options={...o,...this.options,...Rn(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...o.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Y.init(i(this.modules.logger),this.options):Y.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=Is);const f=new On(this.options);this.store=new wn(this.options.resources,this.options);const d=this.services;d.logger=Y,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new As(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(d.formatter=i(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Ls(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Ns(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(g){for(var p=arguments.length,y=new Array(p>1?p-1:0),b=1;b<p;b++)y[b-1]=arguments[b];e.emit(g,...y)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new ft(this.services,this.options),this.translator.on("*",function(g){for(var p=arguments.length,y=new Array(p>1?p-1:0),b=1;b<p;b++)y[b-1]=arguments[b];e.emit(g,...y)}),this.modules.external.forEach(g=>{g.init&&g.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Ze),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=Te(),u=()=>{const c=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),r(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ze;const o=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&o.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const i=[],s=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{u!=="cimode"&&i.indexOf(u)<0&&i.push(u)})};o?s(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>s(l)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(i,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,n,r){const o=Te();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=Ze),this.services.backendConnector.reload(e,n,i=>{o.resolve(),r(i)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&pr.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const o=Te();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,o.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{s(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),o}getFixedT(e,n,r){var o=this;const i=function(s,a){let l;if(typeof a!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=o.options.overloadTranslationOptionHandler([s,a].concat(c))}else l={...a};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const d=o.options.keySeparator||".";let g;return l.keyPrefix&&Array.isArray(s)?g=s.map(p=>"".concat(l.keyPrefix).concat(d).concat(p)):g=l.keyPrefix?"".concat(l.keyPrefix).concat(d).concat(s):s,o.t(g,l)};return typeof e=="string"?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,l)=>{const u=this.services.backendConnector.state["".concat(a,"|").concat(l)];return u===-1||u===0||u===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!o||s(i,e)))}loadNamespaces(e,n){const r=Te();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Te();typeof e=="string"&&(e=[e]);const o=this.options.preload||[],i=e.filter(s=>o.indexOf(s)<0&&this.services.languageUtils.isSupportedCode(s));return i.length?(this.options.preload=o.concat(i),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new On(Cn());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new He(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ze;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},i=new He(o);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new wn(this.store.data,o),i.services.resourceStore=i.store),i.translator=new ft(i.services,o),i.translator.on("*",function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];i.emit(a,...u)}),i.init(o,n),i.translator.options=o,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const T=He.createInstance();T.createInstance=He.createInstance;T.createInstance;T.dir;T.init;T.loadResources;T.reloadResources;T.use;T.changeLanguage;T.getFixedT;T.t;T.exists;T.setDefaultNamespace;T.hasLoadedNamespace;T.loadNamespaces;T.loadLanguages;let Ae;const Ms=()=>Ae,Ts=t=>{K.onLanguageChange(e=>t.changeLanguage(e))};class $s{constructor(){this._appName="RMG",this._lng=void 0,this._defaultResources={},this._resources={}}use(e){return T.use(e),this}withAppName(e){return this._appName=e,this}withLng(e){return this._lng=e,this}withDefaultResource(e){return Object.entries(e).forEach(([n,r])=>{this._defaultResources[n]=r}),this}withResource(e,n){return this._resources[e]=n,this}combineResource(){const e={};return Object.entries(this._defaultResources).forEach(([n,r])=>{e[n]={translation:r}}),Object.entries(this._resources).forEach(([n,r])=>{n in e?e[n].translation=Object.assign(Object.assign({},e[n].translation),r):e[n]={translation:r}}),e}build(){return Ae=T.createInstance({lng:this._lng,fallbackLng:{"zh-CN":["zh-Hans","zh-Hant","en"],"zh-HK":["zh-Hant","zh-Hans","en"],"zh-TW":["zh-Hant","zh-Hans","en"],default:["en"]},resources:this.combineResource()},(e,n)=>{var r;if(e){R.error("unexpected error occurs while initialising i18n",e);return}document.title=n(this._appName),document.documentElement.lang=(r=this._lng)!==null&&r!==void 0?r:"en"}),Ae.on("languageChanged",e=>{document.title=Ae.t(this._appName),document.documentElement.lang=e}),Ts(Ae),Ae}}var We=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};let fe={};const Ds=()=>fe,mr="LOAD_REMOTE_FONT",Bs=(t,e)=>{I.postEvent(mr,{family:t,definition:e})},Us=t=>{I.onMessage(mr,t)},qt=t=>t.source.startsWith("local"),Vs=t=>{var e;const n=(e=t.source.match(/url\(['"](\S+)['"]\)/))===null||e===void 0?void 0:e[1];if(!n)throw new Error("Invalid URL in source "+t.source);return new URL(n,window.location.href)},En=(t,e)=>{var n;return"@font-face {\n    font-family: '".concat(t,"';\n    src: ").concat(e.source,";\n    ").concat(Object.entries((n=e.descriptors)!==null&&n!==void 0?n:{}).map(([r,o])=>"".concat(r,": ").concat(o,";")).join("\n"),"\n}")},zs=()=>bi(()=>fetch("/fonts/config.json").then(t=>t.json()));let vr=zs();const Hs=(t,e,n)=>We(void 0,void 0,void 0,function*(){try{const r=new FontFace(t,e.source,e.descriptors);return qt(e)?yield r.load():r.loaded.then(n),document.fonts.add(r),fe[t]={configs:[Object.assign(Object.assign({},e),{font:r})]},!0}catch(r){return R.warn("Failed to load font ".concat(t," with source ").concat(e.source),r),!1}}),Ws=(t,e,n)=>We(void 0,void 0,void 0,function*(){if(e.some(qt))return R.error("Unable to load multiple FontFace for the same family ".concat(t)),!1;const r=[];return e.forEach(o=>{const i=new FontFace(t,o.source,o.descriptors);i.loaded.then(n),document.fonts.add(i),r.push(Object.assign(Object.assign({},o),{font:i}))}),fe[t]={configs:r},!0}),Ks=(t,e)=>We(void 0,void 0,void 0,function*(){if(t in fe)return fe[t];let n;if(e)n=e;else try{n=(yield vr())[t]}catch(i){const s=i instanceof Error?" due to "+i.message:"";throw new Error("Unable to load font definition of "+t+s)}const r=()=>{Bs(t,n)};for(const i of n.configs)if(Array.isArray(i)?yield Ws(t,i,r):yield Hs(t,i,r))break;const o=fe[t];if(o)return o.displayName=n.displayName,o.url=n.url,fe[t]}),Gs=t=>We(void 0,void 0,void 0,function*(){const e=fe[t];if(!e)throw new Error("Font family ".concat(t," is not loaded"));return(yield Promise.all(e.configs.filter(r=>{const o=r.font.status==="loaded";return o||R.warn("Font family ".concat(t," is not loaded completely. Some FontFaceRules may be missing")),o}).map(r=>We(void 0,void 0,void 0,function*(){if(qt(r))return En(t,r);const o=Vs(r),i=yield fetch(o),s=yield yi(yield i.blob());return En(t,Object.assign(Object.assign({},r),{source:"url('".concat(s,"')")}))})))).join("\n\n")}),$e={getAllFonts:vr,getLoadedFonts:Ds,loadFont:Ks,getFontCSS:Gs,onRemoteFontLoaded:Us},Js=()=>{if($.getEnvironment()!=="PRD"||!$.isRMT())if(document.querySelector('meta[name="robots"]'))R.info("Noindex meta tag already presents.");else{R.info("Injecting noindex meta tag as this app is not PRD RMT.");const t=document.createElement("meta");t.name="robots",t.content="noindex",document.head.appendChild(t)}},Ys={injectNoindexRule:Js};var yr=function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(f){s(f)}}function l(c){try{u(r.throw(c))}catch(f){s(f)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};let br=!1;const Qs=()=>yr(void 0,void 0,void 0,function*(){yield $.loadWithTimeout(),R.setup($.getComponent()),Ys.injectNoindexRule(),K.isAnalyticsQADone()?K.isAllowAnalytics()&&(R.info("User has previously allowed GA"),lt.init()):W.isStandaloneWindow()&&!$.isRMT()&&(R.warn("App is opened in standalone window but analytics Q&A is not finished. GA will be init by default."),lt.init()),br=!0}),qs=()=>yr(void 0,void 0,void 0,function*(){let t=0;for(;t<=10&&!br;)yield Zn(1e3),t+=1}),Q={ready:qs,getAppName:$.getComponent,getAppVersion:$.getVersion,getEnv:$.getEnvironment,getInstance:$.getInstance,event:lt.customEvent,isStandaloneWindow:W.isStandaloneWindow,injectUITools:W.injectUITools,openApp:W.openApp,onAppOpen:W.onAppOpen,closeApp:W.closeApp,onAppClose:W.onAppClose,updateAppMetadata:W.updateAppMetadata,onAppMetadataUpdate:W.onAppMetadataUpdate,updateUrl:W.updateUrl,onUrlUpdate:W.onUrlUpdate,toggleNavMenu:W.toggleNavMenu,postEvent:I.postEvent,onMessage:I.onMessage,setLanguage:K.setLanguage,getLanguage:K.getLanguage,onLanguageChange:K.onLanguageChange,setColourMode:K.setColourMode,getColourMode:K.getColourMode,onColourModeChange:K.onColourModeChange,isAnalyticsQADone:K.isAnalyticsQADone,isAllowAnalytics:K.isAllowAnalytics,allowAnalytics:K.allowAnalytics,storage:{on:Ce.on,get:Ce.get,getAll:Ce.getAll,set:Ce.set,remove:Ce.remove,clear:Ce.clear},getMsSinceStartUp:ss.getMsSinceStartUp,I18nBuilder:$s,getI18nInstance:Ms,getAllFonts:$e.getAllFonts,getLoadedFonts:$e.getLoadedFonts,loadFont:$e.loadFont,getFontCSS:$e.getFontCSS,onRemoteFontLoaded:$e.onRemoteFontLoaded};Qs().then();window.rmgRuntime=Q;const Ga=R.logger;var Zs=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i},Xs=function(t){switch(t){case he.DEV:return"red";case he.UAT:return"orange";case he.PRD:return"green"}};function Ja(t){var e=t.environment,n=t.version,r=t.popoverHeader,o=t.popoverBody,i=Zs(v.useState(!1),2),s=i[0],a=i[1];return h.jsxs(kn,{isOpen:s,onOpen:function(){return r&&a(!0)},onClose:function(){return a(!1)},children:[h.jsx(Mr,{children:h.jsx(Tr,{ml:1,colorScheme:Xs(e),title:"".concat(e,": ").concat(n),cursor:r?"pointer":"help",children:e===he.PRD?n:e})}),h.jsxs(Dn,{children:[h.jsx($r,{}),h.jsx(Dr,{}),h.jsx(Br,{children:r}),h.jsx(Ur,{children:o})]})]})}var ea=function(t,e,n){var r=new Blob([n],{type:e});ta(t,r)},ta=function(t,e){var n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)},na=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i};function ra(t){var e=t.cancelRef,n=t.isOpen,r=t.onClose,o=na(v.useState(!1),2),i=o[0],s=o[1],a=function(){s(!0);var l=Q.storage.getAll(),u=Q.getAppName(),c="".concat(u,"_BACKUP_").concat(new Date().toISOString(),".json");ea(c,"application/json",JSON.stringify(l)),Q.storage.clear(),setTimeout(function(){window.location.reload()},2e3)};return h.jsxs(Vr,{leastDestructiveRef:e,isOpen:n,onClose:r,children:[h.jsx(zr,{}),h.jsxs(Hr,{children:[h.jsx(Wr,{children:"Warning 警告"}),h.jsx(Kr,{}),h.jsxs(Gr,{sx:{"& p":{my:1}},children:[h.jsx(ye,{children:"Are you sure you want to reset the app? The webpage local storage for this app will be cleared. A copy of the local storage will be downloaded and it may be used for restoration (varies with app)."}),h.jsx(ye,{children:"確定重設該應用程式嗎？應用程式的網頁本地儲存將會被清除。本地儲存的副本可供下載及用於復原（因應用程式而異）。"}),h.jsx(ye,{children:"确定重置本应用程序吗？应用程序的网页本地存储将会被清除。本地存储的拷贝可供下载以及用于还原（因应用程序而異）。"})]}),h.jsxs(Jr,{children:[h.jsx(ln,{ref:e,onClick:r,children:"Cancel"}),h.jsx(ln,{isLoading:i,colorScheme:"red",ml:3,onClick:a,children:"Confirm and reload"})]})]})]})}var Ve=function(){return Ve=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ve.apply(this,arguments)},oa=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},ia=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i};function sa(t){var e=t.error,n=t.errorInfo,r=t.allowReset,o=t.sx,i=oa(t,["error","errorInfo","allowReset","sx"]),s=ie("RmgErrorBoundary"),a=Bn("primary.500","primary.300"),l=ia(v.useState(!1),2),u=l[0],c=l[1],f=v.useRef(null),d=function(y){return h.jsx(un,{color:a,role:"button",onClick:function(){return c(!0)},children:y})},g=Q.getAppName(),p=h.jsx(un,{color:a,href:"https://github.com/railmapgen/".concat(g==="rmg-home"?"railmapgen.github.io":g,"/issues"),isExternal:!0,children:"GitHub Issue"});return h.jsxs(Yr,Ve({status:"error",sx:Ve(Ve({},s),o)},i,{children:[h.jsx(Qr,{}),h.jsx(qr,{children:"Something went wrong!"}),h.jsxs(Zr,{children:[h.jsxs(ye,{children:["Please try to refresh or re-import your configuration files. If the issue still persists, please consider upgrading your browser",r?h.jsxs(h.Fragment,{children:[" or ",d("reset this app")]}):"",". Should you need any help, please contact us by submitting an issue in ",p," with the details shown below."]}),h.jsxs(ye,{children:["請嘗試重新整理或重新上載設定檔。如果問題仍然存在，請考慮更新你的瀏覽器",r?h.jsxs(h.Fragment,{children:["或",d("重設該應用程式")]}):"","。如需協助或與我們聯絡，請前往 ",p," 提交一個 Issue 並附以詳細資料。"]}),h.jsxs(ye,{children:["请尝试刷新或者重新上传配置文件。如果问题仍然存在，请考虑更新您的浏览器",r?h.jsxs(h.Fragment,{children:["或者",d("重置本应用程序")]}):"","。如需帮助或者联系我们，请前往 ",p," 提交一个 Issue 并附上详细信息。"]}),h.jsxs(ye,{as:"details",children:[e==null?void 0:e.toString(),h.jsx("br",{}),n==null?void 0:n.componentStack]}),r&&h.jsx(ra,{cancelRef:f,isOpen:u,onClose:function(){return c(!1)}})]})]}))}var aa=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),kt=function(){return kt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},kt.apply(this,arguments)},la=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},Ya=function(t){aa(e,t);function e(n){var r=t.call(this,n)||this;return r.state={hasError:!1,error:null,errorInfo:null},r}return e.getDerivedStateFromError=function(){return{hasError:!0}},e.prototype.componentDidCatch=function(n,r){this.setState({error:n,errorInfo:r})},e.prototype.render=function(){var n=this.props,r=n.children,o=n.suspenseFallback,i=n.allowReset,s=la(n,["children","suspenseFallback","allowReset"]);return this.state.hasError?h.jsx(sa,kt({error:this.state.error,errorInfo:this.state.errorInfo,allowReset:i},s)):o?h.jsx(v.Suspense,{fallback:o,children:r}):r},e}(je.Component),Mt=function(){return Mt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Mt.apply(this,arguments)},ua=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},Qa=function(t){var e=t.label,n=t.children;t.width;var r=t.noLabel,o=t.oneLine,i=t.helper,s=t.errorMessage,a=t.className,l=ua(t,["label","children","width","noLabel","oneLine","helper","errorMessage","className"]),u=ie("RmgLabel");return h.jsxs(Xr,Mt({className:"".concat(o?"rmg-label__one-line":""," ").concat(a!=null?a:""),"aria-label":e,sx:u,isInvalid:!!s},l,{children:[!r&&h.jsx(eo,{size:"xs",children:e}),n,s?h.jsx(to,{children:s}):i?h.jsx(no,{children:i}):h.jsx(h.Fragment,{})]}))},Tt=function(){return Tt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Tt.apply(this,arguments)},ca=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},jn=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i};function qa(t){var e=t.defaultValue,n=t.options,r=t.disabledOptions,o=ca(t,["defaultValue","options","disabledOptions"]),i=v.useRef(null);v.useEffect(function(){i.current&&(i.current.value=(e==null?void 0:e.toString())||"")},[e]);var s=function(a,l){return h.jsx("option",{value:a,disabled:(r==null?void 0:r.find(function(u){return u.toString()===a}))!==void 0,children:l},a)};return h.jsx(ro,Tt({ref:i,variant:"flushed",size:"sm",h:6},o,{children:Object.entries(n).map(function(a){var l=jn(a,2),u=l[0],c=l[1];return typeof c=="object"?h.jsx("optgroup",{label:u,children:Object.entries(c).map(function(f){var d=jn(f,2),g=d[0],p=d[1];return s(g,p)})},u):s(u,c)})}))}var da=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i},Za=function(){var t=Un(),e=t.colorMode,n=t.setColorMode,r=da(oo("(prefers-color-scheme: dark)"),1),o=r[0],i=v.useCallback(function(s){Q.setColourMode(s),n(s==="system"?o?"dark":"light":s)},[e,n,o]);return{colourMode:e,setColourMode:i}},jt=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i},An=function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},fa=function(t,e){var n=jt(v.useState(!0),2),r=n[0],o=n[1],i=v.useRef([]),s=v.useRef(),a=v.useCallback(function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];if(!r){i.current=l;return}o(!1),i.current=[],t.apply(void 0,An([],jt(l),!1))},[r,t]);return v.useEffect(function(){if(!r)return s.current=window.setTimeout(function(){o(!0),i.current.length&&t.apply(void 0,An([],jt(i.current),!1))},e),function(){window.clearTimeout(s.current)}},[r,e]),a},ha=function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i};function Xa(t){var e=t.defaultValue,n=t.min,r=t.max,o=t.step,i=t.onThrottledChange,s=t.leftIcon,a=t.rightIcon,l=ie("RmgThrottledSlider"),u=ha(v.useState(e!=null?e:0),2),c=u[0],f=u[1];v.useEffect(function(){e!==void 0&&c!==e&&f(e)},[e]);var d=fa(i!=null?i:function(){},500),g=function(){var y=Math.min(c+(o!=null?o:1)*10,r!=null?r:100);i==null||i(y),f(y)},p=function(){var y=Math.max(c-(o!=null?o:1)*10,n!=null?n:0);i==null||i(y),f(y)};return h.jsxs(ge,{sx:l,children:[s&&h.jsx(cn,{size:"xs",variant:"ghost","aria-label":"Drag left",icon:s,onClick:p}),h.jsxs(io,{value:c,min:n,max:r,step:o,onChange:function(y){d(y),f(y)},children:[h.jsx(so,{children:h.jsx(ao,{})}),h.jsx(lo,{})]}),a&&h.jsx(cn,{size:"xs",variant:"ghost","aria-label":"Drag right",icon:a,onClick:g})]})}var M=function(){return M=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},M.apply(this,arguments)},Je=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},el=function(t){var e=t.sx,n=t.className,r=Je(t,["sx","className"]),o=ie("RmgWindow");return h.jsx(ge,M({className:"rmg-window ".concat(n!=null?n:""),sx:M(M({},o),e)},r))},tl=function(t){var e=t.isAppClipHeader,n=t.sx,r=t.className,o=Je(t,["isAppClipHeader","sx","className"]),i=ie("RmgWindowHeader");return h.jsx(ge,M({className:"rmg-window__header ".concat(e?"rmg-window__app-clip-header":""," ").concat(r!=null?r:""),sx:M(M({},i),n)},o))},nl=function(t){var e=t.sx,n=t.className,r=Je(t,["sx","className"]),o=ie("RmgPage");return h.jsx(ge,M({className:"rmg-page ".concat(n!=null?n:""),sx:M(M({},o),e)},r))},rl=function(t){var e=t.sx,n=t.className,r=Je(t,["sx","className"]),o=ie("RmgSection");return h.jsx(Bt.section,M({className:"rmg-section ".concat(n!=null?n:""),sx:M(M({},o),e)},r))},ol=function(t){var e=t.sx,n=t.className,r=Je(t,["sx","className"]),o=ie("RmgSectionHeader");return h.jsx(Bt.div,M({className:"rmg-section__header ".concat(n!=null?n:""),sx:M(M({},o),e)},r))};var ze=function(){return ze=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ze.apply(this,arguments)},ga=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n};function il(t){var e=t.isIndeterminate,n=t.value,r=t.sx,o=ga(t,["isIndeterminate","value","sx"]),i=Bn("primary.500","primary.300"),s=ie("RmgLoader");return h.jsxs(ge,{sx:ze(ze({},s),r),children:[h.jsx("div",{className:"rmg-loader__backdrop"}),h.jsx(uo,ze({isIndeterminate:e,value:n,color:i},o))]})}var Ln=function(t){return t==="dark"?"primary.300":"primary.500"},At={variants:{flushed:function(t){var e=t.theme,n=t.colorMode;return{field:{_focusVisible:{borderColor:Ln(n),boxShadow:"0px 1px 0px 0px ".concat(De(e,Ln(n)))}}}}}},pa={defaultProps:{colorScheme:"primary"}},Pn={defaultProps:{colorScheme:"primary"}},ma={baseStyle:{w:"100%",h:"100%","& .ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper":{height:"unset"},"& .ag-cell":{display:"flex",lineHeight:"unset",alignItems:"center"},"& .ag-cell, & .ag-header-cell":{padding:"8px 9px"},"& .ag-row, & .ag-header":{border:"unset"},"&.ag-theme-alpine .ag-row .ag-cell, &.ag-theme-alpine .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))"},"&.ag-theme-alpine-dark .ag-row .ag-cell, &.ag-theme-alpine-dark .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))"},"& .ag-pinned-left-cols-container, & .ag-pinned-left-header":{boxShadow:"var(--chakra-shadows-lg)",zIndex:1},"&.ag-theme-alpine":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #fff)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #fcfcfc)"}},"&.ag-theme-alpine-dark":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #181d1f)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #222628)"}}}},va={baseStyle:function(t){var e=t.colorMode,n=t.zIndex;return{display:"none","&.show-app-clip":{display:"block"},"& .rmg-app-clip__overlay":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:n,bg:"blackAlpha.600"},"& .rmg-app-clip__container":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:n},"& .rmg-app-clip__content":{display:"flex",w:"100%",maxW:"md",my:16,bg:e==="light"?"white":"gray.700",boxShadow:"lg",borderRadius:"md",overflow:"hidden"}}},sizes:{xs:{"& .rmg-app-clip__content":{maxW:"xs"}},sm:{"& .rmg-app-clip__content":{maxW:"sm"}},lg:{"& .rmg-app-clip__content":{maxW:"lg"}},xl:{"& .rmg-app-clip__content":{maxW:"xl"}},full:{"& .rmg-app-clip__content":{maxW:"100vw",minH:"var(--chakra-vh)",my:0,borderRadius:0}}}},ya={baseStyle:function(t){var e=t.colorMode;return{p:1,my:1,w:"100%",borderRadius:2,bg:e==="dark"?"gray.700":"gray.50",boxShadow:"lg"}}},ba={baseStyle:function(t){var e=t.colorMode;return{"& thead":{position:"sticky",top:0,zIndex:10},"& td, th":{borderRight:"1px solid",borderColor:e==="dark"?"whiteAlpha.400":"blackAlpha.200",backgroundColor:e==="dark"?"gray.700":"gray.50",whiteSpace:"nowrap","&:first-of-type":{position:"sticky",left:0,zIndex:1},"&:last-of-type":{borderRight:"none",position:"sticky",right:0,zIndex:1}}}}},wa={baseStyle:function(){return{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",h:10,"& span":{maxW:"100%",textOverflow:"ellipsis",overflow:"hidden"},"& span:last-of-type":{fontWeight:"normal",fontSize:"2xs"}}}},xa={baseStyle:{flexDirection:"column",alignItems:"center",maxH:"100%",overflowY:"auto","& .chakra-alert__icon":{w:"40px",h:"40px",mr:0},"& .chakra-alert__title":{mt:4,mb:1,fontSize:"lg"},"& .chakra-alert__desc":{w:"100%","& p":{my:1},"& details":{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"sm"}}}},Oa={baseStyle:{display:"flex",flexDirection:"column",m:1,w:"unset","& label":{overflow:"hidden",fontSize:12,mr:0,mb:-.5,whiteSpace:"nowrap",textOverflow:"ellipsis"},"&.rmg-label__one-line":{flexDirection:"row",alignItems:"center","& label:first-of-type":{mr:"auto"}}}},Sa={baseStyle:{display:"inline-flex",alignItems:"center","& > button:first-of-type":{ml:1}}},_a={baseStyle:{w:"100%",h:"100%",position:"absolute",top:0,right:0,alignItems:"center",justifyContent:"center","& .rmg-loader__backdrop":{position:"absolute",w:"100%",h:"100%",zIndex:1500,bg:"blackAlpha.400"},"& .chakra-progress":{zIndex:2e3}}},de=function(t){return t==="dark"?"primary.300":"primary.500"},Ca={baseStyle:function(t){var e=t.theme,n=t.colorMode;return{"& .rmg-multi-select__wrapper":{position:"relative",w:"100%",h:"25.75px",transform:"translateY(1.75px)",cursor:"default"},"& .rmg-multi-select__field":{position:"relative",w:"100%",minW:0,outline:0,appearance:"none",transitionProperty:"common",transitionDuration:"normal",pb:"1px",fontSize:"sm",h:"6",borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_active:{borderColor:de(n),boxShadow:"0px 1px 0px 0px ".concat(De(e,de(n)))},_focus:{borderColor:de(n),boxShadow:"0px 1px 0px 0px ".concat(De(e,de(n)))},_focusVisible:{borderColor:de(n),boxShadow:"0px 1px 0px 0px ".concat(De(e,de(n)))},"&.active":{borderColor:de(n),boxShadow:"0px 1px 0px 0px ".concat(De(e,de(n)))},"& > span:last-of-type":{position:"absolute",right:8}},"& .rmg-multi-select__icon-wrapper":{display:"inline-flex",justifyContent:"center",w:6,h:"100%",position:"absolute",right:2,top:0,fontSize:"xl","& svg":{h:"1em",w:"1em"}},"& .chakra-popover__content":{w:"unset",minW:200},"& .chakra-popover__body":{p:0,"li label":{p:2,w:"100%",_hover:{bg:n==="dark"?"whiteAlpha.200":"gray.100"},_active:{bg:n==="dark"?"whiteAlpha.300":"gray.200"}}}}}},$t=function(){return $t=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},$t.apply(this,arguments)},Ra={overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap"},Ea={baseStyle:function(t){var e=t.noWrap;return $t({minH:6,fontSize:"sm"},e?Ra:{textWrap:"pretty"})}},ja={baseStyle:{position:"relative",flexDirection:"column",flex:1,overflow:"hidden",background:"inherit"}},Aa={baseStyle:{alignItems:"center",flexWrap:"wrap",pl:2,pr:3,py:1,zIndex:10}},La={baseStyle:{position:"relative",background:"inherit"}},Pa={baseStyle:{display:"flex",alignItems:"center",flexWrap:"wrap",position:"sticky",top:0,background:"inherit",px:2,py:1,zIndex:5}},Ia={baseStyle:function(t){var e=t.colorMode,n=t.width,r=t.alwaysOverlay;return{height:"100%",position:r?"absolute":{base:"absolute",lg:"relative"},right:r?0:{base:0,lg:"unset"},background:e==="light"?"white":"gray.800",boxShadow:"lg",flexShrink:0,flexDirection:"column",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",zIndex:5,"&.show-side-panel":{maxW:{base:"100%",sm:n},w:{base:"100%",sm:"unset"},visibility:"initial"},"& .rmg-side-panel__inner":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:n}},"& .rmg-side-panel__header":{flexShrink:0,pl:3,pr:1,py:0,"& button":{ml:"auto"}},"& .rmg-side-panel__body":{display:"flex",flexDirection:"column",flex:1,overflowY:"auto",p:1},"& .rmg-side-panel__footer":{display:"flex",justifyContent:"flex-end",p:1}}}},Fa={baseStyle:{h:6,alignItems:"center","& .chakra-button:first-of-type":{mr:1},"& .chakra-button:last-of-type":{ml:1}}},Na={baseStyle:{position:"relative",flexDirection:"column",height:"100%",overflow:"hidden",background:"inherit"}},ka={baseStyle:{px:2,alignItems:"center",zIndex:15,minH:10,transition:"0.3s ease-in-out"}},Ma={Input:At,Checkbox:Pn,Select:At,Slider:pa,Switch:Pn,Textarea:At,RmgAgGrid:ma,RmgAppClip:va,RmgCard:ya,RmgDataTable:ba,RmgEnrichedButton:wa,RmgErrorBoundary:xa,RmgLabel:Oa,RmgLineBadge:Sa,RmgLoader:_a,RmgMultiSelect:Ca,RmgOutput:Ea,RmgPage:ja,RmgPageHeader:Aa,RmgSection:La,RmgSectionHeader:Pa,RmgSidePanel:Ia,RmgThrottledSlider:Fa,RmgWindow:Na,RmgWindowHeader:ka},Dt=function(){return Dt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Dt.apply(this,arguments)},In="chakra-ui-color-mode",Ta=function(){var t=Q.getColourMode()==="system";return Q.isStandaloneWindow()&&(t?window.localStorage.removeItem(In):window.localStorage.setItem(In,Q.getColourMode())),{initialColorMode:"system",useSystemColorMode:t}},$a={primary:Dt({},co.colors.teal)},Da={global:{".mw-full":{w:"100%",flexBasis:"100%"}}},Ba=function(){return fo({config:Ta(),colors:$a,styles:Da,components:Ma})},sl=function(t){var e=t.children;return h.jsx(ho,{theme:Ba(),children:h.jsx(Ua,{children:e})})},Ua=function(t){var e=t.children,n=Un().setColorMode,r=go();return v.useEffect(function(){console.log("[rmg-components] RMG theme is initialised with",r.config),Q.onColourModeChange(function(o){if(o==="system"){var i=window.matchMedia("(prefers-color-scheme: dark)").matches;n(i?"dark":"light")}else n(o)})},[n]),h.jsx(h.Fragment,{children:e})},Xe={},Fn;function Va(){if(Fn)return Xe;Fn=1;var t=po();return Xe.createRoot=t.createRoot,Xe.hydrateRoot=t.hydrateRoot,Xe}var al=Va();export{sl as R,Ya as a,il as b,al as c,tl as d,rl as e,ol as f,el as g,nl as h,Wa as i,Qa as j,Ja as k,Ga as l,qa as m,Xa as n,Ka as o,Q as r,Za as u};
