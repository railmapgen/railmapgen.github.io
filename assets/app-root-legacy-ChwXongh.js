System.register(["./chakra-legacy-CCpLRiQ_.js","./react-legacy-hXNwZbhN.js","./main-legacy-BOm-rliD.js","./index-legacy-BX7Tuuzx.js","./rmg-fields-legacy-BWv4HeAO.js"],(function(e,t){"use strict";var n,s,i,a,o,r,l,c,d,h,u,x,p,j,m,g,f,v,w,b,z,k,y,S,C,H,M,L,R,O,T,D,I,A,_,E,P,N,U,V,B,F,W,$,G,J,q,K,Y,Q,Z,X,ee,te,ne,se,ie,ae,oe,re,le,ce,de,he,ue,xe,pe,je,me,ge,fe,ve,we,be,ze,ke,ye,Se,Ce,He,Me,Le,Re,Oe,Te,De,Ie,Ae,_e,Ee,Pe,Ne,Ue,Ve,Be,Fe,We,$e,Ge,Je,qe,Ke,Ye,Qe,Ze,Xe,et,tt,nt,st,it,at,ot,rt,lt,ct,dt,ht;return{setters:[e=>{n=e.j,s=e.ad,i=e.a,a=e.ae,o=e.H,r=e.T,l=e.B,c=e.af,d=e.ag,h=e.M,u=e.ah,x=e.E,p=e.J,j=e.ai,m=e.aj,g=e.ak,f=e.F,v=e.al,w=e.am,b=e.b,z=e.K,k=e.an,y=e.a2,S=e.ao,C=e.G,H=e.Q,M=e.R,L=e.V,R=e.I,O=e.i,T=e.O,D=e.N,I=e.ap,A=e.aq,_=e.h,E=e.ar,P=e.D,N=e.a1,U=e.a9,V=e.as,B=e.at,F=e.au,W=e.av,$=e.aw,G=e.t,J=e.d,q=e.e,K=e.l,Y=e.W,Q=e.P,Z=e.m,X=e.n,ee=e.v,te=e.w,ne=e.x,se=e.y,ie=e.ax,ae=e.ay,oe=e.az,re=e.r},e=>{le=e.o,ce=e.a,de=e.p,he=e.d,ue=e.B},e=>{xe=e.F,pe=e.u,je=e.a,me=e.s,ge=e.S,fe=e.n,ve=e.b,we=e.c,be=e.l,ze=e.d,ke=e.e,ye=e.f,Se=e.g,Ce=e.h,He=e.i,Me=e.A,Le=e.j,Re=e.k,Oe=e.m,Te=e.o,De=e.p,Ie=e.q,Ae=e.r,_e=e.t,Ee=e.E,Pe=e.v,Ne=e.w,Ue=e.x,Ve=e.y,Be=e.z,Fe=e.B,We=e.C,$e=e.D,Ge=e.G,Je=e.L,qe=e.N,Ke=e.H,Ye=e.I,Qe=e.J,Ze=e.K,Xe=e.M},e=>{et=e.i,tt=e.e,nt=e.f,st=e.l,it=e.r,at=e.b,ot=e.j,rt=e.u,lt=e.k,ct=e.g,dt=e.h},e=>{ht=e.R}],execute:function(){e("default",(function(){const{t:e}=le(),t=je(),{isPrimary:s,isTerminated:i,isShowMenu:a}=pe((e=>e.app)),[o,r]=ce.useState(!1);return ce.useEffect((()=>{it.isAnalyticsQADone()||r(!0)}),[]),i?n.jsx(ct,{children:n.jsx(Qn,{})}):!1===s?n.jsx(ct,{children:n.jsx(Kn,{})}):n.jsx(ue,{basename:"/",children:n.jsxs(ct,{className:a?"show-menu":"",children:[n.jsx(y,{variant:a?"ghost":"solid",colorScheme:a?void 0:"primary",size:"md","aria-label":e("Toggle menu"),title:e("Toggle menu"),icon:n.jsx(It,{}),position:"absolute",zIndex:110,borderRadius:0,onClick:()=>{it.toggleNavMenu(!a),t(Ue()),it.event(Ee.TOGGLE_NAV_MENU)}}),n.jsxs(dt,{sx:{flexDirection:"row"},children:[n.jsx(Gn,{}),n.jsx(ft,{})]}),n.jsx(Jn,{isOpen:o,onClose:()=>r(!1)})]})})}));var t=["en","zh-Hans","zh-Hant"],ut=["ja","ko"],xt={ar:{ar:"Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©",en:"Arabic",ko:"ì•„ëžì–´","zh-Hans":"é˜¿æ‹‰ä¼¯æ–‡","zh-Hant":"é˜¿æ‹‰ä¼¯æ–‡"},az:{az:"AzÉ™rbaycanca",en:"Azerbaijani",ko:"ì•„ì œë¥´ë°”ì´ìž”ì–´","zh-Hans":"é˜¿å¡žæ‹œç–†æ–‡","zh-Hant":"é˜¿å¡žæ‹œç–†æ–‡"},ca:{ca:"CatalÃ ",en:"Catalan",ko:"ì¹´íƒˆë£¨ëƒì–´","zh-Hans":"åŠ æ³°ç½—å°¼äºšæ–‡","zh-Hant":"åŠ æ³°éš†å°¼äºžæ–‡"},da:{da:"Dansk",en:"Danish",ko:"ë´ë§ˆí¬ì–´","zh-Hans":"ä¸¹éº¦æ–‡","zh-Hant":"ä¸¹éº¥æ–‡"},de:{de:"Deutsch",en:"German",ko:"ë…ì¼ì–´","zh-Hans":"å¾·æ–‡","zh-Hant":"å¾·æ–‡"},el:{el:"Î•Î»Î»Î·Î½Î¹ÎºÎ¬",en:"Greek",ko:"ê·¸ë¦¬ìŠ¤ì–´","zh-Hans":"å¸Œè…Šæ–‡","zh-Hant":"å¸Œè‡˜æ–‡"},en:{en:"English",ja:"è‹±èªž",ko:"ì˜ì–´","zh-Hans":"è‹±æ–‡","zh-Hant":"è‹±æ–‡"},es:{en:"Spanish",es:"EspaÃ±ol",ko:"ìŠ¤íŽ˜ì¸ì–´","zh-Hans":"è¥¿ç­ç‰™æ–‡","zh-Hant":"è¥¿ç­ç‰™æ–‡"},fa:{en:"Persian",fa:"ÙØ§Ø±Ø³ÛŒ",ko:"íŽ˜ë¥´ì‹œì•„ì–´","zh-Hans":"æ³¢æ–¯æ–‡","zh-Hant":"æ³¢æ–¯æ–‡"},fr:{en:"French",fr:"FranÃ§ais",ko:"í”„ëž‘ìŠ¤ì–´","zh-Hans":"æ³•æ–‡","zh-Hant":"æ³•æ–‡"},ga:{en:"Irish",ga:"Gaeilge",ko:"ì•„ì¼ëžœë“œì–´","zh-Hans":"çˆ±å°”å…°æ–‡","zh-Hant":"æ„›çˆ¾è˜­æ–‡"},gd:{en:"Scottish Gaelic",gd:"GÃ idhlig",ko:"ìŠ¤ì½”í‹€ëžœë“œ ê²Œì¼ì–´","zh-Hans":"è‹æ ¼å…°ç›–å°”æ–‡","zh-Hant":"è˜‡æ ¼è˜­è“‹çˆ¾æ–‡"},hi:{en:"Hindi",hi:"à¤¹à¤¿à¤¨à¥à¤¦à¥€",ko:"ížŒë””ì–´","zh-Hans":"å°åœ°æ–‡","zh-Hant":"å°åœ°æ–‡"},hu:{en:"Hungarian",hu:"Magyar",ko:"í—ê°€ë¦¬ì–´","zh-Hans":"åŒˆç‰™åˆ©æ–‡","zh-Hant":"åŒˆç‰™åˆ©æ–‡"},id:{en:"Indoesian",id:"Bahasa Indonesia",ko:"ì¸ë„ë„¤ì‹œì•„ì–´","zh-Hans":"å°å°¼æ–‡","zh-Hant":"å°å°¼æ–‡"},it:{en:"Italian",it:"Italiano",ko:"ì´íƒˆë¦¬ì•„ì–´","zh-Hans":"æ„å¤§åˆ©æ–‡","zh-Hant":"æ„å¤§åˆ©æ–‡"},ja:{en:"Japanese",ja:"æ—¥æœ¬èªž",ko:"ì¼ë³¸ì–´","zh-Hans":"æ—¥æ–‡","zh-Hant":"æ—¥æ–‡"},kk:{en:"Kazakh",kk:"ÒšÐ°Ð·Ð°Ò›ÑˆÐ°",ko:"ì¹´ìžíì–´","zh-Hans":"å“ˆè¨å…‹æ–‡","zh-Hant":"å“ˆè–©å…‹æ–‡"},ko:{en:"Korean",ja:"éŸ“å›½èªž",ko:"í•œêµ­ì–´","zh-Hans":"éŸ©æ–‡","zh-Hant":"éŸ“æ–‡"},ms:{en:"Malay",ko:"ë§ë ˆì´ì–´",ms:"Bahasa Melayu","zh-Hans":"é©¬æ¥æ–‡","zh-Hant":"é¦¬ä¾†æ–‡"},no:{en:"Norwegian",ko:"ë…¸ë¥´ì›¨ì´ì–´",no:"Norsk","zh-Hans":"æŒªå¨æ–‡","zh-Hant":"æŒªå¨æ–‡"},pl:{en:"Polish",ko:"í´ëž€ë“œì–´",pl:"Polski","zh-Hans":"æ³¢å…°æ–‡","zh-Hant":"æ³¢è˜­æ–‡"},pt:{en:"Portuguese",ko:"í¬ë¥´íˆ¬ê°ˆì–´",pt:"PortuguÃªs","zh-Hans":"è‘¡è„ç‰™æ–‡","zh-Hant":"è‘¡è„ç‰™æ–‡"},ro:{en:"Romanian",ko:"ë£¨ë§ˆë‹ˆì•„ì–´",ro:"RomÃ¢nÄƒ","zh-Hans":"ç½—é©¬å°¼äºšæ–‡","zh-Hant":"ç¾…é¦¬å°¼äºžæ–‡"},ru:{en:"Russian",ko:"ëŸ¬ì‹œì•„ì–´",ru:"Ð ÑƒÑÑÐºÐ¸Ð¹","zh-Hans":"ä¿„æ–‡","zh-Hant":"ä¿„æ–‡"},sv:{en:"Swedish",ko:"ìŠ¤ì›¨ë´ì–´",sv:"Svenska","zh-Hans":"ç‘žå…¸æ–‡","zh-Hant":"ç‘žå…¸æ–‡"},th:{en:"Thai",ko:"íƒœêµ­ì–´",th:"à¸ à¸²à¸©à¸²à¹„à¸—à¸¢","zh-Hans":"æ³°æ–‡","zh-Hant":"æ³°æ–‡"},tr:{en:"Turkish",ko:"íŠ€ë¥´í‚¤ì˜ˆì–´",tr:"TÃ¼rkÃ§e","zh-Hans":"åœŸè€³å…¶æ–‡","zh-Hant":"åœŸè€³å…¶æ–‡"},uk:{en:"Ukrainian",ko:"ìš°í¬ë¼ì´ë‚˜ì–´",uk:"Ð£ÐºÑ€Ð°Ñ—Ð½ÑÑŒÐºÐ°","zh-Hans":"ä¹Œå…‹å…°æ–‡","zh-Hant":"çƒå…‹è˜­æ–‡"},ur:{en:"Urdo",ko:"ìš°ë¥´ë‘ì–´",ur:"Ø§Ø±Ø¯Ùˆ","zh-Hans":"ä¹Œå°”éƒ½æ–‡","zh-Hant":"çƒçˆ¾éƒ½æ–‡"},uz:{en:"Uzbek",ko:"ìš°ì¦ˆë² í¬ì–´",uz:"OÊ»zbekcha","zh-Hans":"ä¹Œå…¹åˆ«å…‹æ–‡","zh-Hant":"çƒèŒ²åˆ¥å…‹æ–‡"},vi:{en:"Vietnamese",ko:"ë² íŠ¸ë‚¨ì–´",vi:"Tiáº¿ng Viá»‡t","zh-Hans":"è¶Šå—æ–‡","zh-Hant":"è¶Šå—æ–‡"},zh:{en:"Chinese",ja:"ä¸­å›½èªž",ko:"ì¤‘êµ­ì–´",zh:"ä¸­æ–‡","zh-Hans":"ä¸­æ–‡","zh-Hant":"ä¸­æ–‡"},"zh-Hans":{en:"Simplified Chinese",ja:"ä¸­å›½èªžï¼ˆç°¡ä½“å­—ï¼‰",ko:"ì¤‘êµ­ì–´ ê°„ì²´ìž","zh-Hans":"ç®€ä½“ä¸­æ–‡","zh-Hant":"ç°¡é«”ä¸­æ–‡"},"zh-Hant":{en:"Traditional Chinese",ja:"ä¸­å›½èªžï¼ˆç¹ä½“å­—ï¼‰",ko:"ì¤‘êµ­ì–´ ì •ì²´ìž","zh-Hans":"ç¹ä½“ä¸­æ–‡","zh-Hant":"ç¹é«”ä¸­æ–‡"}};const pt="/assets/rmp-logo512-eHekupnf.png",jt={flex:1,justifyContent:"center",mb:10,"& > div":{mb:3},"& img":{w:120,p:2,backgroundColor:"white",borderRadius:12}};function mt(){const{t:e}=le();return n.jsxs(s,{sx:jt,children:[n.jsxs(i,{spacing:3,children:[n.jsx(a,{src:"/logo512.png"}),n.jsx(a,{src:pt,backgroundColor:"white"})]}),n.jsx(o,{children:e("Welcome to Rail Map Toolkit")}),n.jsx(r,{fontSize:"lg",textAlign:"center",children:e("Select an app to start your own rail map design!")})]})}function gt(e){const{tab:t,isActive:s}=e,i=ce.useMemo((()=>t.url??"/"+t.app+"/"),[t.app]);return n.jsx(l,{display:s?"block":"none",flex:1,children:n.jsx("iframe",{id:xe+t.id,src:i,loading:"lazy",title:t.app,width:"100%",height:"100%","data-persisted-url":t.url,"data-testid":"app-container-iframe"})})}function ft(){const{openedTabs:e,activeTab:t}=pe((e=>e.app)),[,s]=de();return ce.useEffect((()=>{if(t){const n=e.find((e=>e.id===t))?.app;s(n?{app:n}:{})}else s({})}),[t]),0===e.length?n.jsx(mt,{}):n.jsx(n.Fragment,{children:e.map((e=>n.jsx(gt,{tab:e,isActive:t===e.id},e.id)))})}function vt(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"},child:[]}]})(e)}function wt(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"},child:[]}]})(e)}function bt(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"},child:[]}]})(e)}function zt(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 19H5V5h7V3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z"},child:[]}]})(e)}function kt(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58a.49.49 0 0 0 .12-.61l-1.92-3.32a.488.488 0 0 0-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54a.484.484 0 0 0-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58a.49.49 0 0 0-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"},child:[]}]})(e)}function yt(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"},child:[]}]})(e)}function St(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"},child:[]}]})(e)}function Ct(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M2 17h20v2H2v-2zm1.15-4.05L4 11.47l.85 1.48 1.3-.75-.85-1.48H7v-1.5H5.3l.85-1.47L4.85 7 4 8.47 3.15 7l-1.3.75.85 1.47H1v1.5h1.7l-.85 1.48 1.3.75zm6.7-.75 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H15v-1.5h-1.7l.85-1.47-1.3-.75L12 8.47 11.15 7l-1.3.75.85 1.47H9v1.5h1.7l-.85 1.48zM23 9.22h-1.7l.85-1.47-1.3-.75L20 8.47 19.15 7l-1.3.75.85 1.47H17v1.5h1.7l-.85 1.48 1.3.75.85-1.48.85 1.48 1.3-.75-.85-1.48H23v-1.5z"},child:[]}]})(e)}function Ht(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm4.5 14H8c-1.66 0-3-1.34-3-3s1.34-3 3-3l.14.01A3.98 3.98 0 0 1 12 7c2.21 0 4 1.79 4 4h.5a2.5 2.5 0 0 1 0 5z"},child:[]}]})(e)}function Mt(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M18.41 5.8 17.2 4.59c-.78-.78-2.05-.78-2.83 0l-2.68 2.68L3 15.96V20h4.04l8.74-8.74 2.63-2.63c.79-.78.79-2.05 0-2.83zM6.21 18H5v-1.21l8.66-8.66 1.21 1.21L6.21 18zM11 20l4-4h6v4H11z"},child:[]}]})(e)}function Lt(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 18c1.1 0 1.99-.9 1.99-2L22 6c0-1.1-.9-2-2-2H4c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2H0v2h24v-2h-4zM4 6h16v10H4V6z"},child:[]}]})(e)}function Rt(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"},child:[]},{tag:"path",attr:{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"},child:[]}]})(e)}function Ot(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"},child:[]}]})(e)}function Tt(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"},child:[]}]})(e)}function Dt(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"},child:[]}]})(e)}function It(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"},child:[]}]})(e)}function At(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"},child:[]}]})(e)}function _t(e){return c({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"},child:[]}]})(e)}const Et=(e,t,n)=>{const s=new Blob([n],{type:t});Pt(e,s)},Pt=(e,t)=>{const n=window.URL.createObjectURL(t),s=document.createElement("a");s.href=n,s.download=e,document.body.appendChild(s),s.click(),document.body.removeChild(s),window.URL.revokeObjectURL(n)},Nt=()=>{const{t:e}=le(),{token:t,refreshToken:s,currentSaveId:i}=pe((e=>e.account)),{resolveConflictModal:{isOpen:a,lastChangedAtTimeStamp:o,lastUpdatedAtTimeStamp:l,cloudData:c}}=pe((e=>e.rmpSave)),k=je(),[y,S]=he.useState(!1),C=()=>k(Ce());return n.jsxs(d,{isOpen:a,onClose:()=>{},size:"xl",scrollBehavior:"inside",closeOnOverlayClick:!1,closeOnEsc:!1,children:[n.jsx(h,{}),n.jsxs(u,{children:[n.jsx(x,{children:e("Oops! It seems there's a conflict")}),n.jsxs(p,{children:[n.jsx(r,{children:e("The local save is newer than the cloud one. Which one would you like to keep?")}),n.jsxs(j,{direction:{base:"column",sm:"row"},mt:"5",children:[n.jsxs(m,{overflow:"hidden",variant:"outline",mb:"3",children:[n.jsxs(g,{children:[n.jsxs(f,{align:"center",children:[n.jsx(v,{as:Lt,mr:"2"}),n.jsx(r,{py:"2",as:"b",children:e("Local save")})]}),n.jsxs(r,{py:"2",children:[e("Update at:")," ",new Date(o).toLocaleString()]})]}),n.jsx(w,{children:n.jsxs(j,{children:[n.jsx(b,{variant:"solid",colorScheme:"red",isLoading:y,onClick:()=>(async()=>{if(!i||!t||!s)return;S(!0);const{rep:e,token:n,refreshToken:a}=await we(i,t,s,ge.RMP);return a&&n?(k(ze({access:n,refresh:a})),409===e.status?(k(ke()),void S(!1)):void(200===e.status&&(k(ye()),S(!1),C()))):(k(be()),void S(!1))})(),children:e("Replace cloud with local")}),n.jsx(b,{variant:"solid",colorScheme:"primary",onClick:()=>(async()=>{const{data:e}=await Se(ge.RMP);Et(`RMP_${o}.json`,"application/json",e)})(),children:e("Download Local save")})]})})]}),n.jsxs(m,{overflow:"hidden",variant:"outline",mb:"3",children:[n.jsxs(g,{children:[n.jsxs(f,{align:"center",children:[n.jsx(v,{as:Ht,mr:"2"}),n.jsx(r,{py:"2",as:"b",children:e("Cloud save")})]}),n.jsxs(r,{py:"2",children:[e("Update at:")," ",new Date(l).toLocaleString()]})]}),n.jsx(w,{children:n.jsxs(j,{children:[n.jsx(b,{variant:"solid",colorScheme:"red",onClick:()=>(me(ge.RMP,c),fe(),k(ve(l)),void C()),children:e("Replace local with cloud")}),n.jsx(b,{variant:"solid",colorScheme:"primary",onClick:()=>{Et(`RMP_${l}.json`,"application/json",c)},children:e("Download Cloud save")})]})})]})]})]}),n.jsx(z,{})]})]})},Ut=()=>{const{t:e}=le(),t=je(),{isLoggedIn:s,name:i}=pe((e=>e.account));return he.useEffect((()=>{s&&t(ye())}),[s]),n.jsxs(b,{variant:"ghost",onClick:()=>t(He("account")),rightIcon:n.jsx(Rt,{}),"aria-label":"More account info",mx:2,px:3,py:8,children:[n.jsx(k,{name:s?i:void 0}),n.jsx(r,{as:"b",ml:2,mr:"auto",children:s?i:e("Log in / Sign up")})]})},Vt={alignItems:"center",m:2,px:3,alignSelf:{base:"center",md:"auto"},maxW:{base:"100vw",md:"unset"},w:{base:400,md:"unset"}},Bt=()=>{const{t:e}=le(),t=je(),{isLoggedIn:a,email:o,name:l,refreshToken:c}=pe((e=>e.account)),[d,h]=he.useState(void 0);return n.jsxs(n.Fragment,{children:[n.jsxs(f,{sx:Vt,children:[n.jsx(k,{size:"md",name:l}),n.jsxs(s,{spacing:0,alignItems:"flex-start",ml:2,children:[n.jsx(r,{as:"b",children:l}),n.jsx(r,{fontSize:"sm",children:o})]}),n.jsxs(i,{ml:"auto",spacing:1,children:[n.jsx(y,{variant:"ghost",size:"sm",onClick:()=>h("name"),"aria-label":e("Change name"),title:e("Change name"),icon:n.jsx(Mt,{})}),n.jsx(y,{variant:"ghost",size:"sm",onClick:()=>h("password"),"aria-label":e("Change password"),title:e("Change password"),icon:n.jsx(Ct,{})}),n.jsx(y,{variant:"ghost",size:"sm",onClick:async()=>{a&&(await fetch(Me+Le.AUTH_LOGOUT,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({refreshToken:c})}),t(be()),Re())},"aria-label":e("Log out"),title:e("Log out"),icon:n.jsx(bt,{})})]})]}),n.jsx(Ft,{infoType:d,onClose:()=>h(void 0)})]})};function Ft(e){const{infoType:t,onClose:s}=e,{t:i}=le(),a=S(),o=je(),{isLoggedIn:r,id:l,token:c,refreshToken:j}=pe((e=>e.account)),[m,g]=he.useState(""),f=e=>a({title:e,status:"error",duration:9e3,isClosable:!0});return n.jsxs(d,{isOpen:!!t,onClose:s,size:"xl",scrollBehavior:"inside",children:[n.jsx(h,{}),n.jsxs(u,{children:[n.jsx(x,{children:i("Update account info")}),n.jsx(C,{}),n.jsx(p,{children:n.jsx(et,{defaultValue:m,onDebouncedChange:e=>g(e)})}),n.jsx(z,{children:n.jsx(b,{onClick:async()=>{if(!r||!t)return;const{rep:e,token:n,refreshToken:a}=await Oe(Le.USER+"/"+l,{method:"PATCH",body:JSON.stringify({[t]:m})},c,j);if(a&&n){if(o(ze({access:n,refresh:a})),200===e.status)return"password"===t?(o(be()),void s()):"name"===t?(o(Te(m)),void s()):void 0;f(await e.text())}else f(i("Login status expired"))},children:i("Change")})})]})]})}const Wt=/^\S+@\S+\.\S+$/,$t=e=>!!e.match(Wt),Gt=e=>e.length>=8&&!!e.match(/\d/)&&!!e.match(/[a-zA-Z]/),Jt=e=>{const t=S(),{t:s}=le(),i=je(),[a,l]=ce.useState(""),[c,d]=ce.useState(""),[h,u]=ce.useState(""),[x,p]=ce.useState(""),[m,g]=ce.useState(!1),v=!!a&&$t(a),w=v&&!!h&&!!c&&Gt(c);return n.jsxs(tt,{children:[n.jsx(nt,{children:n.jsx(o,{as:"h4",size:"md",my:1,children:s("Forgot password")})}),x&&n.jsxs(H,{status:"error"===x?"error":"info",children:[n.jsx(M,{}),n.jsx(L,{children:"error"===x?s("Check your email again!"):s("Email with reset link is sent to: ")+x})]}),n.jsxs(f,{p:2,flexDirection:"column",children:[n.jsx(ht,{fields:[{label:s("Email"),type:"custom",component:n.jsxs(R,{size:"sm",children:[n.jsx(et,{type:"email",value:a,onDebouncedChange:l,delay:0,validator:$t}),n.jsx(O,{width:"auto",bottom:0,top:"unset",children:x?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{}),n.jsx(r,{fontSize:"xs",ml:1,children:s("Reset link sent")})]}):n.jsx(b,{size:"xs",onClick:async()=>{const e=await fetch(Me+Le.AUTH_SEND_RESET_PASSWORD_EMAIL,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:a})});204!==e.status?400!==e.status||p("error"):p(a)},isDisabled:!v,children:s("Send reset link")})})]})},{label:s("Reset password token"),type:"input",value:h,onChange:u,debouncedDelay:0},{label:s("Password"),type:"input",variant:"password",value:c,onChange:d,debouncedDelay:0,validator:Gt,helper:s("Minimum 8 characters. Contain at least 1 letter and 1 number.")}],minW:"full"}),n.jsxs(j,{mt:1,children:[n.jsx(b,{colorScheme:"primary",onClick:async()=>{g(!0);const e=new URLSearchParams({token:h}),n=`${Me}${Le.AUTH_RESET_PASSWORD}?${e.toString()}`;try{const e=await fetch(n,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:c})});if(204!==e.status)return o=await e.text(),void t({title:o,status:"error",duration:9e3,isClosable:!0});const{error:r,username:l}=(await i(De({email:a,password:c}))).payload;t(r?{title:r,status:"error",duration:9e3,isClosable:!0}:{title:s("Welcome ")+l,status:"success",duration:5e3,isClosable:!0})}finally{g(!1)}var o},isLoading:m,isDisabled:!w||m,children:s("Reset password")}),n.jsx(b,{onClick:()=>e.setLoginState("login"),isDisabled:m,children:s("Back to log in")})]})]})]})},qt=/^\S+@\S+\.\S+$/,Kt=e=>!!e.match(qt),Yt=e=>{const t=S(),{t:s}=le(),i=je(),[a,r]=ce.useState(""),[l,c]=ce.useState(""),[d,h]=ce.useState(!1),u=!!a&&Kt(a)&&!!l;return n.jsxs(tt,{children:[n.jsx(nt,{children:n.jsx(o,{as:"h4",size:"md",my:1,children:s("Log in")})}),n.jsxs(f,{px:2,flexDirection:"column",children:[n.jsx(ht,{fields:[{label:s("Email"),type:"input",variant:"email",value:a,onChange:r,validator:Kt,debouncedDelay:0},{label:s("Password"),type:"input",variant:"password",value:l,onChange:c,debouncedDelay:0}],minW:"full"}),n.jsx(T,{as:"button",fontSize:"sm",onClick:()=>e.setLoginState("forgot-password"),ml:"auto",children:s("Forgot password")+"?"}),n.jsxs(j,{mt:1,children:[n.jsx(b,{colorScheme:"primary",onClick:async()=>{h(!0);try{const{error:e,username:n}=(await i(De({email:a,password:l}))).payload;t(e?{title:e,status:"error",duration:9e3,isClosable:!0}:{title:s("Welcome ")+n,status:"success",duration:5e3,isClosable:!0})}finally{h(!1)}},isLoading:d,isDisabled:!u||d,children:s("Log in")}),n.jsx(b,{onClick:()=>e.setLoginState("register"),isDisabled:d,children:s("Create an account")})]})]})]})},Qt=e=>{const t=S(),{t:s}=le(),i=je(),[a,l]=ce.useState(""),[c,d]=ce.useState(""),[h,u]=ce.useState(""),[x,p]=ce.useState(""),[m,g]=ce.useState(""),[v,w]=ce.useState(!1),[z,k]=ce.useState(!1),[y,C]=ce.useState(60);ce.useEffect((()=>{let e;return z&&y>0?e=window.setTimeout((()=>{C(y-1)}),1e3):0===y&&k(!1),()=>clearTimeout(e)}),[z,y]);const T=!!c&&$t(c),D=!!a&&T&&!!x&&!!h&&Gt(h);return n.jsxs(tt,{children:[n.jsx(nt,{children:n.jsx(o,{as:"h4",size:"md",my:1,children:s("Create an account")})}),m&&n.jsxs(H,{status:"error"===m?"error":"info",children:[n.jsx(M,{}),n.jsx(L,{children:"error"===m?s("The email is not valid!"):s("Verification email is sent to: ")+m})]}),n.jsxs(f,{px:2,flexDirection:"column",children:[n.jsx(ht,{fields:[{label:s("Name"),type:"input",value:a,onChange:l,debouncedDelay:0,helper:s("You may always change it later.")},{label:s("Email"),type:"custom",component:n.jsxs(R,{size:"sm",children:[n.jsx(et,{type:"email",value:c,onDebouncedChange:d,delay:0,validator:$t}),n.jsx(O,{width:"auto",bottom:0,top:"unset",children:m?n.jsxs(n.Fragment,{children:[n.jsx(Ot,{}),n.jsx(r,{fontSize:"xs",ml:1,children:s("Verification code sent")})]}):n.jsx(b,{size:"xs",onClick:async()=>{k(!0),C(60);const e=await fetch(Me+Le.AUTH_SEND_VERIFICATION_EMAIL,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:c})});204!==e.status?400!==e.status||g("error"):g(c)},isDisabled:!T||z,children:z?`${y}s`:s("Send verification code")})})]}),helper:s("We'll never share your email.")},{label:s("Verification code"),type:"input",variant:"number",value:x,onChange:p,debouncedDelay:0},{label:s("Password"),type:"input",variant:"password",value:h,onChange:u,debouncedDelay:0,validator:Gt,helper:s("Minimum 8 characters. Contain at least 1 letter and 1 number.")}],minW:"full"}),n.jsxs(j,{mt:1,children:[n.jsx(b,{colorScheme:"primary",onClick:async()=>{w(!0);try{const n=await fetch(Me+Le.AUTH_REGISTER,{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({name:a,email:c,password:h,emailVerificationToken:Number(x)})});if(201!==n.status)return e=await n.text(),void t({title:e,status:"error",duration:9e3,isClosable:!0});const{error:o,username:r}=(await i(De({email:c,password:h}))).payload;t(o?{title:o,status:"error",duration:9e3,isClosable:!0}:{title:s("Welcome ")+r,status:"success",duration:5e3,isClosable:!0})}finally{w(!1)}var e},isLoading:v,isDisabled:!D||v,children:s("Sign up")}),n.jsx(b,{onClick:()=>e.setLoginState("login"),isDisabled:v,children:s("Back to log in")})]})]})]})},Zt=()=>{const e=S(),{t:t}=le(),s=je(),{isLoggedIn:i,token:a,refreshToken:l,activeSubscriptions:c,currentSaveId:d,saves:h}=pe((e=>e.account)),{lastChangedAtTimeStamp:u}=pe((e=>e.rmpSave)),x=i&&h&&(c.RMP_CLOUD?h.length<10:h.length<1),p=Math.min(...(h??[]).map((e=>e.id))),f=e=>!c.RMP_CLOUD&&e!==p,[v,z]=he.useState(void 0),[k,y]=he.useState(void 0),C=t=>e({title:t,status:"error",duration:9e3,isClosable:!0});return n.jsxs(tt,{children:[n.jsxs(nt,{children:[n.jsx(o,{as:"h4",size:"md",my:1,children:t("Synced saves")}),n.jsxs(r,{ml:"auto",children:[t("Maximum save count:")," ",c.RMP_CLOUD?10:1]}),n.jsx(b,{size:"sm",ml:1,isDisabled:!x,onClick:async()=>{const e=await Se(ge.RMP);if(!i||!e||!a)return void C(t("Failed to get the RMP save!"));const{data:n,hash:o}=e,r=crypto.randomUUID(),{rep:c,token:d,refreshToken:h}=await Oe(Le.SAVES,{method:"POST",body:JSON.stringify({index:r,data:n,hash:o})},a,l);h&&d?(s(ze({access:d,refresh:h})),200===c.status?s(ye()):C(await c.text())):C(t("Login status expired"))},children:t("Create")})]}),n.jsx(j,{p:2,children:h&&h.map((e=>n.jsx(m,{overflow:"hidden",variant:"outline",mb:"3",children:n.jsxs(j,{direction:{base:"column",sm:"row"},children:[n.jsxs(g,{children:[n.jsx(r,{py:"2",as:"b",children:e.id===d?t("Current save"):t("Cloud save")}),n.jsxs(r,{py:"2",children:[t("Last update at:")," ",new Date(e.lastUpdateAt).toLocaleString()]})]}),n.jsx(w,{children:n.jsxs(j,{children:[n.jsx(b,{variant:"solid",colorScheme:"red",isLoading:k===e.id,onClick:()=>(async e=>{if(!i||!e||!a)return;y(e);const{rep:n,token:o,refreshToken:r}=await Oe(Le.SAVES+"/"+d,{method:"DELETE"},a,l);return r&&o?(s(ze({access:o,refresh:r})),200!==n.status?(C(await n.text()),void y(void 0)):(s(ye()),void y(void 0))):(C(t("Login status expired")),void y(void 0))})(e.id),children:t("Delete this save")}),n.jsx(b,{variant:"solid",colorScheme:"primary",isDisabled:f(e.id),isLoading:v===e.id,onClick:()=>(async e=>{if(i&&a){if(e===d){if(z(d),!d||f(d))return C(t("Can not sync this save!")),void z(void 0);const e=await s(ye());if("fulfilled"!==e.meta.requestStatus)return C(t("Login status expired")),void z(void 0);const n=e.payload.saves.filter((e=>e.id===d)).at(0);if(!n)return C(t("Current save id is not in saveList!")),void z(void 0);const i=new Date(n.lastUpdateAt);if(new Date(u)<i)return st.warn(`Save id: ${d} is newer in the cloud via local compare.`),s(ke()),void z(void 0);const o=await Se(ge.RMP);if(!o)return C(t("Failed to get the RMP save!")),void z(void 0);const{data:r,hash:c}=o,{rep:h,token:x,refreshToken:p}=await Oe(Le.SAVES+"/"+d,{method:"PATCH",body:JSON.stringify({data:r,hash:c})},a,l);if(!p||!x)return C(t("Login status expired")),void z(void 0);if(s(ze({access:x,refresh:p})),200!==h.status)return C(await h.text()),void z(void 0);z(void 0)}else{z(e);const{rep:n,token:i,refreshToken:o}=await Oe(Le.SAVES+"/"+e,{},a,l);if(!o||!i)return C(t("Login status expired")),void z(void 0);if(s(ze({access:i,refresh:o})),200!==n.status)return C(await n.text()),void z(void 0);st.info(`Set ${ge.RMP} with save id: ${e}`),me(ge.RMP,await n.text()),s(ve((new Date).valueOf())),fe(),z(void 0)}s(ye())}})(e.id),children:e.id===d?t("Sync now"):t("Sync this slot")})]})})]})},e.id)))})]})},Xt=e=>{const t=S(),{t:s}=le(),{isOpen:i,onClose:a,getSubscriptions:o}=e,{isLoggedIn:l,token:c,refreshToken:m}=pe((e=>e.account)),g=je(),f=D("primary.500","primary.300"),[w,k]=he.useState("");return n.jsxs(d,{isOpen:i,onClose:a,size:"xl",scrollBehavior:"inside",children:[n.jsx(h,{}),n.jsxs(u,{children:[n.jsx(x,{children:s("Redeem your subscription")}),n.jsx(C,{}),n.jsxs(p,{children:[n.jsx(r,{children:s("CDKey could be purchased in the following sites:")}),n.jsx(I,{children:n.jsx(A,{children:n.jsxs(T,{color:f,href:"https://afdian.com/item/9c8b220c614311efab2d52540025c377",isExternal:!0,children:["çˆ±å‘ç”µ ",n.jsx(v,{as:zt})]})})}),n.jsxs(j,{mt:"5",direction:{base:"column",sm:"row"},children:[n.jsx(r,{children:s("Enter your CDKey here:")}),n.jsx(_,{w:"auto",value:w,onChange:e=>k(e.target.value)}),n.jsx(b,{colorScheme:"teal",onClick:()=>(async e=>{if(!l)return;const{rep:n,token:i,refreshToken:r}=await Oe(Le.SUBSCRIPTION_REDEEM,{method:"POST",body:JSON.stringify({cdkey:e.trim()})},c,m);if(r&&i)if(g(ze({access:i,refresh:r})),202===n.status)await o(),Re(i),a();else{const e=(await n.json()).message;t({title:s(e),status:"error",duration:5e3,isClosable:!0})}})(w),children:s("Redeem")})]})]}),n.jsx(z,{})]})]})},en=()=>{const e=S(),{t:t}=le(),{isLoggedIn:s,token:i,refreshToken:a}=pe((e=>e.account)),l=je(),[c,d]=he.useState([]),[h,u]=he.useState(!1),x=t=>e({title:t,status:"error",duration:9e3,isClosable:!0}),p=async()=>{if(!s)return;const{rep:e,token:n,refreshToken:o}=await Oe(Le.SUBSCRIPTION,{},i,a);if(!o||!n)return void x(t("Login status expired"));if(l(ze({access:n,refresh:o})),200!==e.status)return void x(await e.text());const r=(await e.json()).subscriptions;if(!r.map((e=>e.type)).includes("RMP_CLOUD"))return;d([{type:"RMP",expires:r[0].expires}]);const c=structuredClone(Ie);for(const t of r){const e=t.type;e in c&&(c[e]=!0)}l(Ae(c))};return he.useEffect((()=>{p()}),[]),n.jsxs(tt,{children:[n.jsxs(nt,{children:[n.jsx(o,{as:"h4",size:"md",my:1,children:t("All subscriptions")}),n.jsx(b,{size:"sm",ml:"auto",onClick:()=>u(!0),children:t("Redeem")})]}),n.jsxs(j,{px:2,children:[0===c.length&&n.jsxs(m,{overflow:"hidden",variant:"outline",mb:"3",children:[n.jsx(E,{children:n.jsx(o,{size:"md",children:t("Rail Map Painter")})}),n.jsx(j,{direction:{base:"column",sm:"row"},children:n.jsx(g,{children:n.jsxs(j,{children:[n.jsx(r,{children:t("With this subscription, the following features are unlocked:")}),n.jsxs(I,{children:[n.jsx(A,{children:n.jsx(r,{children:t("PRO features")})}),n.jsx(A,{children:n.jsx(r,{children:t("Sync 9 more saves")})}),n.jsx(A,{children:n.jsx(r,{children:t("Unlimited master nodes")})}),n.jsx(A,{children:n.jsx(r,{children:t("Unlimited parallel lines")})})]}),n.jsxs(r,{children:[t("Expires at:")," ",t("Not applicable")]})]})})})]}),c.map((e=>n.jsxs(m,{overflow:"hidden",variant:"outline",mb:"3",children:[n.jsx(E,{children:n.jsx(o,{size:"md",children:t("RMP"===e.type?"Rail Map Painter":e.type)})}),n.jsxs(j,{direction:{base:"column",sm:"row"},children:[n.jsx(g,{children:n.jsxs(r,{py:"2",children:[t("Expires at:")," ",new Date(e.expires).toLocaleString()]})}),n.jsx(w,{children:n.jsx(b,{variant:"solid",colorScheme:"blue",onClick:()=>u(!0),children:t("Renew")})})]})]},e.type)))]}),n.jsx(Xt,{isOpen:h,onClose:()=>u(!1),getSubscriptions:p})]})},tn=()=>{const{t:e}=le(),{isLoggedIn:t}=pe((e=>e.account)),[s,i]=he.useState("login");return n.jsxs(tt,{display:"flex",flexDirection:"column",h:"100%",overflow:"hidden",children:[n.jsx(nt,{children:n.jsx(o,{as:"h4",size:"md",my:1,children:e("Account")})}),t?n.jsxs(f,{flexDirection:"column",h:"100%",overflow:"hidden",bg:"inherit",children:[n.jsx(Bt,{}),n.jsx(P,{}),n.jsxs(f,{flexDirection:"column",overflowY:"auto",bg:"inherit",children:[n.jsx(en,{}),n.jsx(P,{}),n.jsx(Zt,{})]})]}):"login"===s?n.jsx(Yt,{setLoginState:i}):"register"===s?n.jsx(Qt,{setLoginState:i}):n.jsx(Jt,{setLoginState:i})]})},nn={"& button:first-of-type":{w:"100%",overflow:"hidden",justifyContent:"flex-start",textOverflow:"ellipsis",textAlign:"start","& span.chakra-button__icon":{ml:-1,color:"orange.300",'[data-theme="dark"] &':{color:"orange.200"}}},'&[aria-current="true"] > button':{bg:"primary.50",_hover:{bg:"primary.100"},'[data-theme="dark"] &':{bg:"primary.700",_hover:{bg:"primary.600"}}},"& > div":{zIndex:6}};function sn(e){const{appId:t,onAboutOpen:s}=e,{t:i}=le(),a=je(),o=N(`(min-width: ${U.breakpoints.sm})`),{activeTab:r,openedTabs:c}=pe((e=>e.app)),d=_e[t],h=d.name.split(" - ").map((e=>i(e))).join(" - "),u=c.some((e=>e.app===t)),x=!d.allowMultiInstances&&c.find((e=>e.id===r))?.app===t,p=e=>{u||it.event(Ee.OPEN_APP,{appId:t,isOpenInNew:e}),a(e?Pe(t):Ne({appId:t})),o[0]||(a(Ue()),it.toggleNavMenu(!1))};return n.jsxs(n.Fragment,{children:[n.jsxs(V,{variant:x?"solid":"ghost",size:"md",isAttached:!0,"aria-current":x,sx:nn,children:[n.jsx(b,{onClick:()=>p(!1),leftIcon:u?n.jsx(St,{title:i("Running")}):n.jsx(l,{w:4}),children:h}),d.allowMultiInstances&&n.jsx(y,{"aria-label":i("New tab"),title:i("New tab"),icon:n.jsx(yt,{}),onClick:()=>p(!0)}),n.jsxs(B,{children:[n.jsx(F,{as:y,icon:n.jsx(At,{}),"aria-label":i("More"),title:i("More")}),n.jsxs(W,{children:[u&&n.jsx($,{icon:n.jsx(Dt,{}),onClick:()=>{return a(Fe(e=t)),void it.event(Ee.CLOSE_APP,{app:e});var e},children:d.allowMultiInstances?i("Close all tabs"):i("Close app")}),n.jsx($,{icon:n.jsx(wt,{}),onClick:s,children:i("About")})]})]})]}),d.allowMultiInstances&&c.filter((e=>e.app===t)).map(((e,s)=>{const l=e.id===r;return n.jsxs(V,{variant:l?"solid":"ghost",size:"sm",ml:8,mr:1,isAttached:!0,"aria-current":l,sx:nn,children:[n.jsxs(b,{onClick:()=>{return t=e.id,a(Ve(t)),void(o[0]||(a(Ue()),it.toggleNavMenu(!1)));var t},children:[n.jsx(G,{mr:2,children:s+1}),e.title??i("Tab")+" "+(s+1).toString()+" - "+h]}),n.jsx(y,{"aria-label":i("Close tab"),title:i("Close tab"),icon:n.jsx(Dt,{}),onClick:()=>{return n=e.id,a(Be(n)),void it.event(Ee.CLOSE_APP,{app:t});var n}})]},e.id)}))]})}const an=async e=>{const t=`/${e}/info.json`;try{const e=await fetch(t);return(await e.json()).version}catch(n){return st.info(`Failed to get version of ${e}`,n),"unknown"}},on=async(e,t)=>{const n=`/${e}/legacy-contributor-list.txt`,s=await fetch(n,{signal:t});return(await s.text()).split("\n")};function rn(e){const{appId:t,onClose:s}=e,{t:i}=le(),[a,o]=ce.useState("Unknown"),r=t?_e[t]?.url?.split("/")?.[1]:void 0;return ce.useEffect((()=>{r?an(r).then((e=>o(e))):o("Unknown")}),[r]),n.jsxs(d,{isOpen:!!t,onClose:s,size:"xl",scrollBehavior:"inside",children:[n.jsx(h,{}),n.jsxs(u,{children:[n.jsxs(x,{children:[i("About")+" "+(t?_e[t].name.split(" - ").map((e=>i(e))).join(" - "):""),n.jsx(G,{ml:1,children:a})]}),n.jsx(C,{}),n.jsx(p,{}),n.jsx(z,{children:n.jsx(b,{colorScheme:"primary",onClick:()=>window.open("https://github.com/railmapgen/"+r,"_blank"),children:i("Visit GitHub")})})]})]})}function ln({assetType:e}){const{t:t}=le(),[s,i]=ce.useState(),a=We(e,it.getEnv(),it.getInstance());return n.jsxs(tt,{children:[n.jsx(nt,{children:n.jsx(o,{as:"h4",size:"md",my:1,children:t("devtool"===e?"Devtools":"Apps")})}),n.jsx(f,{direction:"column",children:a.map((e=>n.jsx(sn,{appId:e,onAboutOpen:()=>i(e)},e)))}),n.jsx(rn,{appId:s,onClose:()=>i(void 0)})]})}const cn={"& button":{w:"100%",overflow:"hidden",justifyContent:"flex-start",textOverflow:"ellipsis",textAlign:"start","& span.chakra-button__icon:last-of-type":{ml:"auto"}}};function dn(){const{t:e}=le(),t=We("link",it.getEnv(),it.getInstance());return n.jsxs(tt,{sx:cn,children:[n.jsx(nt,{children:n.jsx(o,{as:"h4",size:"md",my:1,children:e("Useful links")})}),n.jsx(f,{direction:"column",children:t.map((t=>n.jsx(b,{variant:"ghost",size:"md",leftIcon:n.jsx(l,{w:4}),rightIcon:n.jsx(zt,{}),onClick:()=>(e=>{it.event(Ee.OPEN_LINK,{id:e}),window.open(_e[e].url,"_blank")})(t),children:e(_e[t].name)},t)))})]})}const hn={"& > span":{minW:"75%",borderRadius:"lg",cursor:"pointer","& > span:last-of-type":{display:"block"},"& p":{fontSize:"sm","&:first-of-type":{fontSize:"lg",fontWeight:"bold",mb:1}}},"& .chakra-avatar":{ml:1,mr:3,my:4}};function un(){const{t:e}=le();return n.jsxs(tt,{children:[n.jsx(nt,{children:n.jsx(o,{as:"h5",size:"sm",children:e("Developer team")})}),n.jsxs(s,{sx:hn,children:[n.jsxs(J,{size:"lg",onClick:()=>window.open("https://github.com/wongchito","_blank"),children:[n.jsx(k,{src:"https://github.com/wongchito.png",size:"lg"}),n.jsxs(q,{children:[n.jsx(r,{children:"Chito Wong"}),n.jsx(r,{children:"Author of Rail Map Toolkit platform"}),n.jsx(r,{children:"Author of Rail Map Generator"})]})]}),n.jsxs(J,{size:"lg",onClick:()=>window.open("https://github.com/thekingofcity","_blank"),children:[n.jsx(k,{src:"https://github.com/thekingofcity.png",size:"lg"}),n.jsxs(q,{children:[n.jsx(r,{children:"thekingofcity"}),n.jsx(r,{children:"Author of Rail Map Painter"}),n.jsx(r,{children:"Author of RMG (Shanghai Metro style)"})]})]}),n.jsxs(J,{size:"lg",onClick:()=>window.open("https://github.com/langonginc","_blank"),children:[n.jsx(k,{src:"https://github.com/langonginc.png",size:"lg"}),n.jsxs(q,{children:[n.jsx(r,{children:"langonginc"}),n.jsx(r,{children:"Author of Rail Map Painter"})]})]})]})]})}function xn(e){const{login:t,urlRepo:s,...i}=e,a=s?`https://github.com/railmapgen/${s}/issues?q=is:issue+author:${t}`:`https://github.com/${t}`;return n.jsx(k,{name:t,title:t,src:`https://github.com/${t}.png`,loading:"lazy",onClick:()=>window.open(a,"_blank"),cursor:"pointer",...i})}const pn=["Swiftiecott","linchen1965","28yfang","Windows-Taskmgr"];function jn(){const{t:e}=le();return n.jsxs(tt,{children:[n.jsx(nt,{children:n.jsx(o,{as:"h5",size:"sm",children:e("Resource administrators")})}),n.jsx(K,{spacing:1.5,px:2,children:pn.map((e=>n.jsx(Y,{children:n.jsx(xn,{login:e,size:"md"})},e)))})]})}const mn="https://api.github.com/repos/railmapgen",gn={},fn=async(e,t)=>{if(e in gn)return gn[e];const n=await fetch(e,t),s=await n.json();return gn[e]=s,s},vn=async(e,t,n)=>{const s=`${mn}/${e}/contributors`,i=new URLSearchParams({per_page:"100",page:t.toString()});return(await fn(s+"?"+i.toString(),{signal:n})).map((e=>e.login))},wn=async(e,t,n)=>{const s=`${mn}/${e}/issues`,i=new URLSearchParams({state:"closed",labels:"donation",per_page:"100",page:t.toString()});return(await fn(s+"?"+i.toString(),{signal:n})).filter((e=>"completed"===e.state_reason)).map((e=>e.user?.login))};function bn(e){const[t,n]=ce.useState([]);return[t,e=>{n((t=>{const n=new Set(t?t.concat(e):e);return Array.from(n)}))}]}const zn=["","wongchito","thekingofcity","github-actions[bot]"],kn=e=>!zn.includes(e);function yn(e){const[t,n]=bn(),[s,i]=ce.useState(!0),[a,o]=ce.useState(!1),r=ce.useRef();return ce.useEffect((()=>((async()=>{let t=0;for(;++t;){r.current=new AbortController;const s=await vn(e,t,r.current?.signal);if(n(s.filter(kn)),s.length<100)break}})().then((()=>_e[e].legacyContributors?(r.current=new AbortController,on(e,r.current?.signal)):[])).then((e=>n(e.filter(kn)))).catch((t=>{st.error("unable to fetch contributors for:",e,t),o(!0)})).finally((()=>i(!1))),()=>{r.current?.abort(),i(!0),o(!1)})),[e]),{contributors:t,isLoading:s,isError:a}}const Sn={position:"relative",minH:20,"& .chakra-alert":{flexDirection:"column"},"& .chakra-alert__icon":{boxSize:7,mr:0,mb:1}};function Cn(e){const{appId:t}=e,{t:s}=le(),{contributors:i,isLoading:a,isError:o}=yn(t);return n.jsxs(f,{sx:Sn,children:[a&&n.jsx(at,{isIndeterminate:!0}),o&&n.jsxs(H,{status:"warning",children:[n.jsx(M,{}),s("Unable to load contributors")]}),!o&&i&&n.jsx(K,{spacing:1.5,children:i?.map((e=>n.jsx(Y,{children:n.jsx(xn,{login:e,urlRepo:t,size:"sm"})},e)))})]})}const Hn={"& > *:not(.rmg-section__header)":{px:2},"& h6":{my:2}};function Mn(){const{t:e}=le();return n.jsxs(tt,{sx:Hn,children:[n.jsx(nt,{children:n.jsx(o,{as:"h5",size:"sm",children:e("Resource contributors")})}),Object.entries(_e).filter((([,e])=>e.showContributors)).map((([t,s])=>n.jsxs(ce.Fragment,{children:[n.jsx(o,{as:"h6",size:"xs",children:e(s.name)}),n.jsx(Cn,{appId:t},t)]},t))),n.jsx(r,{as:"i",fontSize:"xs",mt:3,children:e("Notes: Contributors are sorted by number of commits and commit time.")})]})}function Ln(){const[e,t]=bn(),[n,s]=ce.useState(!0),[i,a]=ce.useState(!1),o=ce.useRef();return ce.useEffect((()=>((async()=>{const e=Object.entries(_e).filter((([,e])=>e.showDonators)).map((([e])=>e));for(const s of e)try{let e=0;for(;++e;){o.current=new AbortController;const n=await wn(s,e,o.current?.signal);if(t(n),n.length<100)break}}catch(n){throw st.error("unable to fetch donators for:",s,n),n}})().catch((()=>a(!0))).finally((()=>s(!1))),()=>{o.current?.abort(),s(!0),a(!1)})),[]),{donators:e,isLoading:n,isError:i}}const Rn={position:"relative",px:2,minH:20,"& .chakra-alert":{flexDirection:"column"},"& .chakra-alert__icon":{boxSize:7,mr:0,mb:1}};function On(){const{t:e}=le(),{donators:t,isLoading:s,isError:i}=Ln();return n.jsxs(tt,{children:[n.jsx(nt,{children:n.jsx(o,{as:"h5",size:"sm",children:"â¤ï¸ "+e("Donators")})}),n.jsxs(f,{sx:Rn,children:[s&&n.jsx(at,{isIndeterminate:!0}),i&&n.jsxs(H,{status:"warning",children:[n.jsx(M,{}),e("Unable to load donators")]}),!i&&t&&n.jsx(K,{spacing:1.5,children:t?.map((e=>n.jsx(Y,{children:n.jsx(xn,{login:e,size:"sm"})},e)))})]})]})}const Tn={bg:"inherit",py:0,"& section:not(:last-of-type)":{mb:4}};function Dn(e){const{isOpen:t,onClose:s}=e,{t:i}=le();return n.jsxs(d,{isOpen:t,onClose:s,size:"xl",scrollBehavior:"inside",children:[n.jsx(h,{}),n.jsxs(u,{children:[n.jsx(x,{children:i("Contributors")}),n.jsx(C,{}),n.jsxs(p,{sx:Tn,children:[n.jsx(un,{}),n.jsx(On,{}),n.jsx(jn,{}),n.jsx(Mn,{})]}),n.jsx(z,{children:n.jsx(b,{colorScheme:"primary",onClick:()=>window.open("https://github.com/railmapgen/rmg/wiki/How-to-add-color-palette-and-line-templates","_blank"),children:i("Contribution Wiki")})})]})]})}function In(){const{t:e}=le(),t=je(),{isShowMenu:s,showFontAdvice:i}=pe((e=>e.app)),[a,o]=ce.useState(s&&"show"===i);return ce.useEffect((()=>{let e;return s&&"show"===i?e=window.setTimeout((()=>{o(!0)}),5e3):o(!1),()=>{window.clearTimeout(e)}}),[s,i]),n.jsxs(Q,{isOpen:a,onClose:()=>t($e()),children:[n.jsx(Z,{children:n.jsx(b,{variant:"ghost",size:"sm",w:"100%",leftIcon:n.jsx(vt,{}),onClick:()=>{t(He("support")),t($e())},children:e("Help & support")})}),n.jsxs(X,{children:[n.jsx(ee,{}),n.jsx(te,{}),n.jsxs(ne,{children:["ðŸ’¡ ",e("Pro tip")]}),n.jsx(se,{children:e("Fonts are slow to load? Learn how to speed it up!")}),n.jsxs(ie,{display:"flex",children:[n.jsx(b,{variant:"ghost",size:"sm",ml:"auto",onClick:()=>{t(Ge()),it.storage.set(Je.SHOW_FONT_ADVICE,qe)},children:e("Don't show again")}),n.jsx(b,{variant:"solid",colorScheme:"primary",size:"sm",ml:2,onClick:()=>t($e()),children:e("OK")})]})]})]})}function An(){const{t:e}=le(),t=je(),{menuView:s,refreshRequired:i}=pe((e=>e.app)),[a,o]=ce.useState(!1);return n.jsxs(f,{direction:"column",children:[n.jsx(P,{}),"main"===s?n.jsxs(ae,{templateColumns:"repeat(3, auto)",children:[n.jsx(oe,{children:n.jsx(b,{variant:"ghost",size:"sm",w:"100%",leftIcon:n.jsx(_t,{}),onClick:()=>o(!0),children:e("Contributors")})}),n.jsx(oe,{children:n.jsx(In,{})}),n.jsx(oe,{children:n.jsx(b,{variant:"ghost",size:"sm",w:"100%",leftIcon:n.jsx(kt,{}),onClick:()=>t(He("settings")),children:e("Settings")})})]}):n.jsx(b,{variant:"ghost",size:"sm",w:"100%",leftIcon:n.jsx(Tt,{}),onClick:()=>t(He("main")),isDisabled:i,children:e("Go back")}),n.jsx(Dn,{isOpen:a,onClose:()=>o(!1)})]})}function _n(){const{t:e}=le();return{type:"select",label:e("Language"),value:it.getLanguage(),options:{[e("Main languages")]:t.reduce(((e,t)=>({...e,[t]:xt[t][t]})),{}),[e("Other languages")]:ut.reduce(((e,t)=>({...e,[t]:xt[t][t]})),{})},onChange:e=>{const t=e;it.setLanguage(t),it.getI18nInstance().changeLanguage(t),it.event(Ee.CHANGE_LANGUAGE,{language:t})}}}function En(e){const{isOpen:t,onClose:i}=e,{t:a}=le(),o=Object.entries(localStorage);return n.jsxs(d,{isOpen:t,onClose:i,size:"xl",scrollBehavior:"inside",children:[n.jsx(h,{}),n.jsxs(u,{children:[n.jsx(x,{children:a("Local Storage")}),n.jsx(C,{}),n.jsx(p,{children:n.jsx(s,{p:1,children:o.map((e=>n.jsx(ot,{label:e[0],minW:"full",children:n.jsx(re,{value:e[1],readOnly:!0,fontFamily:"monospace",fontSize:"xs"})},e[0])))})}),n.jsx(z,{children:n.jsx(b,{onClick:i,children:a("Go back")})})]})]})}function Pn(){const{t:e}=le(),{setColourMode:t}=rt(),s=je(),{lastShowDevtools:i,refreshRequired:a}=pe((e=>e.app)),[r,c]=ce.useState(it.isAllowAnalytics()),[d,h]=ce.useState(!1),u=_n(),x={light:e("Light"),dark:e("Dark"),system:e("System")},p=[u,{type:"select",label:e("Appearance"),value:it.getColourMode(),options:x,onChange:e=>t(e)},{type:"switch",label:e("Allow cookies to help improve our website"),isChecked:r,onChange:e=>{c(e),it.allowAnalytics(e).refreshRequired&&s(Ze())},oneLine:!0,isDisabled:a},{type:"switch",label:e("Show dev tools for 1 day"),isChecked:Ke(i),onChange:e=>{e?(s(Ye()),it.event(Ee.SHOW_DEVTOOLS)):s(Qe())},oneLine:!0}];return n.jsxs(tt,{children:[a&&n.jsxs(H,{status:"info",variant:"solid",size:"xs",children:[n.jsx(M,{}),e("Refreshing is required for changes to take effect.")]}),n.jsx(nt,{children:n.jsx(o,{as:"h4",size:"md",my:1,children:e("Settings")})}),n.jsxs(l,{px:2,children:[n.jsx(ht,{fields:p,minW:"full"}),n.jsx(b,{width:"100%",onClick:()=>h(!0),children:e("Export Local Storage")})]}),n.jsx(En,{isOpen:d,onClose:()=>h(!1)})]})}const Nn={px:2,"& button":{w:"100%"}};function Un(){const{t:e}=le(),{remoteFonts:t}=pe((e=>e.app));return n.jsxs(tt,{children:[n.jsx(nt,{children:n.jsx(o,{as:"h4",size:"md",my:1,children:e("Web fonts")})}),n.jsxs(s,{sx:Nn,children:[n.jsxs(r,{as:"i",fontSize:"sm",children:[e("FontsSection.text1")," ",e("FontsSection.text2")," ",e("FontsSection.text3")," (",e("FontsSection.safari"),")"]}),Object.entries(t).map((([e,t])=>n.jsx(b,{size:"sm",rightIcon:t.url?n.jsx(zt,{}):void 0,isDisabled:!t.url,onClick:()=>{window.open(t.url,"_blank"),it.event(Ee.DOWNLOAD_FONT,{family:e})},children:t.displayName?`${t.displayName} (${e})`:e},e)))]})]})}function Vn(e){return c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9a17.56 17.56 0 0 0 3.8.4c8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1a102.4 102.4 0 0 1-22.6 2.7c-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1a63 63 0 0 0 25.6-6c2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8a18.64 18.64 0 0 1 5-.5c8.1 0 26.4 3.1 56.6 24.1a208.21 208.21 0 0 1 112.2 0c30.2-21 48.5-24.1 56.6-24.1a18.64 18.64 0 0 1 5 .5c12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5a19.35 19.35 0 0 0 4-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z"},child:[]}]})(e)}function Bn(e){return c({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M126.12 315.1A47.06 47.06 0 1 1 79.06 268h47.06zm23.72 0a47.06 47.06 0 0 1 94.12 0v117.84a47.06 47.06 0 1 1-94.12 0zm47.06-188.98A47.06 47.06 0 1 1 244 79.06v47.06zm0 23.72a47.06 47.06 0 0 1 0 94.12H79.06a47.06 47.06 0 0 1 0-94.12zm188.98 47.06a47.06 47.06 0 1 1 47.06 47.1h-47.06zm-23.72 0a47.06 47.06 0 0 1-94.12 0V79.06a47.06 47.06 0 1 1 94.12 0zM315.1 385.88a47.06 47.06 0 1 1-47.1 47.06v-47.06zm0-23.72a47.06 47.06 0 0 1 0-94.12h117.84a47.06 47.06 0 1 1 0 94.12z"},child:[]}]})(e)}const Fn={px:2,"& button":{w:"100%"}};function Wn(){const{t:e}=le();return n.jsxs(tt,{children:[n.jsx(nt,{children:n.jsx(o,{as:"h4",size:"md",my:1,children:e("Help & support")})}),n.jsxs(s,{sx:Fn,children:[n.jsx(b,{size:"md",leftIcon:n.jsx(Vn,{}),rightIcon:n.jsx(zt,{}),onClick:()=>{window.open("https://github.com/railmapgen/railmapgen.github.io/issues","_blank"),it.event(Ee.RAISE_ISSUE)},children:e("Raise an Issue on GitHub")}),n.jsx(b,{size:"md",leftIcon:n.jsx(Bn,{}),rightIcon:n.jsx(zt,{}),onClick:()=>{window.open("https://join.slack.com/t/railmapgenerator/shared_invite/zt-1odhhta3n-DdZF~fnVwo_q0S0RJmgV8A","_blank"),it.event(Ee.JOIN_SLACK)},children:e("Join us on Slack")}),n.jsx(b,{size:"md",leftIcon:n.jsx(a,{src:"images/bilibili.svg",boxSize:"20px"}),rightIcon:n.jsx(zt,{}),onClick:()=>{window.open("https://space.bilibili.com/10124055","_blank"),it.event(Ee.FOLLOW_BILIBILI)},children:e("Follow us on Bilibili")})]})]})}const $n={flexShrink:0,flexDirection:"column",overflow:"hidden",alignItems:"flex-end",background:"inherit",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",boxShadow:"lg",zIndex:100,".show-menu &":{maxW:{base:"100%",md:420},w:{base:"100%",md:"unset"},visibility:"initial"},"& > div":{flexDirection:"column",h:"100%",w:{base:"100vw",md:420},background:"inherit","& .nav-menu__header":{flex:0,flexDirection:"row",alignItems:"center",minHeight:10,pl:12},"& .nav-menu__body":{flexDirection:"column",flex:1,overflowX:"hidden",overflowY:"auto",background:"inherit"}},"& .chakra-alert":{flexGrow:0,pl:3,pr:2,py:2,"& a":{fontWeight:"bold",textDecoration:"underline","&:hover, &:focus":{textDecoration:"none"}}}};function Gn(){const{t:e}=le(),{menuView:t,lastShowDevtools:s}=pe((e=>e.app)),[i]=de(),a=("GitLab"===it.getInstance()?"https://railmapgen.gitlab.io/":"https://railmapgen.github.io/")+"?"+i.toString();return n.jsx(f,{sx:$n,children:n.jsxs(f,{children:[n.jsxs(f,{className:"nav-menu__header",children:[n.jsx(o,{as:"h4",size:"md",children:e("Rail Map Toolkit")}),n.jsx(lt,{environment:it.getEnv(),version:it.getAppVersion()})]}),"PRD"!==it.getEnv()&&n.jsxs(H,{status:"warning",children:[n.jsx(M,{}),n.jsxs(L,{children:[e("You're currently viewing a testing environment.")," ",n.jsx(T,{href:a,isExternal:!0,children:e("Back to production environment")})]})]}),"main"===t&&n.jsx(Ut,{}),n.jsx(f,{className:"nav-menu__body",children:"main"===t?n.jsxs(n.Fragment,{children:[n.jsx(ln,{assetType:"app"}),Ke(s)&&n.jsx(ln,{assetType:"devtool"}),n.jsx(dn,{})]}):"settings"===t?n.jsx(Pn,{}):"support"===t?n.jsxs(n.Fragment,{children:[n.jsx(Wn,{}),n.jsx(Un,{})]}):"account"===t?n.jsx(tn,{}):n.jsx(n.Fragment,{})}),n.jsx(An,{}),n.jsx(Nt,{})]})})}function Jn(e){const{isOpen:t,onClose:s}=e,{t:a}=le(),o=ce.useRef(null),l=_n();return n.jsxs(d,{initialFocusRef:o,isOpen:t,onClose:()=>{},children:[n.jsx(h,{}),n.jsxs(u,{children:[n.jsx(x,{children:a("CookiesModal.header")}),n.jsxs(p,{children:[n.jsx(f,{justifyContent:"flex-end",mt:-5,children:n.jsx(ht,{fields:[l]})}),n.jsx(r,{children:a("CookiesModal.text1")}),n.jsx(r,{mt:2,children:a("CookiesModal.text2")}),n.jsx(I,{children:n.jsxs(A,{children:[" ",a("CookiesModal.item1")]})}),n.jsx(r,{mt:2,children:a("CookiesModal.text3")})]}),n.jsx(z,{children:n.jsxs(i,{children:[n.jsx(b,{variant:"ghost",onClick:()=>{it.allowAnalytics(!1).refreshRequired?window.location.reload():s()},children:a("CookiesModal.reject")}),n.jsx(b,{ref:o,colorScheme:"primary",onClick:()=>{it.allowAnalytics(!0),s()},children:a("CookiesModal.accept")})]})})]})]})}const qn=()=>{};function Kn(){const{t:e}=le(),[t,s]=ce.useState(!1);return n.jsx(d,{isOpen:!0,onClose:qn,children:n.jsxs(u,{children:[n.jsx(x,{children:e("Rail Map Toolkit is opened in another window")}),n.jsx(p,{children:e("You cannot open multiple Rail Map Toolkit at the same time. Please close this window.")}),n.jsx(z,{children:n.jsx(b,{colorScheme:"primary",onClick:()=>{s(!0),Xe(),setTimeout((()=>{window.location.reload()}),1e3)},isLoading:t,children:e("Restart RMT in this window")})})]})})}const Yn=()=>{};function Qn(){const{t:e}=le();return n.jsx(d,{isOpen:!0,onClose:Yn,children:n.jsxs(u,{children:[n.jsx(x,{children:e("Rail Map Toolkit is opened in another window")}),n.jsx(p,{children:e("Current session has been terminated. Please close this window.")})]})})}}}}));
