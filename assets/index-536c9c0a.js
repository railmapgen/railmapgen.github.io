import{u as Vt,j as p,I as $n,T as Mn,P as Nn,a as In,B as Dn,b as Fn,c as Bn,d as Un,e as Vn,f as zn,A as Gn,M as Hn,g as Wn,h as Kn,i as Jn,k as Yn,l as B,m as qn,n as lt,o as K,p as zt,L as ut,q as Qn,r as Xn,s as Zn,t as er,F as tr,v as nr,S as rr,w as Gt,x as or,y as xe,z as ct,C as ir,D as sr,E as ar,G as lr,H as ur,J as X,K as cr,N as fr,O as dr,Q as pr}from"./chakra-6b21ab21.js";import{i as gr,r as b,a as Ht,e as hr,f as mr,h as br,b as vr,j as yr,I as wr}from"./react-12992292.js";function su(){import.meta.url,import("_").catch(()=>1);async function*t(){}}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const xr="modulepreload",Sr=function(t){return"/"+t},ft={},Or=function(e,n,r){if(!n||n.length===0)return e();const o=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Sr(i),i in ft)return;ft[i]=!0;const s=i.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(!!r)for(let c=o.length-1;c>=0;c--){const d=o[c];if(d.href===i&&(!s||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":xr,s||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),s)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=i,window.dispatchEvent(s),!s.defaultPrevented)throw i})};const Wt=t=>new Promise(e=>{setTimeout(e,t,`Timeout after ${t/1e3} seconds`)});var v;(function(t){t.DEV="DEV",t.UAT="UAT",t.PRD="PRD"})(v||(v={}));var fe;(function(t){t.GITHUB="GitHub",t.GITLAB="GitLab",t.BITBUCKET="Bitbucket",t.LOCALHOST="localhost",t.UNKNOWN="unknown"})(fe||(fe={}));var Kt=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};let qe,Qe,Xe,Ze,et;const Jt=()=>{qe=!1,Qe="rmg-unknown",Xe="unknown",Ze=v.PRD,et=fe.UNKNOWN},Cr=()=>Kt(void 0,void 0,void 0,function*(){const t=window.location.pathname.split("/")[1],e=t?`/${t}/info.json`:"/info.json",n=yield fetch(e);if(n.ok){const r=yield n.json();Qe=r.component,Xe=r.version,Ze=r.environment,et=r.instance}else throw new Error(`Failed to fetch config from ${e}`)}),_r=()=>Kt(void 0,void 0,void 0,function*(){try{console.log("[rmg-runtime] Loading config...");const t=yield Promise.race([Cr(),Wt(10*1e3)]);t?console.error("[rmg-runtime] Failed to load config.",t):(qe=!0,console.log("[rmg-runtime] Config loaded!"))}catch(t){console.error("[rmg-runtime] Failed to load config.",t)}}),Rr=()=>qe,Tr=()=>Qe,Er=()=>Xe,Ar=()=>Ze,Pr=()=>et;Jt();const P={loadWithTimeout:_r,isInitialised:Rr,getComponent:Tr,getVersion:Er,getEnvironment:Ar,getInstance:Pr,_resetConfig:Jt};window.dataLayer=window.dataLayer||[];const Lr=()=>{const t=document.createElement("script");t.async=!0,t.src="https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ",document.head.append(t)};function Fe(...t){if(P.getEnvironment()!==v.DEV)return window.dataLayer.push(arguments);console.log("[rmg-runtime] Not going to send event in DEV environment",t)}const jr=(t,e)=>{Fe("event",t,e)},kr=()=>{Lr(),Fe("js",new Date),Fe("config","G-2HP8Y4MRRQ",{appName:P.getComponent(),version:P.getVersion(),environment:P.getEnvironment(),instance:P.getInstance()})},de={init:kr,customEvent:jr},$r="rmg-runtime-channel",ce={};let Z;try{Z=new BroadcastChannel($r),Z.onmessage=t=>{var e;const{event:n,data:r,frameId:o}=t.data;(e=ce[n])===null||e===void 0||e.forEach(i=>i(r,o))}}catch(t){console.warn("[rmg-runtime] Failed to initiate broadcast channel. Some features may be unavailable.",t)}const Mr=(t,e,n)=>{var r;n&&console.log(`[rmg-runtime] Broadcasting event ${t} with data`,e),Z==null||Z.postMessage({event:t,data:e,frameId:(r=window.frameElement)===null||r===void 0?void 0:r.id})},Nr=(t,e)=>{var n;t in ce?(n=ce[t])===null||n===void 0||n.push(e):ce[t]=[e]},T={postEvent:Mr,onMessage:Nr},Yt="TOGGLE_NAV_MENU",qt="OPEN_APP",Qt="CLOSE_APP",Xt="UPDATE_URL",Be=()=>!window.frameElement,Ir=()=>{var t;return!!(!((t=window.frameElement)===null||t===void 0)&&t.closest(".show-menu"))},Dr=()=>{if(!Be()){const e=document.createElement("style");e.textContent="body{padding: 0;}",document.head.appendChild(e)}const t=document.createElement("style");t.textContent=".rmg-window__header{margin-left: 40px;}",!Be()&&!Ir()&&document.head.appendChild(t),T.onMessage(Yt,e=>{if(e)try{document.head.removeChild(t)}catch(n){console.warn("[rmg-runtime] Unable to remove indent style from RmgWindowHeader",n)}else document.head.appendChild(t)})},Fr=(t,e)=>{T.postEvent(qt,{appId:t,url:e})},Br=t=>{T.postEvent(Qt,t)},Ur=t=>{T.postEvent(Xt,t)},Vr=t=>{T.onMessage(qt,t)},zr=t=>{T.onMessage(Qt,t)},Gr=t=>{T.onMessage(Xt,t)},Hr=t=>{T.postEvent(Yt,t,!0)},$={isStandaloneWindow:Be,injectUITools:Dr,openApp:Fr,onAppOpen:Vr,closeApp:Br,onAppClose:zr,updateUrl:Ur,onUrlUpdate:Gr,toggleNavMenu:Hr},Zt="rmg-runtime__language",en="rmg-runtime__colourMode",pe="rmg-runtime__allowAnalytics",tn="SET_LANGUAGE",nn="SET_COLOUR_MODE",Wr=t=>{T.postEvent(tn,t),window.localStorage.setItem(Zt,t)},Kr=()=>window.localStorage.getItem(Zt)||"en",Jr=t=>{T.onMessage(tn,t)},rn=["light","dark","system"],Yr=t=>{rn.includes(t)&&(T.postEvent(nn,t,!0),window.localStorage.setItem(en,t))},qr=()=>{const t=window.localStorage.getItem(en);return t&&rn.includes(t)?t:"system"},Qr=t=>{T.onMessage(nn,t)},Xr=()=>window.localStorage.getItem(pe)!==null,on=()=>window.localStorage.getItem(pe)==="true",Zr=t=>{const e=on();return t?(e||(window.localStorage.setItem(pe,t.toString()),de.init()),{refreshRequired:!1}):e?(window.localStorage.setItem(pe,t.toString()),{refreshRequired:!0}):{refreshRequired:!1}},L={setLanguage:Wr,getLanguage:Kr,onLanguageChange:Jr,setColourMode:Yr,getColourMode:qr,onColourModeChange:Qr,isAnalyticsQADone:Xr,isAllowAnalytics:on,allowAnalytics:Zr},eo=new Date().getTime();function to(){const t=P.getComponent(),e=window.localStorage.getItem(t+"__startTime");return e===null?new Date().getTime()-eo:new Date().getTime()-Number(e)}const no={getMsSinceStartUp:to},sn=()=>{const t=P.getComponent();if(t==="rmg-unknown")throw new Error("[rmg-runtime] Unable to clear storage for unknown app");return t==="railmapgen.github.io"?"rmg-home":t},ro=()=>{const t=sn(),e={};let n=0;for(;n<window.localStorage.length;){const r=window.localStorage.key(n);if(r!=null&&r.startsWith(t+"__")){const o=window.localStorage.getItem(r);o&&(e[r]=o)}n++}return e},oo=()=>{const t=sn();let e=0;for(;e<window.localStorage.length;){const n=window.localStorage.key(e);n!=null&&n.startsWith(t+"__")?(window.localStorage.removeItem(n),console.log(`[rmg-runtime] Removed item ${n}`)):e++}},dt={getStorageForCurrentApp:ro,clearStorageForCurrentApp:oo},io={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class ge{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,n)}init(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=n.prefix||"i18next:",this.logger=e||io,this.options=n,this.debug=n.debug}log(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"log","",!0)}warn(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","",!0)}error(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"error","")}deprecate(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return this.forward(n,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,o){return o&&!this.debug?null:(typeof e[0]=="string"&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new ge(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ge(this.logger,e)}}var M=new ge;class Se{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]=this.observers[r]||[],this.observers[r].push(n)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e]=this.observers[e].filter(r=>r!==n)}}emit(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];this.observers[e]&&[].concat(this.observers[e]).forEach(s=>{s(...r)}),this.observers["*"]&&[].concat(this.observers["*"]).forEach(s=>{s.apply(s,[e,...r])})}}function Q(){let t,e;const n=new Promise((r,o)=>{t=r,e=o});return n.resolve=t,n.reject=e,n}function pt(t){return t==null?"":""+t}function so(t,e,n){t.forEach(r=>{e[r]&&(n[r]=e[r])})}function tt(t,e,n){function r(s){return s&&s.indexOf("###")>-1?s.replace(/###/g,"."):s}function o(){return!t||typeof t=="string"}const i=typeof e!="string"?[].concat(e):e.split(".");for(;i.length>1;){if(o())return{};const s=r(i.shift());!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={}}return o()?{}:{obj:t,k:r(i.shift())}}function gt(t,e,n){const{obj:r,k:o}=tt(t,e,Object);r[o]=n}function ao(t,e,n,r){const{obj:o,k:i}=tt(t,e,Object);o[i]=o[i]||[],r&&(o[i]=o[i].concat(n)),r||o[i].push(n)}function he(t,e){const{obj:n,k:r}=tt(t,e);if(n)return n[r]}function lo(t,e,n){const r=he(t,n);return r!==void 0?r:he(e,n)}function an(t,e,n){for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?typeof t[r]=="string"||t[r]instanceof String||typeof e[r]=="string"||e[r]instanceof String?n&&(t[r]=e[r]):an(t[r],e[r],n):t[r]=e[r]);return t}function V(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var uo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function co(t){return typeof t=="string"?t.replace(/[&<>"'\/]/g,e=>uo[e]):t}const fo=[" ",",","?","!",";"];function po(t,e,n){e=e||"",n=n||"";const r=fo.filter(s=>e.indexOf(s)<0&&n.indexOf(s)<0);if(r.length===0)return!0;const o=new RegExp(`(${r.map(s=>s==="?"?"\\?":s).join("|")})`);let i=!o.test(t);if(!i){const s=t.indexOf(n);s>0&&!o.test(t.substring(0,s))&&(i=!0)}return i}function me(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const r=e.split(n);let o=t;for(let i=0;i<r.length;++i){if(!o||typeof o[r[i]]=="string"&&i+1<r.length)return;if(o[r[i]]===void 0){let s=2,a=r.slice(i,i+s).join(n),l=o[a];for(;l===void 0&&r.length>i+s;)s++,a=r.slice(i,i+s).join(n),l=o[a];if(l===void 0)return;if(l===null)return null;if(e.endsWith(a)){if(typeof l=="string")return l;if(a&&typeof l[a]=="string")return l[a]}const u=r.slice(i+s).join(n);return u?me(l,u,n):void 0}o=o[r[i]]}return o}function be(t){return t&&t.indexOf("_")>0?t.replace("_","-"):t}class ht extends Se{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,s=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let a=[e,n];r&&typeof r!="string"&&(a=a.concat(r)),r&&typeof r=="string"&&(a=a.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(a=e.split("."));const l=he(this.data,a);return l||!s||typeof r!="string"?l:me(this.data&&this.data[e]&&this.data[e][n],r,i)}addResource(e,n,r,o){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let a=[e,n];r&&(a=a.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(a=e.split("."),o=n,n=a[1]),this.addNamespaces(n),gt(this.data,a,o),i.silent||this.emit("added",e,n,r,o)}addResources(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const i in r)(typeof r[i]=="string"||Object.prototype.toString.apply(r[i])==="[object Array]")&&this.addResource(e,n,i,r[i],{silent:!0});o.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,o,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},a=[e,n];e.indexOf(".")>-1&&(a=e.split("."),o=r,r=n,n=a[1]),this.addNamespaces(n);let l=he(this.data,a)||{};o?an(l,r,i):l={...l,...r},gt(this.data,a,l),s.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,n)}:this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(o=>n[o]&&Object.keys(n[o]).length>0)}toJSON(){return this.data}}var ln={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,o){return t.forEach(i=>{this.processors[i]&&(e=this.processors[i].process(e,n,r,o))}),e}};const mt={};class ve extends Se{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),so(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=M.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,n);return r&&r.res!==void 0}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const s=r&&e.indexOf(r)>-1,a=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!po(e,r,o);if(s&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:i};const u=e.split(r);(r!==o||r===o&&this.options.ns.indexOf(u[0])>-1)&&(i=u.shift()),e=u.join(o)}return typeof i=="string"&&(i=[i]),{key:e,namespaces:i}}translate(e,n,r){if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof n=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:s,namespaces:a}=this.extractFromKey(e[e.length-1],n),l=a[a.length-1],u=n.lng||this.language,c=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const S=n.nsSeparator||this.options.nsSeparator;return o?{res:`${l}${S}${s}`,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l}:`${l}${S}${s}`}return o?{res:s,usedKey:s,exactUsedKey:s,usedLng:u,usedNS:l}:s}const d=this.resolve(e,n);let f=d&&d.res;const h=d&&d.usedKey||s,g=d&&d.exactUsedKey||s,m=Object.prototype.toString.apply(f),w=["[object Number]","[object Function]","[object RegExp]"],C=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,x=!this.i18nFormat||this.i18nFormat.handleAsObject;if(x&&f&&(typeof f!="string"&&typeof f!="boolean"&&typeof f!="number")&&w.indexOf(m)<0&&!(typeof C=="string"&&m==="[object Array]")){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const S=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,f,{...n,ns:a}):`key '${s} (${this.language})' returned an object instead of string.`;return o?(d.res=S,d):S}if(i){const S=m==="[object Array]",E=S?[]:{},k=S?g:h;for(const R in f)if(Object.prototype.hasOwnProperty.call(f,R)){const ae=`${k}${i}${R}`;E[R]=this.translate(ae,{...n,joinArrays:!1,ns:a}),E[R]===ae&&(E[R]=f[R])}f=E}}else if(x&&typeof C=="string"&&m==="[object Array]")f=f.join(C),f&&(f=this.extendTranslation(f,e,n,r));else{let S=!1,E=!1;const k=n.count!==void 0&&typeof n.count!="string",R=ve.hasDefaultValue(n),ae=k?this.pluralResolver.getSuffix(u,n.count,n):"",jn=n.ordinal&&k?this.pluralResolver.getSuffix(u,n.count,{ordinal:!1}):"",J=n[`defaultValue${ae}`]||n[`defaultValue${jn}`]||n.defaultValue;!this.isValidLookup(f)&&R&&(S=!0,f=J),this.isValidLookup(f)||(E=!0,f=s);const kn=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&E?void 0:f,Y=R&&J!==f&&this.options.updateMissing;if(E||S||Y){if(this.logger.log(Y?"updateKey":"missingKey",u,l,s,Y?J:f),i){const A=this.resolve(s,{...n,keySeparator:!1});A&&A.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let q=[];const le=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&le&&le[0])for(let A=0;A<le.length;A++)q.push(le[A]);else this.options.saveMissingTo==="all"?q=this.languageUtils.toResolveHierarchy(n.lng||this.language):q.push(n.lng||this.language);const it=(A,U,st)=>{const at=R&&st!==f?st:kn;this.options.missingKeyHandler?this.options.missingKeyHandler(A,l,U,at,Y,n):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(A,l,U,at,Y,n),this.emit("missingKey",A,l,U,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&k?q.forEach(A=>{this.pluralResolver.getSuffixes(A,n).forEach(U=>{it([A],s+U,n[`defaultValue${U}`]||J)})}):it(q,s,J))}f=this.extendTranslation(f,e,n,d,r),E&&f===s&&this.options.appendNamespaceToMissingKey&&(f=`${l}:${s}`),(E||S)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${s}`:s,S?f:void 0):f=this.options.parseMissingKeyHandler(f))}return o?(d.res=f,d):f}extendTranslation(e,n,r,o,i){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=typeof e=="string"&&(r&&r.interpolation&&r.interpolation.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const f=e.match(this.interpolator.nestingRegexp);c=f&&f.length}let d=r.replace&&typeof r.replace!="string"?r.replace:r;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,r.lng||this.language,r),u){const f=e.match(this.interpolator.nestingRegexp),h=f&&f.length;c<h&&(r.nest=!1)}!r.lng&&this.options.compatibilityAPI!=="v1"&&o&&o.res&&(r.lng=o.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var f=arguments.length,h=new Array(f),g=0;g<f;g++)h[g]=arguments[g];return i&&i[0]===h[0]&&!r.context?(s.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):s.translate(...h,n)},r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,l=typeof a=="string"?[a]:a;return e!=null&&l&&l.length&&r.applyPostProcessor!==!1&&(e=ln.handle(l,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:o,...r}:r,this)),e}resolve(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,o,i,s,a;return typeof e=="string"&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,n),c=u.key;o=c;let d=u.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const f=n.count!==void 0&&typeof n.count!="string",h=f&&!n.ordinal&&n.count===0&&this.pluralResolver.shouldUseIntlApi(),g=n.context!==void 0&&(typeof n.context=="string"||typeof n.context=="number")&&n.context!=="",m=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(w=>{this.isValidLookup(r)||(a=w,!mt[`${m[0]}-${w}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(a)&&(mt[`${m[0]}-${w}`]=!0,this.logger.warn(`key "${o}" for languages "${m.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(C=>{if(this.isValidLookup(r))return;s=C;const x=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(x,c,C,w,n);else{let S;f&&(S=this.pluralResolver.getSuffix(C,n.count,n));const E=`${this.options.pluralSeparator}zero`,k=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(x.push(c+S),n.ordinal&&S.indexOf(k)===0&&x.push(c+S.replace(k,this.options.pluralSeparator)),h&&x.push(c+E)),g){const R=`${c}${this.options.contextSeparator}${n.context}`;x.push(R),f&&(x.push(R+S),n.ordinal&&S.indexOf(k)===0&&x.push(R+S.replace(k,this.options.pluralSeparator)),h&&x.push(R+E))}}let se;for(;se=x.pop();)this.isValidLookup(r)||(i=se,r=this.getResource(C,w,se,n))}))})}),{res:r,usedKey:o,exactUsedKey:i,usedLng:s,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,n,r,o):this.resourceStore.getResource(e,n,r,o)}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}function Me(t){return t.charAt(0).toUpperCase()+t.slice(1)}class bt{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=M.create("languageUtils")}getScriptPartFromCode(e){if(e=be(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=be(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(typeof e=="string"&&e.indexOf("-")>-1){const n=["hans","hant","latn","cyrl","cans","mong","arab"];let r=e.split("-");return this.options.lowerCaseLng?r=r.map(o=>o.toLowerCase()):r.length===2?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Me(r[1].toLowerCase()))):r.length===3&&(r[0]=r[0].toLowerCase(),r[1].length===2&&(r[1]=r[1].toUpperCase()),r[0]!=="sgn"&&r[2].length===2&&(r[2]=r[2].toUpperCase()),n.indexOf(r[1].toLowerCase())>-1&&(r[1]=Me(r[1].toLowerCase())),n.indexOf(r[2].toLowerCase())>-1&&(r[2]=Me(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(n=o)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return n=o;n=this.options.supportedLngs.find(i=>{if(i===o)return i;if(!(i.indexOf("-")<0&&o.indexOf("-")<0)&&i.indexOf(o)===0)return i})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),typeof e=="string"&&(e=[e]),Object.prototype.toString.apply(e)==="[object Array]")return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes(n||this.options.fallbackLng||[],e),o=[],i=s=>{s&&(this.isSupportedCode(s)?o.push(s):this.logger.warn(`rejecting language code not found in supportedLngs: ${s}`))};return typeof e=="string"&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):typeof e=="string"&&i(this.formatLanguageCode(e)),r.forEach(s=>{o.indexOf(s)<0&&i(this.formatLanguageCode(s))}),o}}let go=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],ho={1:function(t){return+(t>1)},2:function(t){return+(t!=1)},3:function(t){return 0},4:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},5:function(t){return t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5},6:function(t){return t==1?0:t>=2&&t<=4?1:2},7:function(t){return t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2},8:function(t){return t==1?0:t==2?1:t!=8&&t!=11?2:3},9:function(t){return+(t>=2)},10:function(t){return t==1?0:t==2?1:t<7?2:t<11?3:4},11:function(t){return t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3},12:function(t){return+(t%10!=1||t%100==11)},13:function(t){return+(t!==0)},14:function(t){return t==1?0:t==2?1:t==3?2:3},15:function(t){return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2},16:function(t){return t%10==1&&t%100!=11?0:t!==0?1:2},17:function(t){return t==1||t%10==1&&t%100!=11?0:1},18:function(t){return t==0?0:t==1?1:2},19:function(t){return t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3},20:function(t){return t==1?0:t==0||t%100>0&&t%100<20?1:2},21:function(t){return t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0},22:function(t){return t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3}};const mo=["v1","v2","v3"],bo=["v4"],vt={zero:0,one:1,two:2,few:3,many:4,other:5};function vo(){const t={};return go.forEach(e=>{e.lngs.forEach(n=>{t[n]={numbers:e.nr,plurals:ho[e.fc]}})}),t}class yo{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=n,this.logger=M.create("pluralResolver"),(!this.options.compatibilityJSON||bo.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=vo()}addRule(e,n){this.rules[e]=n}getRule(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(be(e),{type:n.ordinal?"ordinal":"cardinal"})}catch(r){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return this.shouldUseIntlApi()?r&&r.resolvedOptions().pluralCategories.length>1:r&&r.numbers.length>1}getPluralFormsOfKey(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(o=>`${n}${o}`)}getSuffixes(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=this.getRule(e,n);return r?this.shouldUseIntlApi()?r.resolvedOptions().pluralCategories.sort((o,i)=>vt[o]-vt[i]).map(o=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o}`):r.numbers.map(o=>this.getSuffix(e,o,n)):[]}getSuffix(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(e,r);return o?this.shouldUseIntlApi()?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o.select(n)}`:this.getSuffixRetroCompatible(o,n):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,n){const r=e.noAbs?e.plurals(n):e.plurals(Math.abs(n));let o=e.numbers[r];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(o===2?o="plural":o===1&&(o=""));const i=()=>this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString();return this.options.compatibilityJSON==="v1"?o===1?"":typeof o=="number"?`_plural_${o.toString()}`:i():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?i():this.options.prepend&&r.toString()?this.options.prepend+r.toString():r.toString()}shouldUseIntlApi(){return!mo.includes(this.options.compatibilityJSON)}}function yt(t,e,n){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=lo(t,e,n);return!i&&o&&typeof n=="string"&&(i=me(t,n,r),i===void 0&&(i=me(e,n,r))),i}class wo{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=M.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(n=>n),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const n=e.interpolation;this.escape=n.escape!==void 0?n.escape:co,this.escapeValue=n.escapeValue!==void 0?n.escapeValue:!0,this.useRawValueToEscape=n.useRawValueToEscape!==void 0?n.useRawValueToEscape:!1,this.prefix=n.prefix?V(n.prefix):n.prefixEscaped||"{{",this.suffix=n.suffix?V(n.suffix):n.suffixEscaped||"}}",this.formatSeparator=n.formatSeparator?n.formatSeparator:n.formatSeparator||",",this.unescapePrefix=n.unescapeSuffix?"":n.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":n.unescapeSuffix||"",this.nestingPrefix=n.nestingPrefix?V(n.nestingPrefix):n.nestingPrefixEscaped||V("$t("),this.nestingSuffix=n.nestingSuffix?V(n.nestingSuffix):n.nestingSuffixEscaped||V(")"),this.nestingOptionsSeparator=n.nestingOptionsSeparator?n.nestingOptionsSeparator:n.nestingOptionsSeparator||",",this.maxReplaces=n.maxReplaces?n.maxReplaces:1e3,this.alwaysFormat=n.alwaysFormat!==void 0?n.alwaysFormat:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=`${this.prefix}(.+?)${this.suffix}`;this.regexp=new RegExp(e,"g");const n=`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`;this.regexpUnescape=new RegExp(n,"g");const r=`${this.nestingPrefix}(.+?)${this.nestingSuffix}`;this.nestingRegexp=new RegExp(r,"g")}interpolate(e,n,r,o){let i,s,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function u(g){return g.replace(/\$/g,"$$$$")}const c=g=>{if(g.indexOf(this.formatSeparator)<0){const x=yt(n,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(x,void 0,r,{...o,...n,interpolationkey:g}):x}const m=g.split(this.formatSeparator),w=m.shift().trim(),C=m.join(this.formatSeparator).trim();return this.format(yt(n,l,w,this.options.keySeparator,this.options.ignoreJSONStructure),C,r,{...o,...n,interpolationkey:w})};this.resetRegExp();const d=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,f=o&&o.interpolation&&o.interpolation.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>u(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?u(this.escape(g)):u(g)}].forEach(g=>{for(a=0;i=g.regex.exec(e);){const m=i[1].trim();if(s=c(m),s===void 0)if(typeof d=="function"){const C=d(e,i,o);s=typeof C=="string"?C:""}else if(o&&Object.prototype.hasOwnProperty.call(o,m))s="";else if(f){s=i[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),s="";else typeof s!="string"&&!this.useRawValueToEscape&&(s=pt(s));const w=g.safeValue(s);if(e=e.replace(i[0],w),f?(g.regex.lastIndex+=s.length,g.regex.lastIndex-=i[0].length):g.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,i,s;function a(l,u){const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const d=l.split(new RegExp(`${c}[ ]*{`));let f=`{${d[1]}`;l=d[0],f=this.interpolate(f,s);const h=f.match(/'/g),g=f.match(/"/g);(h&&h.length%2===0&&!g||g.length%2!==0)&&(f=f.replace(/'/g,'"'));try{s=JSON.parse(f),u&&(s={...u,...s})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${c}${f}`}return delete s.defaultValue,l}for(;o=this.nestingRegexp.exec(e);){let l=[];s={...r},s=s.replace&&typeof s.replace!="string"?s.replace:s,s.applyPostProcessor=!1,delete s.defaultValue;let u=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const c=o[1].split(this.formatSeparator).map(d=>d.trim());o[1]=c.shift(),l=c,u=!0}if(i=n(a.call(this,o[1].trim(),s),s),i&&o[0]===e&&typeof i!="string")return i;typeof i!="string"&&(i=pt(i)),i||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),i=""),u&&(i=l.reduce((c,d)=>this.format(c,d,r.lng,{...r,interpolationkey:o[1].trim()}),i.trim())),e=e.replace(o[0],i),this.regexp.lastIndex=0}return e}}function xo(t){let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);e==="currency"&&o.indexOf(":")<0?n.currency||(n.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?n.range||(n.range=o.trim()):o.split(";").forEach(s=>{if(!s)return;const[a,...l]=s.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,"");n[a.trim()]||(n[a.trim()]=u),u==="false"&&(n[a.trim()]=!1),u==="true"&&(n[a.trim()]=!0),isNaN(u)||(n[a.trim()]=parseInt(u,10))})}return{formatName:e,formatOptions:n}}function z(t){const e={};return function(r,o,i){const s=o+JSON.stringify(i);let a=e[s];return a||(a=t(be(o),i),e[s]=a),a(r)}}class So{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=M.create("formatter"),this.options=e,this.formats={number:z((n,r)=>{const o=new Intl.NumberFormat(n,{...r});return i=>o.format(i)}),currency:z((n,r)=>{const o=new Intl.NumberFormat(n,{...r,style:"currency"});return i=>o.format(i)}),datetime:z((n,r)=>{const o=new Intl.DateTimeFormat(n,{...r});return i=>o.format(i)}),relativetime:z((n,r)=>{const o=new Intl.RelativeTimeFormat(n,{...r});return i=>o.format(i,r.range||"day")}),list:z((n,r)=>{const o=new Intl.ListFormat(n,{...r});return i=>o.format(i)})},this.init(e)}init(e){const r=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=r.formatSeparator?r.formatSeparator:r.formatSeparator||","}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=z(n)}format(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return n.split(this.formatSeparator).reduce((a,l)=>{const{formatName:u,formatOptions:c}=xo(l);if(this.formats[u]){let d=a;try{const f=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},h=f.locale||f.lng||o.locale||o.lng||r;d=this.formats[u](a,h,{...c,...o,...f})}catch(f){this.logger.warn(f)}return d}else this.logger.warn(`there was no format function for ${u}`);return a},e)}}function Oo(t,e){t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)}class Co extends Se{constructor(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=o,this.logger=M.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(r,o.backend,o)}queueLoad(e,n,r,o){const i={},s={},a={},l={};return e.forEach(u=>{let c=!0;n.forEach(d=>{const f=`${u}|${d}`;!r.reload&&this.store.hasResourceBundle(u,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?s[f]===void 0&&(s[f]=!0):(this.state[f]=1,c=!1,s[f]===void 0&&(s[f]=!0),i[f]===void 0&&(i[f]=!0),l[d]===void 0&&(l[d]=!0)))}),c||(a[u]=!0)}),(Object.keys(i).length||Object.keys(s).length)&&this.queue.push({pending:s,pendingCount:Object.keys(s).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(i),pending:Object.keys(s),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const o=e.split("|"),i=o[0],s=o[1];n&&this.emit("failedLoading",i,s,n),r&&this.store.addResourceBundle(i,s,r),this.state[e]=n?-1:2;const a={};this.queue.forEach(l=>{ao(l.loaded,[i],s),Oo(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{a[u]||(a[u]={});const c=l.loaded[u];c.length&&c.forEach(d=>{a[u][d]===void 0&&(a[u][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,s=arguments.length>5?arguments[5]:void 0;if(!e.length)return s(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:o,wait:i,callback:s});return}this.readingCalls++;const a=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(u&&c&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,o+1,i*2,s)},i);return}s(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,n);u&&typeof u.then=="function"?u.then(c=>a(null,c)).catch(a):a(null,u)}catch(u){a(u)}return}return l(e,n,a)}prepareLoading(e,n){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();typeof e=="string"&&(e=this.languageUtils.toResolveHierarchy(e)),typeof n=="string"&&(n=[n]);const i=this.queueLoad(e,n,r,o);if(!i.toLoad.length)return i.pending.length||o(),null;i.toLoad.forEach(s=>{this.loadOne(s)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),o=r[0],i=r[1];this.read(o,i,"read",void 0,void 0,(s,a)=>{s&&this.logger.warn(`${n}loading namespace ${i} for language ${o} failed`,s),!s&&a&&this.logger.log(`${n}loaded namespace ${i} for language ${o}`,a),this.loaded(e,s,a)})}saveMissing(e,n,r,o,i){let s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if(this.backend&&this.backend.create){const l={...s,isUpdate:i},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,n,r,o,l):c=u(e,n,r,o),c&&typeof c.then=="function"?c.then(d=>a(null,d)).catch(a):a(null,c)}catch(c){a(c)}else u(e,n,r,o,a,l)}!e||!e[0]||this.store.addResource(e[0],n,r,o)}}}function wt(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){let n={};if(typeof e[1]=="object"&&(n=e[1]),typeof e[1]=="string"&&(n.defaultValue=e[1]),typeof e[2]=="string"&&(n.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const r=e[3]||e[2];Object.keys(r).forEach(o=>{n[o]=r[o]})}return n},interpolation:{escapeValue:!0,format:(t,e,n,r)=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function xt(t){return typeof t.ns=="string"&&(t.ns=[t.ns]),typeof t.fallbackLng=="string"&&(t.fallbackLng=[t.fallbackLng]),typeof t.fallbackNS=="string"&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t}function ue(){}function _o(t){Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})}class oe extends Se{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(super(),this.options=xt(e),this.services={},this.logger=M,this.modules={external:[]},_o(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(){var e=this;let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;typeof n=="function"&&(r=n,n={}),!n.defaultNS&&n.defaultNS!==!1&&n.ns&&(typeof n.ns=="string"?n.defaultNS=n.ns:n.ns.indexOf("translation")<0&&(n.defaultNS=n.ns[0]));const o=wt();this.options={...o,...this.options,...xt(n)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...o.interpolation,...this.options.interpolation}),n.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=n.keySeparator),n.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=n.nsSeparator);function i(c){return c?typeof c=="function"?new c:c:null}if(!this.options.isClone){this.modules.logger?M.init(i(this.modules.logger),this.options):M.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=So);const d=new bt(this.options);this.store=new ht(this.options.resources,this.options);const f=this.services;f.logger=M,f.resourceStore=this.store,f.languageUtils=d,f.pluralResolver=new yo(d,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(f.formatter=i(c),f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new wo(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new Co(i(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",function(h){for(var g=arguments.length,m=new Array(g>1?g-1:0),w=1;w<g;w++)m[w-1]=arguments[w];e.emit(h,...m)}),this.modules.languageDetector&&(f.languageDetector=i(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=i(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new ve(this.services,this.options),this.translator.on("*",function(h){for(var g=arguments.length,m=new Array(g>1?g-1:0),w=1;w<g;w++)m[w-1]=arguments[w];e.emit(h,...m)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,r||(r=ue),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=Q(),u=()=>{const c=(d,f)=>{this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(f),r(d,f)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ue;const o=typeof e=="string"?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(o&&o.toLowerCase()==="cimode")return r();const i=[],s=a=>{if(!a)return;this.services.languageUtils.toResolveHierarchy(a).forEach(u=>{i.indexOf(u)<0&&i.push(u)})};o?s(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>s(l)),this.options.preload&&this.options.preload.forEach(a=>s(a)),this.services.backendConnector.load(i,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(a)})}else r(null)}reloadResources(e,n,r){const o=Q();return e||(e=this.languages),n||(n=this.options.ns),r||(r=ue),this.services.backendConnector.reload(e,n,i=>{o.resolve(),r(i)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ln.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,n){var r=this;this.isLanguageChangingTo=e;const o=Q();this.emit("languageChanging",e);const i=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},s=(l,u)=>{u?(i(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,o.resolve(function(){return r.t(...arguments)}),n&&n(l,function(){return r.t(...arguments)})},a=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=typeof l=="string"?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||i(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{s(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),o}getFixedT(e,n,r){var o=this;const i=function(s,a){let l;if(typeof a!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),d=2;d<u;d++)c[d-2]=arguments[d];l=o.options.overloadTranslationOptionHandler([s,a].concat(c))}else l={...a};l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix=l.keyPrefix||r||i.keyPrefix;const f=o.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(s)?h=s.map(g=>`${l.keyPrefix}${f}${g}`):h=l.keyPrefix?`${l.keyPrefix}${f}${s}`:s,o.t(h,l)};return typeof e=="string"?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const s=(a,l)=>{const u=this.services.backendConnector.state[`${a}|${l}`];return u===-1||u===2};if(n.precheck){const a=n.precheck(this,s);if(a!==void 0)return a}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||s(r,e)&&(!o||s(i,e)))}loadNamespaces(e,n){const r=Q();return this.options.ns?(typeof e=="string"&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),n&&n(o)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=Q();typeof e=="string"&&(e=[e]);const o=this.options.preload||[],i=e.filter(s=>o.indexOf(s)<0);return i.length?(this.options.preload=o.concat(i),this.loadResources(s=>{r.resolve(),n&&n(s)}),r):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=this.services&&this.services.languageUtils||new bt(wt());return n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;return new oe(e,n)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ue;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},i=new oe(o);return(e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(a=>{i[a]=this[a]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},r&&(i.store=new ht(this.store.data,o),i.services.resourceStore=i.store),i.translator=new ve(i.services,o),i.translator.on("*",function(a){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];i.emit(a,...u)}),i.init(o,n),i.translator.options=o,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const _=oe.createInstance();_.createInstance=oe.createInstance;_.createInstance;_.dir;_.init;_.loadResources;_.reloadResources;_.use;_.changeLanguage;_.getFixedT;_.t;_.exists;_.setDefaultNamespace;_.hasLoadedNamespace;_.loadNamespaces;_.loadLanguages;let G;const Ro=()=>G,To=t=>{L.onLanguageChange(e=>t.changeLanguage(e))};class Eo{constructor(){this._appName="RMG",this._lng=void 0,this._defaultResources={},this._resources={}}use(e){return _.use(e),this}withAppName(e){return this._appName=e,this}withLng(e){return this._lng=e,this}withDefaultResource(e){return Object.entries(e).forEach(([n,r])=>{this._defaultResources[n]=r}),this}withResource(e,n){return this._resources[e]=n,this}combineResource(){const e={};return Object.entries(this._defaultResources).forEach(([n,r])=>{e[n]={translation:r}}),Object.entries(this._resources).forEach(([n,r])=>{n in e?e[n].translation=Object.assign(Object.assign({},e[n].translation),r):e[n]={translation:r}}),e}build(){return G=_.createInstance({lng:this._lng,fallbackLng:{"zh-CN":["zh-Hans","zh-Hant","en"],"zh-HK":["zh-Hant","zh-Hans","en"],"zh-TW":["zh-Hant","zh-Hans","en"],default:["en"]},resources:this.combineResource()},(e,n)=>{var r;if(e){console.error("[rmg-runtime] unexpected error occurs while initialising i18n",e);return}document.title=n(this._appName),document.documentElement.lang=(r=this._lng)!==null&&r!==void 0?r:"en"}),G.on("languageChanged",e=>{document.title=G.t(this._appName),document.documentElement.lang=e}),To(G),G}}var un=globalThis&&globalThis.__awaiter||function(t,e,n,r){function o(i){return i instanceof n?i:new n(function(s){s(i)})}return new(n||(n=Promise))(function(i,s){function a(c){try{u(r.next(c))}catch(d){s(d)}}function l(c){try{u(r.throw(c))}catch(d){s(d)}}function u(c){c.done?i(c.value):o(c.value).then(a,l)}u((r=r.apply(t,e||[])).next())})};let cn=!1;const Ao=()=>un(void 0,void 0,void 0,function*(){yield P.loadWithTimeout(),L.isAnalyticsQADone()?L.isAllowAnalytics()&&(console.log("[rmg-runtime] User has previously allowed GA"),de.init()):$.isStandaloneWindow()&&P.getComponent()!=="rmg-home"&&(console.warn("[rmg-runtime] App is opened in standalone window but analytics Q&A is not finished. GA will be init by default."),de.init()),cn=!0}),Po=()=>un(void 0,void 0,void 0,function*(){let t=0;for(;t<=10&&!cn;)yield Wt(1e3),t+=1}),O={ready:Po,getAppName:P.getComponent,getAppVersion:P.getVersion,getEnv:P.getEnvironment,getInstance:P.getInstance,event:de.customEvent,isStandaloneWindow:$.isStandaloneWindow,injectUITools:$.injectUITools,openApp:$.openApp,onAppOpen:$.onAppOpen,closeApp:$.closeApp,onAppClose:$.onAppClose,updateUrl:$.updateUrl,onUrlUpdate:$.onUrlUpdate,toggleNavMenu:$.toggleNavMenu,postEvent:T.postEvent,onMessage:T.onMessage,setLanguage:L.setLanguage,getLanguage:L.getLanguage,onLanguageChange:L.onLanguageChange,setColourMode:L.setColourMode,getColourMode:L.getColourMode,onColourModeChange:L.onColourModeChange,isAnalyticsQADone:L.isAnalyticsQADone,isAllowAnalytics:L.isAllowAnalytics,allowAnalytics:L.allowAnalytics,getStorageForCurrentApp:dt.getStorageForCurrentApp,clearStorageForCurrentApp:dt.clearStorageForCurrentApp,getMsSinceStartUp:no.getMsSinceStartUp,I18nBuilder:Eo,getI18nInstance:Ro};Ao().then();window.rmgRuntime=O;const Lo="操作",jo="应用程序",ko="黑",$o="取消",Mo="城市",No="组件",Io="确定",Do="继续",Fo="复制",Bo="编辑",Uo="语言/Language",Vo="理由",zo="名称",Go="下一步",Ho="打开",Wo="调色板",Ko="上一步",Jo="删除",Yo="重置",qo="设置",Qo="提交",Xo="翻译",Zo="上传",ei="白",ti={Action:Lo,Apps:jo,"Back to list":"返回列表","Background colour":"背景色",Black:ko,Cancel:$o,City:Mo,Components:No,"Configuration file":"配置文件",Confirm:Io,Continue:Do,"Country/Region":"国家/地区",Copy:Fo,Edit:Bo,"Foreground colour":"前景色","Go back":"返回",Language:Uo,Justification:Vo,Name:zo,Next:Go,Open:Ho,Palette:Wo,"Please select...":"请选择...",Previous:Ko,"Rail Map Generator":"铁路线路图生成器","Rail Map Painter":"地铁线路图绘制器","Rail Map Toolkit":"线路图工具包",Remove:Jo,Reset:Yo,"RMG Templates":"RMG 模板","RMP Gallery":"RMP 画廊","Seed Project":"种子项目",Settings:qo,Submit:Qo,Translate:Xo,Upload:Zo,White:ei},ni="動作",ri="應用程式",oi="黑",ii="取消",si="城市",ai="元件",li="確定",ui="繼續",ci="複製",fi="編輯",di="語言/Language",pi="理由",gi="名稱",hi="下一步",mi="開啟",bi="調色盤",vi="上一步",yi="移除",wi="重設",xi="設定",Si="提交",Oi="翻譯",Ci="上載",_i="白",Ri={Action:ni,Apps:ri,"Back to list":"返回列表","Background colour":"背景色",Black:oi,Cancel:ii,City:si,Components:ai,"Configuration file":"設定檔",Confirm:li,Continue:ui,Copy:ci,"Country/Region":"國家/地區",Edit:fi,"Foreground colour":"前景色","Go back":"返回",Language:di,Justification:pi,Name:gi,Next:hi,Open:mi,Palette:bi,"Please select...":"請選擇...",Previous:vi,"Rail Map Generator":"鐵路路綫圖產生器","Rail Map Painter":"地鐵路綫圖繪製器","Rail Map Toolkit":"路綫圖工具組",Remove:yi,Reset:wi,"RMG Templates":"RMG 範本","RMP Gallery":"RMP 畫廊","Seed Project":"種子項目",Settings:xi,Submit:Si,Translate:Oi,Upload:Ci,White:_i},Ti="言語/Language",Ei="パレット",Ai="削除",Pi={Language:Ti,Palette:Ei,"Rail Map Generator":"鉄道路線図ジェネレータ","Rail Map Toolkit":"路線図ツールキット",Remove:Ai,"RMG Templates":"RMG テンプレート"},Li="조작",ji="앱",ki="블랙",$i="취소",Mi="도시",Ni="요소",Ii="확인",Di="복사",Fi="편집",Bi="언어/Language",Ui="이유",Vi="명칭",zi="다음",Gi="열기",Hi="팔레트",Wi="나아가",Ki="삭제",Ji="리셋",Yi="설치",qi="제출",Qi="번역",Xi="업로드",Zi="화이트",es={Action:Li,Apps:ji,"Back to list":"다시 목록으로","Background colour":"배경색",Black:ki,Cancel:$i,City:Mi,Components:Ni,"Configuration file":"환경 설정 파일",Confirm:Ii,Copy:Di,"Country/Region":"국가/지역",Edit:Fi,"Foreground colour":"전경색","Go back":"되돌아가",Language:Bi,Justification:Ui,Name:Vi,Next:zi,Open:Gi,Palette:Hi,"Please select...":"선택해주세요",Previous:Wi,"Rail Map Generator":"철도 노선도 생성기","Rail Map Painter":"지하철 노선도 그리기","Rail Map Toolkit":"노선도 툴킷",Remove:Ki,Reset:Ji,"RMG Templates":"RMG 템플릿","RMP Gallery":"RMP 갤러리","Seed Project":"종자 프로젝트",Settings:Yi,Submit:qi,Translate:Qi,Upload:Xi,White:Zi};var ts={en:{},"zh-Hans":ti,"zh-Hant":Ri,ja:Pi,ko:es};const ns={header:"Cookies on this website",text1:"At RMG we use cookies to help ensure that our website and services are able to function properly. These cookies are necessary and so are set automatically.",text2:"We would also like to use some cookies to:",item1:"improve our website based on how you use it",text3:"These cookies are optional. If you'd like to accept all optional cookies, select 'Accept all cookies'. If you'd like to reject them, select 'Reject'.",accept:"Accept all cookies",reject:"Reject"},rs={CookiesModal:ns},os={header:"本网站的 Cookies",text1:"在 RMG，我们使用 Cookies 来确保本网站及服务可以正常运作。这些 Cookies 是必需的，因此已默认启动。",text2:"我们也会以 Cookies 的方式：",item1:"分析您的使用模式，用来改进本网站",text3:"这些 Cookies 是可选的。如果您想允许所有可选 Cookies，请选择“接受所有 Cookies”。如果您想禁用 Cookies，请选择“拒绝”。",accept:"接受所有 Cookies",reject:"拒绝"},is="关于",ss="外观",as="贡献者",ls="深色",us="浅色",cs="更多",fs="隐私",ds="正在运行",ps="保存",gs="切换",hs="跟随系统",ms="标签页",bs="使用教程",vs={CookiesModal:os,About:is,"Allow cookies to help improve our website":"允许用 Cookies 帮助改进本网站",Appearance:ss,"Back to production environment":"返回生产环境","Close all tabs":"关闭所有标签页","Close app":"关闭应用程式","Close current tab":"关闭当前标签页","Close tab":"关闭标签页","Contribution Wiki":"贡献者指南",Contributors:as,Dark:ls,"Developer team":"开发者团队",Light:us,"Main languages":"主要语言",More:cs,"New tab":"新标签页","Notes: Contributors are sorted by number of commits and commit time.":"注：贡献者名单按提交次数和时间排序。","Other languages":"其他语言",Privacy:fs,"Privacy settings":"隐私设置","Rail Map Toolkit is opened in another window":"线路图工具包已在另一窗口中打开","Refreshing is required for changes to take effect.":"刷新页面后变更才会生效","Resource administrators":"资源管理员","Resource contributors":"资源贡献者",Running:ds,Save:ps,"Select an app to start your own rail map design!":"选择一个应用程序来开始你的线路图设计！",Switch:gs,"Switch to":"切换至",System:hs,Tab:ms,"Terms and conditions":"条款与细则",Tutorial:bs,"Unable to load contributors":"无法加载贡献者名单","Visit GitHub":"访问 GitHub","Welcome to Rail Map Toolkit":"欢迎使用线路图工具包","You cannot open multiple Rail Map Toolkit at the same time. Please close this window.":"您不能同时打开多个线路图工具包。请关闭当前窗口。","You're currently viewing a testing environment.":"您正在浏览测试环境。"},ys={header:"本網站的 Cookies",text1:"在 RMG，我們使用 Cookies 以確保本網站及服務可以正常運作。這些 Cookies 是必需的，因此已預設啟用。",text2:"我們亦會以 Cookies 的方式：",item1:"分析閣下的使用模式，用來改進本網站",text3:"這些 Cookies 是可選的。如果閣下想容許所有可選 Cookies，請選擇「接受所有 Cookies」。如果閣下想禁用 Cookies，請選擇「拒絕」。",accept:"接受所有 Cookies",reject:"拒絕"},ws="關於",xs="外觀",Ss="貢獻者",Os="深色",Cs="淺色",_s="更多",Rs="私隱",Ts="運行中",Es="儲存",As="切換",Ps="跟隨系統",Ls="分頁",js="使用指南",ks={CookiesModal:ys,About:ws,"Allow cookies to help improve our website":"容許以 Cookies 幫助改進本網站",Appearance:xs,"Back to production environment":"返回生產環境","Close all tabs":"關閉所有分頁","Close app":"關閉應用程式","Close current tab":"關閉當前分頁","Close tab":"關閉分頁","Contribution Wiki":"貢獻者指南",Contributors:Ss,Dark:Os,"Developer team":"開發人員團隊",Light:Cs,"Main languages":"主要語言",More:_s,"New tab":"新分頁","Notes: Contributors are sorted by number of commits and commit time.":"註：貢獻者列表按提交次數及時間排序。","Other languages":"其他語言",Privacy:Rs,"Privacy settings":"私隱設定","Rail Map Toolkit is opened in another window":"路綫圖工具組已於另一視窗中開啟","Refreshing is required for changes to take effect.":"重新整理頁面後變更才會生效","Resource administrators":"資源管理員","Resource contributors":"資源貢獻者",Running:Ts,Save:Es,"Select an app to start your own rail map design!":"選擇一個應用程式以開始你的路綫圖設計！",Switch:As,"Switch to":"切換至",System:Ps,Tab:Ls,"Terms and conditions":"條款及細則",Tutorial:js,"Unable to load contributors":"無法載入貢獻者列表","Visit GitHub":"造訪 GitHub","Welcome to Rail Map Toolkit":"歡迎使用路綫圖工具組","You cannot open multiple Rail Map Toolkit at the same time. Please close this window.":"你不能同時開啟多個路綫圖工具組。請關閉當前視窗。","You're currently viewing a testing environment.":"你正在檢視測試環境。"},$s="貢献者",Ms="プライバシー",Ns="タブ",Is={Contributors:$s,"Main languages":"主要言語",Privacy:Ms,"Privacy settings":"プライバシー設定",Tab:Ns,"Welcome to Rail Map Toolkit":"路線図ツールキットへようこそ"},Ds={header:"이 웹 사이트의 쿠키",text1:"RMG에서는 쿠키를 사용하여 웹 사이트 및 서비스가 제대로 작동하는지 확인합니다.이러한 쿠키는 필수이므로 기본적으로 시작됩니다.",text2:"저희도 쿠키 방식으로：",item1:"당신의 사용 패턴을 분석하여, 본 사이트를 개선합니다",text3:"이 쿠키들은 선택 사항입니다.모든 선택 가능한 쿠키를 허용하려면 '모든 쿠키 허용'을 선택하십시오.쿠키를 사용하지 않으려면 '거부'를 선택하십시오.",accept:"모든 쿠키 허용",reject:"거부"},Fs="관한",Bs="화면 스타일",Us="기여자",Vs="다크 모드",zs="라이트 모드",Gs="저장",Hs="시스템 모드",Ws={CookiesModal:Ds,About:Fs,"Allow cookies to help improve our website":"쿠키를 사용하여 이 웹 사이트를 개선할 수 있도록 허용",Appearance:Bs,"Contribution Wiki":"기여자 안내",Contributors:Us,"Core contributors":"핵심 기여자",Dark:Vs,Light:zs,"Privacy settings":"개인 정보 보호 설정","Refreshing is required for changes to take effect.":"페이지를 새로 고친 후에만 변경 가능","Resource administrators":"자원 관리자","Resource contributors":"자원 기여자",Save:Gs,"Select an app to start your own rail map design!":"응용 프로그램을 선택하여 노선도 설계를 시작하십시오.","Switch to":"곳으로 전환",System:Hs,"Terms and conditions":"조항과 세칙","Visit GitHub":"GitHub 방문하기","Welcome to Rail Map Toolkit":"노선도 툴킷에 오신 것을 환영합니다"},Ks=new O.I18nBuilder().use(gr).withAppName("Rail Map Toolkit").withLng(O.getLanguage()).withDefaultResource(ts).withResource("en",rs).withResource("zh-Hans",vs).withResource("zh-Hant",ks).withResource("ja",Is).withResource("ko",Ws).build();var fn={exports:{}},dn={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H=b;function Js(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ys=typeof Object.is=="function"?Object.is:Js,qs=H.useState,Qs=H.useEffect,Xs=H.useLayoutEffect,Zs=H.useDebugValue;function ea(t,e){var n=e(),r=qs({inst:{value:n,getSnapshot:e}}),o=r[0].inst,i=r[1];return Xs(function(){o.value=n,o.getSnapshot=e,Ne(o)&&i({inst:o})},[t,n,e]),Qs(function(){return Ne(o)&&i({inst:o}),t(function(){Ne(o)&&i({inst:o})})},[t]),Zs(n),n}function Ne(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ys(t,n)}catch(r){return!0}}function ta(t,e){return e()}var na=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ta:ea;dn.useSyncExternalStore=H.useSyncExternalStore!==void 0?H.useSyncExternalStore:na;fn.exports=dn;var ra=fn.exports,pn={exports:{}},gn={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oe=b,oa=ra;function ia(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var sa=typeof Object.is=="function"?Object.is:ia,aa=oa.useSyncExternalStore,la=Oe.useRef,ua=Oe.useEffect,ca=Oe.useMemo,fa=Oe.useDebugValue;gn.useSyncExternalStoreWithSelector=function(t,e,n,r,o){var i=la(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=ca(function(){function l(h){if(!u){if(u=!0,c=h,h=r(h),o!==void 0&&s.hasValue){var g=s.value;if(o(g,h))return d=g}return d=h}if(g=d,sa(c,h))return g;var m=r(h);return o!==void 0&&o(g,m)?g:(c=h,d=m)}var u=!1,c,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,o]);var a=aa(t,i[0],i[1]);return ua(function(){s.hasValue=!0,s.value=a},[a]),fa(a),a};pn.exports=gn;var da=pn.exports;function pa(t){t()}let hn=pa;const ga=t=>hn=t,ha=()=>hn,St=Symbol.for("react-redux-context"),Ot=typeof globalThis<"u"?globalThis:{};function ma(){var t;if(!b.createContext)return{};const e=(t=Ot[St])!=null?t:Ot[St]=new Map;let n=e.get(b.createContext);return n||(n=b.createContext(null),e.set(b.createContext,n)),n}const F=ma();function nt(t=F){return function(){return b.useContext(t)}}const mn=nt(),ba=()=>{throw new Error("uSES not initialized!")};let bn=ba;const va=t=>{bn=t},ya=(t,e)=>t===e;function wa(t=F){const e=t===F?mn:nt(t);return function(r,o={}){const{equalityFn:i=ya,stabilityCheck:s=void 0,noopCheck:a=void 0}=typeof o=="function"?{equalityFn:o}:o,{store:l,subscription:u,getServerState:c,stabilityCheck:d,noopCheck:f}=e();b.useRef(!0);const h=b.useCallback({[r.name](m){return r(m)}}[r.name],[r,d,s]),g=bn(u.addNestedSub,l.getState,c||l.getState,h,i);return b.useDebugValue(g),g}}const xa=wa();var y={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rt=Symbol.for("react.element"),ot=Symbol.for("react.portal"),Ce=Symbol.for("react.fragment"),_e=Symbol.for("react.strict_mode"),Re=Symbol.for("react.profiler"),Te=Symbol.for("react.provider"),Ee=Symbol.for("react.context"),Sa=Symbol.for("react.server_context"),Ae=Symbol.for("react.forward_ref"),Pe=Symbol.for("react.suspense"),Le=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),ke=Symbol.for("react.lazy"),Oa=Symbol.for("react.offscreen"),vn;vn=Symbol.for("react.module.reference");function j(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case rt:switch(t=t.type,t){case Ce:case Re:case _e:case Pe:case Le:return t;default:switch(t=t&&t.$$typeof,t){case Sa:case Ee:case Ae:case ke:case je:case Te:return t;default:return e}}case ot:return e}}}y.ContextConsumer=Ee;y.ContextProvider=Te;y.Element=rt;y.ForwardRef=Ae;y.Fragment=Ce;y.Lazy=ke;y.Memo=je;y.Portal=ot;y.Profiler=Re;y.StrictMode=_e;y.Suspense=Pe;y.SuspenseList=Le;y.isAsyncMode=function(){return!1};y.isConcurrentMode=function(){return!1};y.isContextConsumer=function(t){return j(t)===Ee};y.isContextProvider=function(t){return j(t)===Te};y.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===rt};y.isForwardRef=function(t){return j(t)===Ae};y.isFragment=function(t){return j(t)===Ce};y.isLazy=function(t){return j(t)===ke};y.isMemo=function(t){return j(t)===je};y.isPortal=function(t){return j(t)===ot};y.isProfiler=function(t){return j(t)===Re};y.isStrictMode=function(t){return j(t)===_e};y.isSuspense=function(t){return j(t)===Pe};y.isSuspenseList=function(t){return j(t)===Le};y.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ce||t===Re||t===_e||t===Pe||t===Le||t===Oa||typeof t=="object"&&t!==null&&(t.$$typeof===ke||t.$$typeof===je||t.$$typeof===Te||t.$$typeof===Ee||t.$$typeof===Ae||t.$$typeof===vn||t.getModuleId!==void 0)};y.typeOf=j;function Ca(){const t=ha();let e=null,n=null;return{clear(){e=null,n=null},notify(){t(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){let r=[],o=e;for(;o;)r.push(o),o=o.next;return r},subscribe(r){let o=!0,i=n={callback:r,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){!o||e===null||(o=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}const Ct={notify(){},get:()=>[]};function _a(t,e){let n,r=Ct;function o(d){return l(),r.subscribe(d)}function i(){r.notify()}function s(){c.onStateChange&&c.onStateChange()}function a(){return!!n}function l(){n||(n=e?e.addNestedSub(s):t.subscribe(s),r=Ca())}function u(){n&&(n(),n=void 0,r.clear(),r=Ct)}const c={addNestedSub:o,notifyNestedSubs:i,handleChangeWrapper:s,isSubscribed:a,trySubscribe:l,tryUnsubscribe:u,getListeners:()=>r};return c}const Ra=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ta=Ra?b.useLayoutEffect:b.useEffect;function Ea({store:t,context:e,children:n,serverState:r,stabilityCheck:o="once",noopCheck:i="once"}){const s=b.useMemo(()=>{const u=_a(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:o,noopCheck:i}},[t,r,o,i]),a=b.useMemo(()=>t.getState(),[t]);Ta(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const l=e||F;return b.createElement(l.Provider,{value:s},n)}function yn(t=F){const e=t===F?mn:nt(t);return function(){const{store:r}=e();return r}}const Aa=yn();function Pa(t=F){const e=t===F?Aa:yn(t);return function(){return e().dispatch}}const La=Pa();va(da.useSyncExternalStoreWithSelector);ga(Ht.unstable_batchedUpdates);const ee={rmg:{name:"Rail Map Generator",url:"/rmg/",allowedEnvs:[v.DEV,v.UAT,v.PRD],allowMultiInstances:!0},rmp:{name:"Rail Map Painter",url:"/rmp/",allowedEnvs:[v.DEV,v.UAT,v.PRD]},"rmg-palette":{name:"Palette",url:"/rmg-palette/",allowedEnvs:[v.DEV,v.UAT,v.PRD],showContributors:!0,legacyContributors:"legacy-contributor-list.txt"},"rmg-palette-upload":{name:"Palette - Upload",url:"/rmg-palette/#/new",allowedEnvs:[v.DEV,v.UAT,v.PRD]},"rmg-components":{name:"Components",url:"/rmg-components/",allowedEnvs:[v.DEV,v.UAT]},"rmg-templates":{name:"RMG Templates",url:"/rmg-templates/",allowedEnvs:[v.DEV,v.UAT,v.PRD],showContributors:!0,legacyContributors:"legacy-contributor-list.txt"},"rmg-templates-upload":{name:"RMG Templates - Upload",url:"/rmg-templates/#/new",allowedEnvs:[v.DEV,v.UAT,v.PRD]},"rmp-gallery":{name:"RMP Gallery",url:"/rmp-gallery/",allowedEnvs:[v.DEV,v.UAT,v.PRD],showContributors:!0},"seed-project":{name:"Seed Project",url:"/seed-project/",allowedEnvs:[v.DEV,v.UAT]},"rmg-translate":{name:"Translate",url:"/rmg-translate/",allowedEnvs:[v.DEV,v.UAT]}},Ue=t=>Object.entries(ee).filter(([e,n])=>n.allowedEnvs.includes(t)).map(([e])=>e);var ie=(t=>(t.OPENED_TABS="rmg-home__openedTabs",t.ACTIVE_TAB="rmg-home__activeTab",t))(ie||{});const uu={GitHub:"GitHub Pages",GitLab:"GitLab Pages",Bitbucket:"Bitbucket Cloud",localhost:"localhost",unknown:"unknown"},cu=(t,e)=>`https://${e===v.PRD?"":"uat-"}railmapgen.${t===fe.GITLAB?"gitlab":"github"}.io`;var wn=(t=>(t.APP_LOAD="APP_LOAD",t.OPEN_APP="OPEN_APP",t.CLOSE_APP="CLOSE_APP",t.TOGGLE_NAV_MENU="TOGGLE_NAV_MENU",t.CHANGE_LANGUAGE="CHANGE_LANGUAGE",t.SWITCH_MIRROR="SWITCH_MIRROR",t))(wn||{});const ja="rmg-home:frame-",ka={isPrimary:void 0,isShowMenu:!0,openedTabs:[],activeTab:void 0},xn=hr({name:"app",initialState:ka,reducers:{setIsPrimary:(t,e)=>{t.isPrimary=e.payload},toggleMenu:t=>{t.isShowMenu=!t.isShowMenu},setOpenedTabs:(t,e)=>{t.openedTabs=e.payload},updateTabUrl:(t,e)=>{const{id:n,url:r}=e.payload;t.openedTabs=t.openedTabs.map(o=>o.id===n?{...o,url:r}:o)},setActiveTab:(t,e)=>{t.activeTab=e.payload},openApp:(t,e)=>{const{appId:n,url:r}=e.payload,o=t.openedTabs.find(({id:s})=>s===t.activeTab),i=t.openedTabs.find(({app:s})=>s===n);if((o==null?void 0:o.app)!==n)if(i)t.activeTab=i.id;else{const s=crypto.randomUUID();t.openedTabs.push({id:s,app:n,url:r!=null?r:ee[n].url}),t.activeTab=s}},openAppInNew:(t,e)=>{const n=crypto.randomUUID();t.openedTabs.push({id:n,app:e.payload}),t.activeTab=n},closeTab:(t,e)=>{var o;const n=e.payload,r=t.openedTabs.slice().sort((i,s)=>{const a=Object.keys(ee);return a.indexOf(i.app)-a.indexOf(s.app)});if(t.openedTabs=t.openedTabs.filter(i=>i.id!==n),t.activeTab===n){const i=r.findIndex(s=>s.id===n);t.activeTab=(o=r.filter(s=>s.id!==n)[Math.max(0,i-1)])==null?void 0:o.id}},closeApp:(t,e)=>{var s,a;const n=e.payload;if(!t.openedTabs.some(l=>l.app===n))return;const r=Object.keys(ee).filter(l=>t.openedTabs.some(u=>u.app===l)),o=(s=t.openedTabs.find(l=>l.id===t.activeTab))==null?void 0:s.app,i=t.openedTabs.filter(l=>l.app!==n);if(t.openedTabs=i,o===n){const l=r.findIndex(u=>u===n);t.activeTab=(a=i.find(u=>u.app===r[Math.max(0,l-1)]))==null?void 0:a.id}}}}),{setIsPrimary:$a,toggleMenu:fu,setOpenedTabs:_t,updateTabUrl:Ma,setActiveTab:Rt,openApp:Ve,openAppInNew:du,closeTab:pu,closeApp:Na}=xn.actions,Ia=xn.reducer,Sn=mr(),I=br({reducer:{app:Ia},middleware:t=>t().prepend(Sn.middleware)}),gu=()=>La(),hu=xa,Tt=Sn.startListening;window.rmgStore=I;var On,Et=Ht;On=Et.createRoot,Et.hydrateRoot;var Cn=function(){if(typeof Map<"u")return Map;function t(e,n){var r=-1;return e.some(function(o,i){return o[0]===n?(r=i,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(n){var r=t(this.__entries__,n),o=this.__entries__[r];return o&&o[1]},e.prototype.set=function(n,r){var o=t(this.__entries__,n);~o?this.__entries__[o][1]=r:this.__entries__.push([n,r])},e.prototype.delete=function(n){var r=this.__entries__,o=t(r,n);~o&&r.splice(o,1)},e.prototype.has=function(n){return!!~t(this.__entries__,n)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(n,r){r===void 0&&(r=null);for(var o=0,i=this.__entries__;o<i.length;o++){var s=i[o];n.call(r,s[1],s[0])}},e}()}(),ze=typeof window<"u"&&typeof document<"u"&&window.document===document,ye=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Da=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(ye):function(t){return setTimeout(function(){return t(Date.now())},1e3/60)}}(),Fa=2;function Ba(t,e){var n=!1,r=!1,o=0;function i(){n&&(n=!1,t()),r&&a()}function s(){Da(i)}function a(){var l=Date.now();if(n){if(l-o<Fa)return;r=!0}else n=!0,r=!1,setTimeout(s,e);o=l}return a}var Ua=20,Va=["top","right","bottom","left","width","height","size","weight"],za=typeof MutationObserver<"u",Ga=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Ba(this.refresh.bind(this),Ua)}return t.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},t.prototype.removeObserver=function(e){var n=this.observers_,r=n.indexOf(e);~r&&n.splice(r,1),!n.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},t.prototype.updateObservers_=function(){var e=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return e.forEach(function(n){return n.broadcastActive()}),e.length>0},t.prototype.connect_=function(){!ze||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),za?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){!ze||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(e){var n=e.propertyName,r=n===void 0?"":n,o=Va.some(function(i){return!!~r.indexOf(i)});o&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),_n=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var o=r[n];Object.defineProperty(t,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return t},W=function(t){var e=t&&t.ownerDocument&&t.ownerDocument.defaultView;return e||ye},Rn=$e(0,0,0,0);function we(t){return parseFloat(t)||0}function At(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce(function(r,o){var i=t["border-"+o+"-width"];return r+we(i)},0)}function Ha(t){for(var e=["top","right","bottom","left"],n={},r=0,o=e;r<o.length;r++){var i=o[r],s=t["padding-"+i];n[i]=we(s)}return n}function Wa(t){var e=t.getBBox();return $e(0,0,e.width,e.height)}function Ka(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return Rn;var r=W(t).getComputedStyle(t),o=Ha(r),i=o.left+o.right,s=o.top+o.bottom,a=we(r.width),l=we(r.height);if(r.boxSizing==="border-box"&&(Math.round(a+i)!==e&&(a-=At(r,"left","right")+i),Math.round(l+s)!==n&&(l-=At(r,"top","bottom")+s)),!Ya(t)){var u=Math.round(a+i)-e,c=Math.round(l+s)-n;Math.abs(u)!==1&&(a-=u),Math.abs(c)!==1&&(l-=c)}return $e(o.left,o.top,a,l)}var Ja=function(){return typeof SVGGraphicsElement<"u"?function(t){return t instanceof W(t).SVGGraphicsElement}:function(t){return t instanceof W(t).SVGElement&&typeof t.getBBox=="function"}}();function Ya(t){return t===W(t).document.documentElement}function qa(t){return ze?Ja(t)?Wa(t):Ka(t):Rn}function Qa(t){var e=t.x,n=t.y,r=t.width,o=t.height,i=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,s=Object.create(i.prototype);return _n(s,{x:e,y:n,width:r,height:o,top:n,right:e+r,bottom:o+n,left:e}),s}function $e(t,e,n,r){return{x:t,y:e,width:n,height:r}}var Xa=function(){function t(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=$e(0,0,0,0),this.target=e}return t.prototype.isActive=function(){var e=qa(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},t}(),Za=function(){function t(e,n){var r=Qa(n);_n(this,{target:e,contentRect:r})}return t}(),el=function(){function t(e,n,r){if(this.activeObservations_=[],this.observations_=new Cn,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=n,this.callbackCtx_=r}return t.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof W(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)||(n.set(e,new Xa(e)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof W(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(e)&&(n.delete(e),n.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&e.activeObservations_.push(n)})},t.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,n=this.activeObservations_.map(function(r){return new Za(r.target,r.broadcastRect())});this.callback_.call(e,n,e),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),Tn=typeof WeakMap<"u"?new WeakMap:new Cn,En=function(){function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Ga.getInstance(),r=new el(e,n,this);Tn.set(this,r)}return t}();["observe","unobserve","disconnect"].forEach(function(t){En.prototype[t]=function(){var e;return(e=Tn.get(this))[t].apply(e,arguments)}});var tl=function(){return typeof ye.ResizeObserver<"u"?ye.ResizeObserver:En}();window.ResizeObserver||(window.ResizeObserver=tl);var Pt=globalThis&&globalThis.__assign||function(){return Pt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Pt.apply(this,arguments)};globalThis&&globalThis.__rest;var Ge=globalThis&&globalThis.__assign||function(){return Ge=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ge.apply(this,arguments)},nl=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},rl=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i},ol=function(t,e){var n=t.validator,r=t.onDebouncedChange,o=t.delay,i=t.optionList,s=t.defaultValue;t.onChange;var a=nl(t,["validator","onDebouncedChange","delay","optionList","defaultValue","onChange"]),l=b.useRef(null),u=Vt(l,e),c=b.useRef("datalist-"+new Date().valueOf()),d=rl(b.useState(!1),2),f=d[0],h=d[1],g=b.useRef();b.useEffect(function(){l.current&&(l.current.value=(s==null?void 0:s.toString())||"")},[s]);var m=function(C){var x=C.target.value;window.clearTimeout(g.current),n&&h(!n(x)),g.current=window.setTimeout(function(){r==null||r(x),g.current=void 0},o!=null?o:500)},w=function(C){var x=C.target.value;g.current!==void 0&&(window.clearTimeout(g.current),n&&h(!n(x)),r==null||r(x),g.current=void 0)};return p.jsxs(p.Fragment,{children:[p.jsx($n,Ge({ref:u,list:c.current,variant:"flushed",size:"sm",h:6,onChange:m,onBlur:w,isInvalid:f},a)),i&&p.jsx("datalist",{id:c.current,children:i==null?void 0:i.map(function(C,x){return p.jsx("option",{children:C},x)})})]})},mu=b.forwardRef(ol);globalThis&&globalThis.__read;globalThis&&globalThis.__read;globalThis&&globalThis.__spreadArray;var Lt=globalThis&&globalThis.__assign||function(){return Lt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Lt.apply(this,arguments)};globalThis&&globalThis.__rest;var jt=globalThis&&globalThis.__assign||function(){return jt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},jt.apply(this,arguments)},He=globalThis&&globalThis.__assign||function(){return He=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},He.apply(this,arguments)},il=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},sl=function(t,e){var n=t.onDebouncedChange,r=t.defaultValue;t.onChange;var o=il(t,["onDebouncedChange","defaultValue","onChange"]),i=b.useRef(null),s=Vt(i,e),a=b.useRef();b.useEffect(function(){i.current&&(i.current.value=(r==null?void 0:r.toString())||"")},[r]);var l=function(u){var c=u.target.value;window.clearTimeout(a.current),a.current=window.setTimeout(function(){n==null||n(c)},500)};return p.jsx(Mn,He({ref:s,variant:"flushed",size:"sm",resize:"none",onChange:l},o))},bu=b.forwardRef(sl),kt=globalThis&&globalThis.__assign||function(){return kt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},kt.apply(this,arguments)};globalThis&&globalThis.__rest;var al=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i},ll=function(t){switch(t){case v.DEV:return"red";case v.UAT:return"orange";case v.PRD:return"green"}};function vu(t){var e=t.environment,n=t.version,r=t.popoverHeader,o=t.popoverBody,i=al(b.useState(!1),2),s=i[0],a=i[1];return p.jsxs(Nn,{isOpen:s,onOpen:function(){return r&&a(!0)},onClose:function(){return a(!1)},children:[p.jsx(In,{children:p.jsx(Dn,{ml:1,colorScheme:ll(e),title:"".concat(e,": ").concat(n),cursor:r?"pointer":"help",children:e===v.PRD?n:e})}),p.jsxs(Fn,{children:[p.jsx(Bn,{}),p.jsx(Un,{}),p.jsx(Vn,{children:r}),p.jsx(zn,{children:o})]})]})}var ul=function(t,e,n){var r=new Blob([n],{type:e});cl(t,r)},cl=function(t,e){var n=window.URL.createObjectURL(e),r=document.createElement("a");r.href=n,r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(n)},fl=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i};function dl(t){var e=t.cancelRef,n=t.isOpen,r=t.onClose,o=fl(b.useState(!1),2),i=o[0],s=o[1],a=function(){s(!0);var l=O.getStorageForCurrentApp(),u=O.getAppName(),c="".concat(u,"_BACKUP_").concat(new Date().toISOString(),".json");ul(c,"application/json",JSON.stringify(l)),O.clearStorageForCurrentApp(),setTimeout(function(){window.location.reload()},2e3)};return p.jsxs(Gn,{leastDestructiveRef:e,isOpen:n,onClose:r,children:[p.jsx(Hn,{}),p.jsxs(Wn,{children:[p.jsx(Kn,{children:"Warning 警告"}),p.jsx(Jn,{}),p.jsxs(Yn,{sx:{"& p":{my:1}},children:[p.jsx(B,{children:"Are you sure you want to reset the app? The webpage local storage for this app will be cleared. A copy of the local storage will be downloaded and it may be used for restoration (varies with app)."}),p.jsx(B,{children:"確定重設該應用程式嗎？應用程式的網頁本地儲存將會被清除。本地儲存的副本可供下載及用於復原（因應用程式而異）。"}),p.jsx(B,{children:"确定重置本应用程序吗？应用程序的网页本地存储将会被清除。本地存储的拷贝可供下载以及用于还原（因应用程序而異）。"})]}),p.jsxs(qn,{children:[p.jsx(lt,{ref:e,onClick:r,children:"Cancel"}),p.jsx(lt,{isLoading:i,colorScheme:"red",ml:3,onClick:a,children:"Confirm and reload"})]})]})]})}var te=globalThis&&globalThis.__assign||function(){return te=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},te.apply(this,arguments)},pl=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},gl=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i};function hl(t){var e=t.error,n=t.errorInfo,r=t.allowReset,o=t.sx,i=pl(t,["error","errorInfo","allowReset","sx"]),s=K("RmgErrorBoundary"),a=zt("primary.500","primary.300"),l=gl(b.useState(!1),2),u=l[0],c=l[1],d=b.useRef(null),f=function(m){return p.jsx(ut,{color:a,role:"button",onClick:function(){return c(!0)},children:m})},h=O.getAppName(),g=p.jsx(ut,{color:a,href:"https://github.com/railmapgen/".concat(h,"/issues"),isExternal:!0,children:"GitHub Issue"});return p.jsxs(Qn,te({status:"error",sx:te(te({},s),o)},i,{children:[p.jsx(Xn,{}),p.jsx(Zn,{children:"Something went wrong!"}),p.jsxs(er,{children:[p.jsxs(B,{children:["Please try to refresh or re-import your configuration files. If the issue still persists, please consider upgrading your browser",r?p.jsxs(p.Fragment,{children:[" or ",f("reset this app")]}):"",". Should you need any help, please contact us by submitting an issue in ",g," with the details shown below."]}),p.jsxs(B,{children:["請嘗試重新整理或重新上載設定檔。如果問題仍然存在，請考慮更新你的瀏覽器",r?p.jsxs(p.Fragment,{children:["或",f("重設該應用程式")]}):"","。如需協助或與我們聯絡，請前往 ",g," 提交一個 Issue 並附以詳細資料。"]}),p.jsxs(B,{children:["请尝试刷新或者重新上传配置文件。如果问题仍然存在，请考虑更新您的浏览器",r?p.jsxs(p.Fragment,{children:["或者",f("重置本应用程序")]}):"","。如需帮助或者联系我们，请前往 ",g," 提交一个 Issue 并附上详细信息。"]}),p.jsxs(B,{as:"details",children:[e==null?void 0:e.toString(),p.jsx("br",{}),n==null?void 0:n.componentStack]}),r&&p.jsx(dl,{cancelRef:d,isOpen:u,onClose:function(){return c(!1)}})]})]}))}var ml=globalThis&&globalThis.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(r[i]=o[i])},t(e,n)};return function(e,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),We=globalThis&&globalThis.__assign||function(){return We=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},We.apply(this,arguments)},bl=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},vl=function(t){ml(e,t);function e(n){var r=t.call(this,n)||this;return r.state={hasError:!1,error:null,errorInfo:null},r}return e.getDerivedStateFromError=function(){return{hasError:!0}},e.prototype.componentDidCatch=function(n,r){this.setState({error:n,errorInfo:r})},e.prototype.render=function(){var n=this.props,r=n.children,o=n.suspenseFallback,i=n.allowReset,s=bl(n,["children","suspenseFallback","allowReset"]);return this.state.hasError?p.jsx(hl,We({error:this.state.error,errorInfo:this.state.errorInfo,allowReset:i},s)):o?p.jsx(b.Suspense,{fallback:o,children:r}):r},e}(vr.Component),Ke=globalThis&&globalThis.__assign||function(){return Ke=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ke.apply(this,arguments)},yl=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},yu=function(t){var e=t.label,n=t.children;t.width;var r=t.noLabel,o=t.oneLine,i=t.className,s=yl(t,["label","children","width","noLabel","oneLine","className"]),a=K("RmgLabel");return p.jsxs(tr,Ke({className:"".concat(o?"rmg-label__one-line":""," ").concat(i!=null?i:""),"aria-label":e,sx:a},s,{children:[!r&&p.jsx(nr,{size:"xs",children:e}),n]}))},Je=globalThis&&globalThis.__assign||function(){return Je=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Je.apply(this,arguments)},wl=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},$t=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i};function wu(t){var e=t.defaultValue,n=t.options,r=t.disabledOptions,o=wl(t,["defaultValue","options","disabledOptions"]),i=b.useRef(null);b.useEffect(function(){i.current&&(i.current.value=(e==null?void 0:e.toString())||"")},[e]);var s=function(a,l){return p.jsx("option",{value:a,disabled:(r==null?void 0:r.find(function(u){return u.toString()===a}))!==void 0,children:l},a)};return p.jsx(rr,Je({ref:i,variant:"flushed",size:"sm",h:6},o,{children:Object.entries(n).map(function(a){var l=$t(a,2),u=l[0],c=l[1];return typeof c=="object"?p.jsx("optgroup",{label:u,children:Object.entries(c).map(function(d){var f=$t(d,2),h=f[0],g=f[1];return s(h,g)})},u):s(u,c)})}))}globalThis&&globalThis.__read;var xl=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i},xu=function(){var t=Gt(),e=t.colorMode,n=t.setColorMode,r=xl(or("(prefers-color-scheme: dark)"),1),o=r[0],i=b.useCallback(function(s){O.setColourMode(s),n(s==="system"?o?"dark":"light":s)},[e,n,o]);return{colourMode:e,setColourMode:i}},Ie=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i},Mt=globalThis&&globalThis.__spreadArray||function(t,e,n){if(n||arguments.length===2)for(var r=0,o=e.length,i;r<o;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))},Sl=function(t,e){e===void 0&&(e=500);var n=Ie(b.useState(!0),2),r=n[0],o=n[1],i=b.useRef([]),s=b.useRef(),a=b.useCallback(function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];if(!r){i.current=l;return}o(!1),i.current=[],t.apply(void 0,Mt([],Ie(l),!1))},[r,t]);return b.useEffect(function(){if(!r)return s.current=window.setTimeout(function(){o(!0),i.current.length&&t.apply(void 0,Mt([],Ie(i.current),!1))},e),function(){window.clearTimeout(s.current)}},[r,e]),a},Ol=globalThis&&globalThis.__read||function(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),o,i=[],s;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)i.push(o.value)}catch(a){s={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(s)throw s.error}}return i};function Su(t){var e=t.defaultValue,n=t.min,r=t.max,o=t.step,i=t.onThrottledChange,s=t.leftIcon,a=t.rightIcon,l=K("RmgThrottledSlider"),u=Ol(b.useState(e!=null?e:0),2),c=u[0],d=u[1],f=Sl(i!=null?i:function(){},500),h=function(){var m=Math.min(c+(o!=null?o:1)*10,r!=null?r:100);i==null||i(m),d(m)},g=function(){var m=Math.max(c-(o!=null?o:1)*10,n!=null?n:0);i==null||i(m),d(m)};return p.jsxs(xe,{sx:l,children:[s&&p.jsx(ct,{size:"xs",variant:"ghost","aria-label":"Drag left",icon:s,onClick:g}),p.jsxs(ir,{value:c,min:n,max:r,step:o,onChange:function(m){f(m),d(m)},children:[p.jsx(sr,{children:p.jsx(ar,{})}),p.jsx(lr,{})]}),a&&p.jsx(ct,{size:"xs",variant:"ghost","aria-label":"Drag right",icon:a,onClick:h})]})}var D=globalThis&&globalThis.__assign||function(){return D=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},D.apply(this,arguments)},An=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},Ou=function(t){var e=t.sx,n=t.className,r=An(t,["sx","className"]),o=K("RmgWindow");return p.jsx(xe,D({className:"rmg-window ".concat(n!=null?n:""),sx:D(D({},o),e)},r))},Cu=function(t){var e=t.sx,n=t.className,r=An(t,["sx","className"]),o=K("RmgPage");return p.jsx(xe,D({className:"rmg-page ".concat(n!=null?n:""),sx:D(D({},o),e)},r))},Nt=globalThis&&globalThis.__assign||function(){return Nt=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Nt.apply(this,arguments)};globalThis&&globalThis.__rest;var ne=globalThis&&globalThis.__assign||function(){return ne=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},ne.apply(this,arguments)},Cl=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n},_l=function(t){var e=t.isIndeterminate,n=t.value,r=t.sx,o=Cl(t,["isIndeterminate","value","sx"]),i=zt("primary.500","primary.300"),s=K("RmgLoader");return p.jsxs(xe,{sx:ne(ne({},s),r),children:[p.jsx("div",{className:"rmg-loader__backdrop"}),p.jsx(ur,ne({isIndeterminate:e,value:n,color:i},o))]})};globalThis&&globalThis.__read;globalThis&&globalThis.__spreadArray;var It=globalThis&&globalThis.__assign||function(){return It=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},It.apply(this,arguments)};globalThis&&globalThis.__rest;var Dt=function(t){return t==="dark"?"primary.300":"primary.500"},De={variants:{flushed:function(t){var e=t.theme,n=t.colorMode;return{field:{_focusVisible:{borderColor:Dt(n),boxShadow:"0px 1px 0px 0px ".concat(X(e,Dt(n)))}}}}}},Rl={defaultProps:{colorScheme:"primary"}},Ft={defaultProps:{colorScheme:"primary"}},Tl={baseStyle:{w:"100%",h:"100%","& .ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper":{height:"unset"},"& .ag-cell":{display:"flex",lineHeight:"unset",alignItems:"center"},"& .ag-cell, & .ag-header-cell":{padding:"8px 9px"},"& .ag-row, & .ag-header":{border:"unset"},"&.ag-theme-alpine .ag-row .ag-cell, &.ag-theme-alpine .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))"},"&.ag-theme-alpine-dark .ag-row .ag-cell, &.ag-theme-alpine-dark .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))"},"& .ag-pinned-left-cols-container, & .ag-pinned-left-header":{boxShadow:"var(--chakra-shadows-lg)",zIndex:1},"&.ag-theme-alpine":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #fff)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #fcfcfc)"}},"&.ag-theme-alpine-dark":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #181d1f)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #222628)"}}}},El={baseStyle:function(t){var e=t.colorMode,n=t.zIndex;return{display:"none","&.show-app-clip":{display:"block"},"& .rmg-app-clip__overlay":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:n,bg:"blackAlpha.600"},"& .rmg-app-clip__container":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:n},"& .rmg-app-clip__content":{display:"flex",w:"100%",maxW:"md",my:16,bg:e==="light"?"white":"gray.700",boxShadow:"lg",borderRadius:"md",overflow:"hidden"}}},sizes:{xs:{"& .rmg-app-clip__content":{maxW:"xs"}},sm:{"& .rmg-app-clip__content":{maxW:"sm"}},lg:{"& .rmg-app-clip__content":{maxW:"lg"}},xl:{"& .rmg-app-clip__content":{maxW:"xl"}},full:{"& .rmg-app-clip__content":{maxW:"100vw",minH:"var(--chakra-vh)",my:0,borderRadius:0}}}},Al={baseStyle:function(t){var e=t.colorMode;return{p:1,my:1,w:"100%",borderRadius:2,bg:e==="dark"?"gray.700":"gray.50",boxShadow:"lg"}}},Pl={baseStyle:function(t){var e=t.colorMode;return{"& thead":{position:"sticky",top:0,zIndex:10},"& td, th":{borderRight:"1px solid",borderColor:e==="dark"?"whiteAlpha.400":"blackAlpha.200",backgroundColor:e==="dark"?"gray.700":"gray.50",whiteSpace:"nowrap","&:first-of-type":{position:"sticky",left:0,zIndex:1},"&:last-of-type":{borderRight:"none",position:"sticky",right:0,zIndex:1}}}}},Ll={baseStyle:function(){return{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",h:10,"& span":{maxW:"100%",textOverflow:"ellipsis",overflow:"hidden"},"& span:last-of-type":{fontWeight:"normal",fontSize:"2xs"}}}},jl={baseStyle:{flexDirection:"column",alignItems:"center",maxH:"100%",overflowY:"auto","& .chakra-alert__icon":{w:"40px",h:"40px",mr:0},"& .chakra-alert__title":{mt:4,mb:1,fontSize:"lg"},"& .chakra-alert__desc":{w:"100%","& p":{my:1},"& details":{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"sm"}}}},kl={baseStyle:{m:1,w:"unset","& label":{overflow:"hidden",fontSize:12,mr:0,mb:-.5,whiteSpace:"nowrap",textOverflow:"ellipsis"},"&.rmg-label__one-line":{display:"flex",alignItems:"center","& label:first-of-type":{mr:"auto"}}}},$l={baseStyle:{display:"inline-flex",alignItems:"center","& > button:first-of-type":{ml:1}}},Ml={baseStyle:{w:"100%",h:"100%",position:"absolute",top:0,right:0,alignItems:"center",justifyContent:"center","& .rmg-loader__backdrop":{position:"absolute",w:"100%",h:"100%",zIndex:1500,bg:"blackAlpha.400"},"& .chakra-progress":{zIndex:2e3}}},N=function(t){return t==="dark"?"primary.300":"primary.500"},Nl={baseStyle:function(t){var e=t.theme,n=t.colorMode;return{"& .rmg-multi-select__wrapper":{position:"relative",w:"100%",h:"25.75px",transform:"translateY(1.75px)",cursor:"default"},"& .rmg-multi-select__field":{position:"relative",w:"100%",minW:0,outline:0,appearance:"none",transitionProperty:"common",transitionDuration:"normal",pb:"1px",fontSize:"sm",h:"6",borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_active:{borderColor:N(n),boxShadow:"0px 1px 0px 0px ".concat(X(e,N(n)))},_focus:{borderColor:N(n),boxShadow:"0px 1px 0px 0px ".concat(X(e,N(n)))},_focusVisible:{borderColor:N(n),boxShadow:"0px 1px 0px 0px ".concat(X(e,N(n)))},"&.active":{borderColor:N(n),boxShadow:"0px 1px 0px 0px ".concat(X(e,N(n)))},"& > span:last-of-type":{position:"absolute",right:8}},"& .rmg-multi-select__icon-wrapper":{display:"inline-flex",justifyContent:"center",w:6,h:"100%",position:"absolute",right:2,top:0,fontSize:"xl","& svg":{h:"1em",w:"1em"}},"& .chakra-popover__content":{w:"unset",minW:200},"& .chakra-popover__body":{p:0,"li label":{p:2,w:"100%",_hover:{bg:n==="dark"?"whiteAlpha.200":"gray.100"},_active:{bg:n==="dark"?"whiteAlpha.300":"gray.200"}}}}}},Il={baseStyle:{position:"relative",flexDirection:"column",flex:1,overflow:"hidden"}},Dl={baseStyle:{alignItems:"center",flexWrap:"wrap",pl:2,pr:3,py:1,zIndex:10}},Fl={baseStyle:function(t){var e=t.colorMode,n=t.width,r=t.alwaysOverlay;return{height:"100%",position:r?"absolute":{base:"absolute",lg:"relative"},right:r?0:{base:0,lg:"unset"},background:e==="light"?"white":"gray.800",boxShadow:"lg",flexShrink:0,flexDirection:"column",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",zIndex:5,"&.show-side-panel":{maxW:{base:"100%",sm:n},w:{base:"100%",sm:"unset"},visibility:"initial"},"& .rmg-side-panel__inner":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:n}},"& .rmg-side-panel__header":{flexShrink:0,pl:3,pr:1,py:0,"& button":{ml:"auto"}},"& .rmg-side-panel__body":{display:"flex",flexDirection:"column",flex:1,overflowY:"auto",p:1},"& .rmg-side-panel__footer":{display:"flex",justifyContent:"flex-end",p:1}}}},Bl={baseStyle:{h:6,alignItems:"center","& .chakra-button:first-of-type":{mr:1},"& .chakra-button:last-of-type":{ml:1}}},Ul={baseStyle:{position:"relative",flexDirection:"column",height:"100%",overflow:"hidden"}},Vl={baseStyle:{px:2,alignItems:"center",zIndex:15,minH:10,transition:"0.3s ease-in-out"}},zl={Input:De,Checkbox:Ft,Select:De,Slider:Rl,Switch:Ft,Textarea:De,RmgAgGrid:Tl,RmgAppClip:El,RmgCard:Al,RmgDataTable:Pl,RmgEnrichedButton:Ll,RmgErrorBoundary:jl,RmgLabel:kl,RmgLineBadge:$l,RmgLoader:Ml,RmgMultiSelect:Nl,RmgPage:Il,RmgPageHeader:Dl,RmgSidePanel:Fl,RmgThrottledSlider:Bl,RmgWindow:Ul,RmgWindowHeader:Vl},Ye=globalThis&&globalThis.__assign||function(){return Ye=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},Ye.apply(this,arguments)},Bt="chakra-ui-color-mode",Gl=function(){var t=O.getColourMode()==="system";return O.isStandaloneWindow()&&(t?window.localStorage.removeItem(Bt):window.localStorage.setItem(Bt,O.getColourMode())),{initialColorMode:"system",useSystemColorMode:t}},Hl={primary:Ye({},cr.colors.teal)},Wl={global:{".mw-full":{w:"100%",flexBasis:"100%"}}},Kl=function(){return fr({config:Gl(),colors:Hl,styles:Wl,components:zl})},Jl=function(t){var e=t.children;return p.jsx(dr,{theme:Kl(),children:p.jsx(Yl,{children:e})})},Yl=function(t){var e=t.children,n=Gt().setColorMode,r=pr();return b.useEffect(function(){console.log("[rmg-components] RMG theme is initialised with",r.config),O.onColourModeChange(function(o){if(o==="system"){var i=window.matchMedia("(prefers-color-scheme: dark)").matches;n(i?"dark":"light")}else n(o)})},[n]),p.jsx(p.Fragment,{children:e})};const ql="rmt-instance-checker",Pn="ping",Ln="pong",re=new BroadcastChannel(ql);re.addEventListener("message",t=>{t.data===Pn&&(console.log("[rmt] Received ping from another RMT instance."),re.postMessage(Ln))});const Ql=async()=>{let t=!0;re.addEventListener("message",n=>{n.data===Ln&&(console.warn("[rmt] Received pong from another RMT instance. This instance is not primary."),t=!1,re.close())}),re.postMessage(Pn);let e=5;for(;e--;)if(await Xl(500),!t)return!1;return console.log("[rmt] This instance is primary."),!0},Xl=t=>new Promise(e=>{setTimeout(e,t,`Timeout after ${t/1e3} seconds`)}),Zl=t=>{try{const e=window.localStorage.getItem(ie.OPENED_TABS),n=window.localStorage.getItem("rmg-home__openedApps");if(e){const r=JSON.parse(e);if(Array.isArray(r)){const o=r.filter(i=>i.app in ee);t.dispatch(_t(o))}else console.warn("initOpenedTabs():: Cannot parse invalid opened tabs state from local storage")}else if(n){const r=JSON.parse(n);if(Array.isArray(r)&&typeof r[0]=="string"){const o=r.map(i=>({id:crypto.randomUUID(),app:i}));t.dispatch(_t(o))}else console.warn("initOpenedTabs():: cannot parse invalid opened apps state from local storage")}}catch(e){console.warn("initOpenedTabs():: cannot parse opened apps state from local storage",e)}},eu=t=>{var r;const e=window.localStorage.getItem(ie.ACTIVE_TAB),n=t.getState().app.openedTabs;e&&n.some(({id:o})=>o===e)?t.dispatch(Rt(e)):t.dispatch(Rt((r=n[0])==null?void 0:r.id))},tu=t=>{const n=new URLSearchParams(window.location.search).get("app");console.log(`openSearchedApp():: searchParams app=${n}`),Ue(O.getEnv()).includes(n)?t.dispatch(Ve({appId:n})):console.warn(`openSearchedApp():: app ${n} not found`)};function nu(t){Zl(t),eu(t),Tt({predicate:(e,n,r)=>JSON.stringify(n.app.openedTabs)!==JSON.stringify(r.app.openedTabs),effect:(e,n)=>{window.localStorage.setItem(ie.OPENED_TABS,JSON.stringify(n.getState().app.openedTabs))}}),Tt({predicate:(e,n,r)=>n.app.activeTab!==r.app.activeTab,effect:(e,n)=>{const r=n.getState().app.activeTab;r!==void 0&&window.localStorage.setItem(ie.ACTIVE_TAB,r)}}),tu(t),Ql().then(e=>{t.dispatch($a(e)),e||t.dispatch(yr())})}let Ut;const ru=b.lazy(()=>Or(()=>import("./app-root-7258f74c.js"),["assets/app-root-7258f74c.js","assets/chakra-6b21ab21.js","assets/react-12992292.js"])),ou=()=>{Ut=On(document.getElementById("root")),Ut.render(p.jsx(b.StrictMode,{children:p.jsx(Ea,{store:I,children:p.jsx(wr,{i18n:Ks,children:p.jsx(Jl,{children:p.jsx(vl,{suspenseFallback:p.jsx(_l,{isIndeterminate:!0}),allowReset:!0,children:p.jsx(ru,{})})})})})}))};O.ready().then(()=>{nu(I),ou(),O.onAppOpen(t=>{const e=Ue(O.getEnv());typeof t=="object"?e.includes(t.appId)&&I.dispatch(Ve({appId:t.appId,url:t.url})):e.includes(t)&&I.dispatch(Ve({appId:t}))}),O.onAppClose(t=>{Ue(O.getEnv()).includes(t)&&I.dispatch(Na(t))}),O.onUrlUpdate((t,e)=>{if(e){const n=e.slice(ja.length);console.log(`Received URL update for frame=${n}, url=${t}`),I.dispatch(Ma({id:n,url:t}))}}),O.event(wn.APP_LOAD,{openedApps:I.getState().app.openedTabs.map(t=>t.app)})});export{wn as E,ja as F,yu as R,su as __vite_legacy_guard,wu as a,Su as b,bu as c,mu as d,gu as e,ee as f,Ve as g,pu as h,Na as i,Ue as j,xu as k,fe as l,uu as m,cu as n,du as o,_l as p,vu as q,O as r,Rt as s,fu as t,hu as u,Ou as v,Cu as w};
