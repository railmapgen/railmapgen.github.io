import{c as U}from"./index-DKk5m70k.js";import{j as e,b as T,T as x,S as R,c as a,r as s,d as w,e as S,N as v,G as D,B as d,R as E,f as I,g as k,h as C}from"./mantine-JIjHQw9W.js";import{r as n}from"./react-DDtdH0Z6.js";function P(){return e.jsx(T,{children:e.jsx(x,{children:"Runtime Demo"})})}function H(r){return e.jsxs(R,{gap:"xs",...r,children:[e.jsx(a,{children:"All human beings are born free and equal in dignity and rights. They are endowed with reason and conscience and should act towards one another in a spirit of brotherhood."}),e.jsx(a,{children:"人皆生而自由；在尊嚴及權利上均各平等。人各賦有理性良知，誠應和睦相處，情同手足。"}),e.jsx(a,{children:"人人生而自由，在尊严和权利上一律平等。他们赋有理性和良心，并应以兄弟关系的精神相对待。"})]})}function B(){const[r,o]=n.useState({}),[i,l]=n.useState();n.useEffect(()=>{s.getAllFonts().then(o)},[]);const h=[{value:"",label:"Default"},...Object.entries(r).map(t=>({value:t[0],label:t[1].displayName??t[0]}))],u=async t=>{t&&await s.loadFont(t),l(t)};return e.jsxs(w,{children:[e.jsx(S,{children:e.jsx(x,{order:2,size:"h4",children:"Fonts"})}),e.jsxs(R,{py:"xs",gap:"xs",children:[e.jsx(v,{label:"Display font",value:i,onChange:({currentTarget:{value:t}})=>u(t),data:h}),e.jsx(H,{style:{fontFamily:i||void 0}})]})]})}const L=()=>Math.ceil(Math.random()*100);function N(){const[r,o]=n.useState(0),[i,l]=n.useState(),[h,u]=n.useState(),[t,M]=n.useState();n.useEffect(()=>{const c=setTimeout(()=>{var m,j;l((m=window.frameElement)==null?void 0:m.getAttribute("src")),u(window.location.href),M((j=window.frameElement)==null?void 0:j.getAttribute("data-persisted-url"))},200);return()=>{clearTimeout(c)}},[r]);const p=()=>{const c=L();return o(c),c},g=()=>{s.updateAppMetadata({title:`Runtime Demo (${p()})`})},y=()=>{s.updateAppMetadata({search:`count=${p()}`})},b=()=>{o(0),s.updateAppMetadata({search:""})},A=()=>{s.updateAppMetadata({hash:`/${p()}`})},F=()=>{o(0),s.updateAppMetadata({hash:""})};return e.jsxs(w,{children:[e.jsx(S,{children:e.jsx(x,{order:2,size:"h4",children:"Metadata"})}),e.jsxs(D,{children:[e.jsxs(a,{w:"100%",children:["iframe src: ",i]}),e.jsxs(a,{w:"100%",children:["Document location: ",h]}),e.jsxs(a,{w:"100%",children:["Persisted URL: ",t]}),e.jsx(d,{onClick:g,children:"Update title"}),e.jsx(d,{onClick:y,children:"Update search"}),e.jsx(d,{onClick:b,children:"Reset search"}),e.jsx(d,{onClick:A,children:"Update hash"}),e.jsx(d,{onClick:F,children:"Reset hash"})]})]})}function W(){return e.jsx(E,{children:e.jsxs(I,{children:[e.jsx(P,{}),e.jsx(k,{w:{base:"100%",sm:600},style:{alignSelf:"center"},children:e.jsxs(C,{direction:"column",px:"xs",pb:"xs",style:{overflowY:"auto"},children:[e.jsx(B,{}),e.jsx(N,{})]})})]})})}let f;const $=()=>{f=U.createRoot(document.getElementById("root")),f.render(e.jsx(n.StrictMode,{children:e.jsx(W,{})}))};s.ready().then(()=>{$(),s.injectUITools()});
