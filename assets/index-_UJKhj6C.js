var Sr=Object.defineProperty;var Cr=(n,e,t)=>e in n?Sr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Te=(n,e,t)=>Cr(n,typeof e!="symbol"?e+"":e,t);import{f as Se,j as h,W as Tn,d as _r,e as Rr,g as Er,P as $n,c as Bt,u as Ge,F as me,B as Dn,D as sn,h as jr,i as Ar,k as Lr,l as kn,C as Pr,S as Bn,m as Fr,n as Ir,o as Mr,I as Nr,p as Vn,q as Tr,r as $r,s as Dr,t as kr,v as Br,w as Vr,x as Ur,y as zr,A as Hr,M as Wr,z as Kr,E as Gr,G as Jr,J as Yr,T as xe,K as Qr,b as ln,L as de,N as Un,O as un,Q as qr,R as Zr,U as Xr,V as eo,X as to,Y as no,Z as ro,_ as oo,$ as ao,a0 as zn,a1 as io,a2 as cn,a3 as so,a4 as lo,a5 as uo,a6 as co,a7 as fo,a8 as Ve,a9 as ho,aa as go,ab as po,ac as mo}from"./chakra-AL7qUQmT.js";import{a as y,d as Le,n as vo}from"./react-Cz8QwcEg.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=t(o);fetch(o.href,a)}})();var Hn=function(){if(typeof Map<"u")return Map;function n(e,t){var r=-1;return e.some(function(o,a){return o[0]===t?(r=a,!0):!1}),r}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(t){var r=n(this.__entries__,t),o=this.__entries__[r];return o&&o[1]},e.prototype.set=function(t,r){var o=n(this.__entries__,t);~o?this.__entries__[o][1]=r:this.__entries__.push([t,r])},e.prototype.delete=function(t){var r=this.__entries__,o=n(r,t);~o&&r.splice(o,1)},e.prototype.has=function(t){return!!~n(this.__entries__,t)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,r){r===void 0&&(r=null);for(var o=0,a=this.__entries__;o<a.length;o++){var i=a[o];t.call(r,i[1],i[0])}},e}()}(),Lt=typeof window<"u"&&typeof document<"u"&&window.document===document,at=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),yo=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(at):function(n){return setTimeout(function(){return n(Date.now())},1e3/60)}}(),bo=2;function wo(n,e){var t=!1,r=!1,o=0;function a(){t&&(t=!1,n()),r&&s()}function i(){yo(a)}function s(){var l=Date.now();if(t){if(l-o<bo)return;r=!0}else t=!0,r=!1,setTimeout(i,e);o=l}return s}var xo=20,Oo=["top","right","bottom","left","width","height","size","weight"],So=typeof MutationObserver<"u",Co=function(){function n(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=wo(this.refresh.bind(this),xo)}return n.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},n.prototype.removeObserver=function(e){var t=this.observers_,r=t.indexOf(e);~r&&t.splice(r,1),!t.length&&this.connected_&&this.disconnect_()},n.prototype.refresh=function(){var e=this.updateObservers_();e&&this.refresh()},n.prototype.updateObservers_=function(){var e=this.observers_.filter(function(t){return t.gatherActive(),t.hasActive()});return e.forEach(function(t){return t.broadcastActive()}),e.length>0},n.prototype.connect_=function(){!Lt||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),So?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},n.prototype.disconnect_=function(){!Lt||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},n.prototype.onTransitionEnd_=function(e){var t=e.propertyName,r=t===void 0?"":t,o=Oo.some(function(a){return!!~r.indexOf(a)});o&&this.refresh()},n.getInstance=function(){return this.instance_||(this.instance_=new n),this.instance_},n.instance_=null,n}(),Wn=function(n,e){for(var t=0,r=Object.keys(e);t<r.length;t++){var o=r[t];Object.defineProperty(n,o,{value:e[o],enumerable:!1,writable:!1,configurable:!0})}return n},Fe=function(n){var e=n&&n.ownerDocument&&n.ownerDocument.defaultView;return e||at},Kn=gt(0,0,0,0);function it(n){return parseFloat(n)||0}function dn(n){for(var e=[],t=1;t<arguments.length;t++)e[t-1]=arguments[t];return e.reduce(function(r,o){var a=n["border-"+o+"-width"];return r+it(a)},0)}function _o(n){for(var e=["top","right","bottom","left"],t={},r=0,o=e;r<o.length;r++){var a=o[r],i=n["padding-"+a];t[a]=it(i)}return t}function Ro(n){var e=n.getBBox();return gt(0,0,e.width,e.height)}function Eo(n){var e=n.clientWidth,t=n.clientHeight;if(!e&&!t)return Kn;var r=Fe(n).getComputedStyle(n),o=_o(r),a=o.left+o.right,i=o.top+o.bottom,s=it(r.width),l=it(r.height);if(r.boxSizing==="border-box"&&(Math.round(s+a)!==e&&(s-=dn(r,"left","right")+a),Math.round(l+i)!==t&&(l-=dn(r,"top","bottom")+i)),!Ao(n)){var u=Math.round(s+a)-e,c=Math.round(l+i)-t;Math.abs(u)!==1&&(s-=u),Math.abs(c)!==1&&(l-=c)}return gt(o.left,o.top,s,l)}var jo=function(){return typeof SVGGraphicsElement<"u"?function(n){return n instanceof Fe(n).SVGGraphicsElement}:function(n){return n instanceof Fe(n).SVGElement&&typeof n.getBBox=="function"}}();function Ao(n){return n===Fe(n).document.documentElement}function Lo(n){return Lt?jo(n)?Ro(n):Eo(n):Kn}function Po(n){var e=n.x,t=n.y,r=n.width,o=n.height,a=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,i=Object.create(a.prototype);return Wn(i,{x:e,y:t,width:r,height:o,top:t,right:e+r,bottom:o+t,left:e}),i}function gt(n,e,t,r){return{x:n,y:e,width:t,height:r}}var Fo=function(){function n(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=gt(0,0,0,0),this.target=e}return n.prototype.isActive=function(){var e=Lo(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},n.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},n}(),Io=function(){function n(e,t){var r=Po(t);Wn(this,{target:e,contentRect:r})}return n}(),Mo=function(){function n(e,t,r){if(this.activeObservations_=[],this.observations_=new Hn,typeof e!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=r}return n.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Fe(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Fo(e)),this.controller_.addObserver(this),this.controller_.refresh())}},n.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(e instanceof Fe(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},n.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},n.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach(function(t){t.isActive()&&e.activeObservations_.push(t)})},n.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map(function(r){return new Io(r.target,r.broadcastRect())});this.callback_.call(e,t,e),this.clearActive()}},n.prototype.clearActive=function(){this.activeObservations_.splice(0)},n.prototype.hasActive=function(){return this.activeObservations_.length>0},n}(),Gn=typeof WeakMap<"u"?new WeakMap:new Hn,Jn=function(){function n(e){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var t=Co.getInstance(),r=new Mo(e,t,this);Gn.set(this,r)}return n}();["observe","unobserve","disconnect"].forEach(function(n){Jn.prototype[n]=function(){var e;return(e=Gn.get(this))[n].apply(e,arguments)}});var No=function(){return typeof at.ResizeObserver<"u"?at.ResizeObserver:Jn}();window.ResizeObserver||(window.ResizeObserver=No);const[To,Ce]=$o();function $o(){const n=y.createContext(void 0);n.displayName="AutoCompleteContext";function e(){var t;const r=y.useContext(n),o="useAutoCompleteContext: `context` is undefined. Seems you forgot to wrap all autoomplete components within `<AutoComplete />`";if(!r){const a=new Error(o);throw a.name="ContextError",(t=Error.captureStackTrace)==null||t.call(Error,a,e),a}return r}return[n.Provider,e,n]}function Do(n){return n==null?void 0:n[0]}function Rt(n){return n!=null&&n.length?n[n.length-1]:void 0}function Yn(n,e,t=1,r=!0){if(e===0)return-1;let o=n+t;return n===-1&&(o=t>0?0:e-1),r?o=(o%e+e)%e:o=Math.max(0,Math.min(o,e-1)),o}function ko(n,e,t=!0){return Yn(n,e,-1,t)}function Bo(n,e,t=!0){const r=Yn(n,e.length,1,t);return e[r]}function Vo(n,e,t=!0){const r=ko(n,e.length,t);return e[r]}function Vt(n){return Array.isArray(n)}function Uo(n){return Vt(n)&&n.length===0}function Ut(n){return n!==null&&typeof n=="object"&&!Vt(n)}function zo(n){return Ut(n)&&Object.keys(n).length===0}function Qn(n){return Vt(n)?Uo(n):Ut(n)?zo(n):n==null||n===""}function tt(n){return typeof n>"u"}function qn(n){return typeof n<"u"}function Ho(n,e){const t={};return e.forEach(r=>{r in n&&(t[r]=n[r])}),t}function zt(n,e){const t={...n};return e.forEach(r=>{delete t[r]}),t}function Wo(n){return typeof n=="function"}function F(n,...e){return Wo(n)?n(...e):n}var pt=function(n,e){for(var t,r=y.Children.toArray(n),o=0,a=r;o<a.length;o++){var i=a[o];if(e(i))return i;if(!((t=i.props)===null||t===void 0)&&t.children){var s=pt(i.props.children,e);if(s)return s}}},Qe=function(n,e){for(var t=0,r=e.length,o=n.length;t<r;t++,o++)n[o]=e[t];return n},Zn=function(n,e){for(var t,r=y.Children.toArray(n),o=[],a=0,i=r;a<i.length;a++){var s=i[a];e(s)&&(o=Qe(Qe([],o),[s])),!((t=s.props)===null||t===void 0)&&t.children&&(o=Qe(Qe([],o),Zn(s.props.children,e)))}return o};function fn(n,e,t=2){function r(f,d){f=" ".repeat(d-1)+f.toLowerCase()+" ".repeat(d-1);let p=new Array(f.length-d+1);for(let g=0;g<p.length;g++)p[g]=f.slice(g,g+d);return p}if(!(n!=null&&n.length)||!(e!=null&&e.length))return 0;let o=n.length<e.length?n:e,a=n.length<e.length?e:n,i=r(o,t),s=r(a,t),l=new Set(i),u=s.length,c=0;for(let f of s)l.delete(f)&&c++;return c/u}const Ht=n=>{var e;return(e=typeof n=="string"||typeof n=="number"?n:n[Object.keys(n)[0]])==null?void 0:e.toString()},Ko=(n,e)=>typeof n!="string"||Qn(e)?n:n.toString().replace(new RegExp(Qo(e),"gi"),t=>"<mark>".concat(t,"</mark>")),Go=n=>Zn(n,e=>{var t;return((t=e==null?void 0:e.type)==null?void 0:t.displayName)==="AutoCompleteItem"}).map(e=>{const t=Ho(e.props,["value","label","fixed","disabled"]),{getValue:r=Ht}=e.props,o=r(t.value);return{...qn(t.label)?t:{...t,label:o},value:o,originalValue:t.value}}),Jo=()=>({bg:"whiteAlpha.100",_light:{bg:"gray.200"}}),Yo=(n,e,t)=>(e==null?void 0:e.toLowerCase().indexOf(n==null?void 0:n.toLowerCase()))>=0||(t==null?void 0:t.toLowerCase().indexOf(n==null?void 0:n.toLowerCase()))>=0||fn(n,e)>=.5||fn(n,t)>=.5;function Qo(n){return n.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}const qo=(n,e)=>pt(n,t=>{var r;return((r=t==null?void 0:t.type)==null?void 0:r.displayName)==="AutoCompleteItem"&&t.props.value===(e==null?void 0:e.value)}),Zo=(n,e)=>pt(n,t=>{var r;return((r=t==null?void 0:t.type)==null?void 0:r.displayName)==="AutoCompleteItem"&&t.props.value===(e==null?void 0:e.value)}),Xo=(n,e)=>qn(pt(n,t=>{var r,o;const a=F(((r=t.props)==null?void 0:r.getValue)||Ht,((o=t.props)==null?void 0:o.value)||{});return e.some(i=>i.value===a)})),ea=(n,e)=>{const t={},r={},{field:o}=n;return o&&Object.keys(o).forEach(a=>{if(a.startsWith("--input")===!1)t[a]=o[a];else{let i=o[a];const s=a.replace("--input-","").replace(/-([a-z])/g,function(l){return l[1].toUpperCase()});i.indexOf(".")!==-1&&(i=i.substring(i.indexOf(".")+1)),r[s]=i}}),{...e&&{...t,...r,_focusWithin:n.field._focus,pos:"relative",minH:9,py:1.5,spacing:3},cursor:"text",h:"fit-content"}};function ta(n){var e;let{prefocusFirstItem:t=!0,closeOnBlur:r=!0,creatable:o,emphasize:a,emptyState:i=!0,defaultEmptyStateProps:s={},freeSolo:l,isReadOnly:u,listAllValuesOnFocus:c,maxSuggestions:f,multiple:d,closeOnSelect:p=!d,defaultValue:g,defaultValues:m=g?[g]:[],onReady:b,defaultIsOpen:_,disableFilter:O,isLoading:V=!1,placement:M="bottom",restoreOnBlurIfEmpty:oe=!l,shouldRenderSuggestions:ae=()=>!0,submitKeys:j=[],suggestWhenEmpty:N,value:z,values:X=z?typeof z=="string"?[z]:[...z]:void 0}=n;l=l||(d?!0:n.freeSolo);const{isOpen:x,onClose:L,onOpen:ie}=Fr({defaultIsOpen:_}),H=y.useMemo(()=>F(n.children,{isOpen:x,onClose:L,onOpen:ie}),[n.children,x]),E=y.useMemo(()=>Go(H),[H]),U=y.useRef(null),ve=y.useRef(null),ye=y.useRef(null),P=y.useRef(null),[ee,te]=y.useState(!1);let se="";d?se="":tt(m)?tt(X)||(se=X[0]):se=m[0];const[J,Me]=y.useState(se!=null?se:""),yt=y.useMemo(()=>O?E:E.filter(v=>v.fixed||F(n.filter||Yo,J,v.value,v.label)||ee).filter((v,C)=>f?v.fixed||C<f:!0),[J,E,ee,f,O]),Zt=o?[{value:J,noFilter:!0,creatable:!0}]:[],T=y.useMemo(()=>[...yt,...Zt],[yt,Zt]),[le,bt]=Ir({defaultValue:m.map(v=>v==null?void 0:v.toString()),value:X,onChange:v=>{const C=T.find(R=>R.value===v[0]);if(!C)return;const $=v.map(R=>T.find(q=>q.value===R));F(n.onChange,d?v:v[0],d?$:C)}});y.useEffect(()=>{T.length===0&&!i&&x&&L()},[T.length,i,x]);const[_e,fe]=y.useState(t?(e=E[0])==null?void 0:e.value:null),wr=n.maxSelections||le.length+1,wt=T.findIndex(v=>v.value===_e),Xt=Bo(wt,T,!!n.rollNavigation),en=Vo(wt,T,!!n.rollNavigation),be=Do(T),tn=Rt(T),nn=!T.some(v=>v.value===_e);y.useEffect(()=>{var v;nn&&fe(t?(v=E[0])==null?void 0:v.value:null)},[nn]),Mr(()=>{t&&fe(be==null?void 0:be.value)},[J,be==null?void 0:be.value]),y.useEffect(()=>{var v;!x&&t&&fe((v=E[0])==null?void 0:v.value)},[x]),y.useEffect(()=>{x&&c&&te(!0)},[x,c,te]),y.useEffect(()=>{const v=E.find(C=>C.value===_e);F(n.onOptionFocus,{item:v,focusMethod:P.current,isNewInput:v==null?void 0:v.creatable})},[_e,n.onOptionFocus]);const xt=v=>{var C,$;const R=T.find(G=>G.value===v),q=(R==null?void 0:R.label)||(R==null?void 0:R.value);Me(()=>d?"":q!=null?q:""),!le.includes(v)&&le.length<wr&&bt(G=>d?[...G,v]:[v]),d&&((C=U.current)==null||C.focus()),n.focusInputOnSelect&&(($=U.current)==null||$.focus()),F(n.onSelectOption,{item:R,selectMethod:P.current,isNewInput:R==null?void 0:R.creatable}),R!=null&&R.creatable&&F(n.onCreateOption,{item:zt(R,["noFilter"]),selectMethod:P.current}),p&&L()},rn=(v,C)=>{var $;bt(G=>{const we=E.find(he=>he.value===v);return we?(F(n.onTagRemoved,v,we,G),G.filter(he=>he!==v)):G});const R=E.find(G=>G.value===v),q=(R==null?void 0:R.label)||(R==null?void 0:R.value);J===q&&Me(""),C&&(($=U.current)==null||$.focus())},xr=v=>{var C;bt([]),v&&((C=U.current)==null||C.focus())},on=d?le.map(v=>{var C;return{label:((C=E.find($=>$.value===(v==null?void 0:v.toString())))==null?void 0:C.label)||v,onRemove:()=>rn(v)}}):[];return y.useEffect(()=>{F(b,{tags:on})},[le]),{autoCompleteProps:n,children:H,filteredList:T,filteredResults:yt,focusedValue:_e,defaultEmptyStateProps:s,getEmptyStateProps:v=>{if(T.every(C=>C.noFilter)&&i&&!o)return typeof i=="boolean"?v:F(i,{query:J})},getGroupProps:v=>{const C=Xo(v.children,T);return{divider:{hasFirstChild:qo(v.children,be),hasLastChild:Zo(v.children,Rt(T.filter($=>tt($==null?void 0:$.noFilter))))},group:{display:C?"initial":"none"}}},getInputProps:(v,C)=>{const{onBlur:$,onChange:R,onFocus:q,onKeyDown:G,variant:we,...he}=v;return{wrapper:{ref:ve,onClick:()=>{var S;(S=U==null?void 0:U.current)==null||S.focus()},...ea(C,d),...he},input:{isReadOnly:u,onFocus:S=>{F(q,S),n.openOnFocus&&!u&&ie(),n.selectOnFocus&&S.target.select(),c&&te(!0)},onBlur:S=>{var Z,W;F($,S);const K=S.relatedTarget===(ye==null?void 0:ye.current)||((Z=ye.current)==null?void 0:Z.contains(S.relatedTarget)),Ot=(W=ve.current)==null?void 0:W.contains(S.relatedTarget);if(!K&&!Ot&&(r&&L(),!le.includes(S.target.value)&&oe)){const St=Rt(le),Re=E.find(Ct=>Ct.value===St),ue=(Re==null?void 0:Re.label)||(Re==null?void 0:Re.value)||"";Me(ue)}},onChange:S=>{const Z=S.target.value;F(R,S),Me(Z);const W=Qn(Z);F(ae,Z)&&(!W||N)?ie():L(),te(!1)},onKeyDown:S=>{var Z;F(G,S),P.current="keyboard";const{key:W}=S,K=T[wt];if(["Enter",...j].includes(W)){K&&!(K!=null&&K.disabled)&&x?xt(K==null?void 0:K.value):(Z=U.current)==null||Z.focus(),S.preventDefault();return}if(W==="ArrowDown"){x?fe(Xt==null?void 0:Xt.value):ie(),S.preventDefault();return}if(W==="ArrowUp"){x?fe(en==null?void 0:en.value):ie(),S.preventDefault();return}if(W==="Tab"){x&&K&&!(K!=null&&K.disabled)?xt(K==null?void 0:K.value):L();return}if(W==="Home"){fe(be==null?void 0:be.value),S.preventDefault();return}if(W==="End"){fe(tn==null?void 0:tn.value),S.preventDefault();return}W==="Escape"&&(L(),S.preventDefault())},value:J,variant:d?"unstyled":we,...he}}},getItemProps:(v,C)=>{var $;const{_fixed:R,_focus:q,children:G,disabled:we,label:he,value:S,fixed:Z,getValue:W=Ht,onClick:K,onMouseOver:Ot,sx:St,...Re}=v,ue=C?S:($=W(S))==null?void 0:$.toString(),Ct=ue===_e,Or=T.findIndex(Ne=>Ne.value===ue)>=0,_t=G||he||ue;return{item:{...typeof _t!="string"||!a?{children:_t}:{dangerouslySetInnerHTML:{__html:Ko(_t,J)}},"aria-selected":le.includes(ue),"aria-disabled":we,_disabled:{opacity:.4,cursor:"not-allowed",userSelect:"none"},onClick:Ne=>{var an;F(K,Ne),we?(an=U.current)==null||an.focus():xt(ue)},onMouseOver:Ne=>{F(Ot,Ne),fe(ue),P.current="mouse"},sx:{...St,mark:{color:"inherit",bg:"transparent",...Ut(a)?a:{fontWeight:a?"extrabold":"inherit"}}},...Ct&&(q||Jo()),...Z&&R,...Re},root:{isValidSuggestion:Or,value:ue}}},inputRef:U,interactionRef:P,isLoading:V,isOpen:x,itemList:E,listRef:ye,onClose:L,onOpen:ie,placement:M,query:J,removeItem:rn,resetItems:xr,setQuery:Me,tags:on,value:z,values:le}}const na=Se((n,e)=>{const t=ta(n),{children:r,isOpen:o,onClose:a,onOpen:i,placement:s,resetItems:l,removeItem:u}=t;y.useImperativeHandle(e,()=>({resetItems:l,removeItem:u}));const{matchWidth:c=!0}=t.autoCompleteProps;return h.jsx(To,{value:t,children:h.jsx($n,{isLazy:!0,isOpen:o,autoFocus:!1,placement:s,closeOnBlur:!0,matchWidth:c,children:h.jsx(Bt.div,{w:"full",ref:e,children:r})})})});na.displayName="AutoComplete";const ra=Se((n,e)=>{const{focusedValue:t,getItemProps:r,interactionRef:o}=Ce(),a=y.useRef(),i=Ge(e,a),s=r(n),{isValidSuggestion:l,value:u}=s.root,c=t===u;y.useEffect(()=>{var m;c&&o.current==="keyboard"&&((m=a==null?void 0:a.current)==null||m.scrollIntoView({behavior:"smooth",block:"nearest"}))},[c,o]),y.useEffect(()=>{typeof u!="string"&&console.warn("wow"),typeof u!="string"&&tt(n.getValue)&&console.error("You must define the `getValue` prop, when an Item's value is not a string")},[]);const{children:f,dangerouslySetInnerHTML:d,...p}=s.item,g=zt(p,["groupId"]);return l?h.jsx(me,{ref:i,...oa,...g,children:f||h.jsx("span",{dangerouslySetInnerHTML:d})}):null});ra.displayName="AutoCompleteItem";const oa={mx:"2",px:"2",py:"2",rounded:"md",cursor:"pointer"},aa=Se((n,e)=>{const{children:t,showDivider:r,...o}=n,a=zt(o,["groupSibling"]),{getGroupProps:i}=Ce(),{group:s}=i(n),l=la(n);return h.jsxs(Dn,{ref:e,...s,...a,children:[h.jsx(sn,{...l.top}),t,h.jsx(sn,{...l.bottom})]})}),ia=Se((n,e)=>h.jsx(me,{...sa,...n,ref:e}));aa.displayName="AutoCompleteGroup";ia.displayName="AutoCompleteGroupTitle";const sa={ml:5,my:1,fontSize:"xs",letterSpacing:"wider",fontWeight:"extrabold",textTransform:"uppercase"},la=n=>{const{getGroupProps:e}=Ce(),t=n.groupSibling,{divider:{hasFirstChild:r,hasLastChild:o}}=e(n),a={my:2,borderColor:n.dividerColor},i={...a,mb:4,display:!n.showDivider||r?"none":""},s={...a,display:!n.showDivider||o||t?"none":""};return{top:i,bottom:s}},hn=Se((n,e)=>{const{isLoading:t}=Ce(),{loadingIcon:r,...o}=n;return h.jsxs(Nr,{children:[h.jsx(Vn,{...o,ref:e}),t&&h.jsx(Tr,{children:r||h.jsx(Bn,{})})]})}),Xn=Se((n,e)=>{const{autoCompleteProps:t,inputRef:r,getInputProps:o,tags:a,setQuery:i,value:s,itemList:l}=Ce(),{children:u,isInvalid:c,hidePlaceholder:f,...d}=n,{value:p}=d;y.useEffect(()=>{if(s!==void 0&&(typeof s=="string"||s instanceof String)){const j=l.find(z=>z.value===s),N=j===void 0?s:j.label;i(N)}},[s]),y.useEffect(()=>{p!==void 0&&(typeof p=="string"||p instanceof String)&&i(p)},[p]);const g=jr("Input",n);let{wrapper:m,input:b}=o(d,g);const{ref:_,...O}=m,V=Ge(e,r),M=F(u,{tags:a});f&&(b={...b,placeholder:Array.isArray(M)&&M.length?void 0:b.placeholder});const oe=h.jsx(hn,{isInvalid:c,...b,ref:V}),ae=h.jsxs(Ar,{"aria-invalid":c,...O,ref:_,children:[M,h.jsx(Tn,{as:hn,...b,ref:V})]});return h.jsx(Lr,{children:t.multiple?ae:oe})});Xn.displayName="Input";Xn.id="Input";const ua=n=>{const{getEmptyStateProps:e,defaultEmptyStateProps:t}=Ce(),r=e(h.jsx(me,{...ca,...t,children:"No options found!"}));return h.jsx(Dn,{...n,children:r})},ca={fontSize:"sm",align:"center",justify:"center",fontWeight:"bold",fontStyle:"italic"},gn=["AutoCompleteGroup","AutoCompleteItem","AutoCompleteCreatable"],da=n=>{const e=Le.Children.map(n,(r,o)=>{var a;if(((a=r==null?void 0:r.type)==null?void 0:a.displayName)==="AutoCompleteGroup"){const i=Le.Children.toArray(n)[o+1];return Le.cloneElement(r,{groupSibling:i?i.type.displayName==="AutoCompleteGroup":!1})}return r}),t=Le.Children.toArray(e).filter(r=>{var o;return!gn.includes((o=r==null?void 0:r.type)==null?void 0:o.displayName)});return[Le.Children.toArray(e).filter(r=>{var o;return gn.includes((o=r==null?void 0:r.type)==null?void 0:o.displayName)}),t]},fa=Se((n,e)=>{const{children:t,loadingState:r,...o}=n,{listRef:a,isLoading:i}=Ce(),s=Ge(e,a),[l,u]=da(t);return h.jsxs(kn,{ref:s,w:"inherit",...ha,...o,children:[i&&h.jsx(Pr,{children:r||h.jsx(Bn,{size:"md"})}),!i&&h.jsxs(h.Fragment,{children:[l,h.jsx(ua,{}),u]})]})});fa.displayName="AutoCompleteList";const ha={py:"4",opacity:"0",bg:"#232934",rounded:"md",maxH:"350px",border:"none",shadow:"base",zIndex:"popover",overflowY:"auto",_light:{bg:"#ffffff"},_focus:{boxShadow:"none"}};y.memo(n=>{const{label:e,onRemove:t,disabled:r,...o}=n;return h.jsx(Tn,{children:h.jsxs(_r,{borderRadius:"md",fontWeight:"normal",...r&&pn,...o,children:[h.jsx(Rr,{children:e}),h.jsx(Er,{onClick:()=>!r&&F(t),cursor:"pointer",...r&&pn})]})})});const pn={cursor:"text",userSelect:"none",opacity:.4,_focus:{boxShadow:"none"}};var Pt=function(){return Pt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Pt.apply(this,arguments)},ga=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t},pa=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(i)throw i.error}}return a},ma=function(n,e){var t=n.validator,r=n.onDebouncedChange,o=n.delay,a=n.optionList,i=n.defaultValue;n.onChange;var s=ga(n,["validator","onDebouncedChange","delay","optionList","defaultValue","onChange"]),l=y.useRef(null),u=Ge(l,e),c=y.useRef("datalist-"+new Date().valueOf()),f=pa(y.useState(!1),2),d=f[0],p=f[1],g=y.useRef();y.useEffect(function(){l.current&&(l.current.value=(i==null?void 0:i.toString())||"")},[i]);var m=function(_){var O=_.target.value;window.clearTimeout(g.current),t&&p(!t(O)),g.current=window.setTimeout(function(){r==null||r(O),g.current=void 0},o!=null?o:500)},b=function(_){var O=_.target.value;g.current!==void 0&&(window.clearTimeout(g.current),t&&p(!t(O)),r==null||r(O),g.current=void 0)};return h.jsxs(h.Fragment,{children:[h.jsx(Vn,Pt({ref:u,list:c.current,variant:"flushed",size:"sm",h:6,onChange:m,onBlur:b,isInvalid:d},s)),a&&h.jsx("datalist",{id:c.current,children:a==null?void 0:a.map(function(_,O){return h.jsx("option",{children:_},O)})})]})},Us=y.forwardRef(ma),Ft=function(){return Ft=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Ft.apply(this,arguments)},va=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t},ya=function(n,e){var t=n.onDebouncedChange,r=n.defaultValue;n.onChange;var o=va(n,["onDebouncedChange","defaultValue","onChange"]),a=y.useRef(null),i=Ge(a,e),s=y.useRef();y.useEffect(function(){a.current&&(a.current.value=(r==null?void 0:r.toString())||"")},[r]);var l=function(u){var c=u.target.value;window.clearTimeout(s.current),s.current=window.setTimeout(function(){t==null||t(c)},500)};return h.jsx($r,Ft({ref:i,variant:"flushed",size:"sm",resize:"none",onChange:l},o))},zs=y.forwardRef(ya);const w=n=>typeof n=="string",$e=()=>{let n,e;const t=new Promise((r,o)=>{n=r,e=o});return t.resolve=n,t.reject=e,t},mn=n=>n==null?"":""+n,ba=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},wa=/###/g,vn=n=>n&&n.indexOf("###")>-1?n.replace(wa,"."):n,yn=n=>!n||w(n),Ue=(n,e,t)=>{const r=w(e)?e.split("."):e;let o=0;for(;o<r.length-1;){if(yn(n))return{};const a=vn(r[o]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++o}return yn(n)?{}:{obj:n,k:vn(r[o])}},bn=(n,e,t)=>{const{obj:r,k:o}=Ue(n,e,Object);if(r!==void 0||e.length===1){r[o]=t;return}let a=e[e.length-1],i=e.slice(0,e.length-1),s=Ue(n,i,Object);for(;s.obj===void 0&&i.length;)a="".concat(i[i.length-1],".").concat(a),i=i.slice(0,i.length-1),s=Ue(n,i,Object),s!=null&&s.obj&&typeof s.obj["".concat(s.k,".").concat(a)]<"u"&&(s.obj=void 0);s.obj["".concat(s.k,".").concat(a)]=t},xa=(n,e,t,r)=>{const{obj:o,k:a}=Ue(n,e,Object);o[a]=o[a]||[],o[a].push(t)},st=(n,e)=>{const{obj:t,k:r}=Ue(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},Oa=(n,e,t)=>{const r=st(n,t);return r!==void 0?r:st(e,t)},er=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?w(n[r])||n[r]instanceof String||w(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):er(n[r],e[r],t):n[r]=e[r]);return n},Ee=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Sa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ca=n=>w(n)?n.replace(/[&<>"'\/]/g,e=>Sa[e]):n;class _a{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const Ra=[" ",",","?","!",";"],Ea=new _a(20),ja=(n,e,t)=>{e=e||"",t=t||"";const r=Ra.filter(i=>e.indexOf(i)<0&&t.indexOf(i)<0);if(r.length===0)return!0;const o=Ea.getRegExp("(".concat(r.map(i=>i==="?"?"\\?":i).join("|"),")"));let a=!o.test(n);if(!a){const i=n.indexOf(t);i>0&&!o.test(n.substring(0,i))&&(a=!0)}return a},It=function(n,e){let t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let o=n;for(let a=0;a<r.length;){if(!o||typeof o!="object")return;let i,s="";for(let l=a;l<r.length;++l)if(l!==a&&(s+=t),s+=r[l],i=o[s],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&l<r.length-1)continue;a+=l-a+1;break}o=i}return o},lt=n=>n==null?void 0:n.replace("_","-"),Aa={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class ut{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||Aa,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,o){return o&&!this.debug?null:(w(e[0])&&(e[0]="".concat(r).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}create(e){return new ut(this.logger,{prefix:"".concat(this.prefix,":").concat(e,":"),...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ut(this.logger,e)}}var ne=new ut;class mt{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const o=this.observers[r].get(t)||0;this.observers[r].set(t,o+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(i=>{let[s,l]=i;for(let u=0;u<l;u++)s(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(i=>{let[s,l]=i;for(let u=0;u<l;u++)s.apply(s,[e,...r])})}}class wn extends mt{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r){var u,c;let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,i=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,t],r&&(Array.isArray(r)?s.push(...r):w(r)&&a?s.push(...r.split(a)):s.push(r)));const l=st(this.data,s);return!l&&!t&&!r&&e.indexOf(".")>-1&&(e=s[0],t=s[1],r=s.slice(2).join(".")),l||!i||!w(r)?l:It((c=(u=this.data)==null?void 0:u[e])==null?void 0:c[t],r,a)}addResource(e,t,r,o){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let s=[e,t];r&&(s=s.concat(i?r.split(i):r)),e.indexOf(".")>-1&&(s=e.split("."),o=t,t=s[1]),this.addNamespaces(t),bn(this.data,s,o),a.silent||this.emit("added",e,t,r,o)}addResources(e,t,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const a in r)(w(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});o.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,o,a){let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),o=r,r=t,t=s[1]),this.addNamespaces(t);let l=st(this.data,s)||{};i.skipCopy||(r=JSON.parse(JSON.stringify(r))),o?er(l,r,a):l={...l,...r},bn(this.data,s,l),i.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(o=>t[o]&&Object.keys(t[o]).length>0)}toJSON(){return this.data}}var tr={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,o){return n.forEach(a=>{var i,s;e=(s=(i=this.processors[a])==null?void 0:i.process(e,t,r,o))!=null?s:e}),e}};const xn={},On=n=>!w(n)&&typeof n!="boolean"&&typeof n!="number";class ct extends mt{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),ba(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ne.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const r=this.resolve(e,t);return(r==null?void 0:r.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const i=r&&e.indexOf(r)>-1,s=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!ja(e,r,o);if(i&&!s){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:w(a)?[a]:a};const u=e.split(r);(r!==o||r===o&&this.options.ns.indexOf(u[0])>-1)&&(a=u.shift()),e=u.join(o)}return{key:e,namespaces:w(a)?[a]:a}}translate(e,t,r){if(typeof t!="object"&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),typeof t=="object"&&(t={...t}),t||(t={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=t.returnDetails!==void 0?t.returnDetails:this.options.returnDetails,a=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator,{key:i,namespaces:s}=this.extractFromKey(e[e.length-1],t),l=s[s.length-1],u=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((u==null?void 0:u.toLowerCase())==="cimode"){if(c){const x=t.nsSeparator||this.options.nsSeparator;return o?{res:"".concat(l).concat(x).concat(i),usedKey:i,exactUsedKey:i,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:"".concat(l).concat(x).concat(i)}return o?{res:i,usedKey:i,exactUsedKey:i,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(t)}:i}const f=this.resolve(e,t);let d=f==null?void 0:f.res;const p=(f==null?void 0:f.usedKey)||i,g=(f==null?void 0:f.exactUsedKey)||i,m=["[object Number]","[object Function]","[object RegExp]"],b=t.joinArrays!==void 0?t.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,O=t.count!==void 0&&!w(t.count),V=ct.hasDefaultValue(t),M=O?this.pluralResolver.getSuffix(u,t.count,t):"",oe=t.ordinal&&O?this.pluralResolver.getSuffix(u,t.count,{ordinal:!1}):"",ae=O&&!t.ordinal&&t.count===0,j=ae&&t["defaultValue".concat(this.options.pluralSeparator,"zero")]||t["defaultValue".concat(M)]||t["defaultValue".concat(oe)]||t.defaultValue;let N=d;_&&!d&&V&&(N=j);const z=On(N),X=Object.prototype.toString.apply(N);if(_&&N&&z&&m.indexOf(X)<0&&!(w(b)&&Array.isArray(N))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const x=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,N,{...t,ns:s}):"key '".concat(i," (").concat(this.language,")' returned an object instead of string.");return o?(f.res=x,f.usedParams=this.getUsedParamsDetails(t),f):x}if(a){const x=Array.isArray(N),L=x?[]:{},ie=x?g:p;for(const H in N)if(Object.prototype.hasOwnProperty.call(N,H)){const E="".concat(ie).concat(a).concat(H);V&&!d?L[H]=this.translate(E,{...t,defaultValue:On(j)?j[H]:void 0,joinArrays:!1,ns:s}):L[H]=this.translate(E,{...t,joinArrays:!1,ns:s}),L[H]===E&&(L[H]=N[H])}d=L}}else if(_&&w(b)&&Array.isArray(d))d=d.join(b),d&&(d=this.extendTranslation(d,e,t,r));else{let x=!1,L=!1;!this.isValidLookup(d)&&V&&(x=!0,d=j),this.isValidLookup(d)||(L=!0,d=i);const H=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&L?void 0:d,E=V&&j!==d&&this.options.updateMissing;if(L||x||E){if(this.logger.log(E?"updateKey":"missingKey",u,l,i,E?j:d),a){const P=this.resolve(i,{...t,keySeparator:!1});P&&P.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let U=[];const ve=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ve&&ve[0])for(let P=0;P<ve.length;P++)U.push(ve[P]);else this.options.saveMissingTo==="all"?U=this.languageUtils.toResolveHierarchy(t.lng||this.language):U.push(t.lng||this.language);const ye=(P,ee,te)=>{var J;const se=V&&te!==d?te:H;this.options.missingKeyHandler?this.options.missingKeyHandler(P,l,ee,se,E,t):(J=this.backendConnector)!=null&&J.saveMissing&&this.backendConnector.saveMissing(P,l,ee,se,E,t),this.emit("missingKey",P,l,ee,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?U.forEach(P=>{const ee=this.pluralResolver.getSuffixes(P,t);ae&&t["defaultValue".concat(this.options.pluralSeparator,"zero")]&&ee.indexOf("".concat(this.options.pluralSeparator,"zero"))<0&&ee.push("".concat(this.options.pluralSeparator,"zero")),ee.forEach(te=>{ye([P],i+te,t["defaultValue".concat(te)]||j)})}):ye(U,i,j))}d=this.extendTranslation(d,e,t,f,r),L&&d===i&&this.options.appendNamespaceToMissingKey&&(d="".concat(l,":").concat(i)),(L||x)&&this.options.parseMissingKeyHandler&&(d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(l,":").concat(i):i,x?d:void 0))}return o?(f.res=d,f.usedParams=this.getUsedParamsDetails(t),f):d}extendTranslation(e,t,r,o,a){var u,c;var i=this;if((u=this.i18nFormat)!=null&&u.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const f=w(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(f){const g=e.match(this.interpolator.nestingRegexp);d=g&&g.length}let p=r.replace&&!w(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,r.lng||this.language||o.usedLng,r),f){const g=e.match(this.interpolator.nestingRegexp),m=g&&g.length;d<m&&(r.nest=!1)}!r.lng&&o&&o.res&&(r.lng=this.language||o.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var g=arguments.length,m=new Array(g),b=0;b<g;b++)m[b]=arguments[b];return(a==null?void 0:a[0])===m[0]&&!r.context?(i.logger.warn("It seems you are nesting recursively key: ".concat(m[0]," in key: ").concat(t[0])),null):i.translate(...m,t)},r)),r.interpolation&&this.interpolator.reset()}const s=r.postProcess||this.options.postProcess,l=w(s)?[s]:s;return e!=null&&(l!=null&&l.length)&&r.applyPostProcessor!==!1&&(e=tr.handle(l,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r,o,a,i,s;return w(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const u=this.extractFromKey(l,t),c=u.key;o=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=t.count!==void 0&&!w(t.count),p=d&&!t.ordinal&&t.count===0,g=t.context!==void 0&&(w(t.context)||typeof t.context=="number")&&t.context!=="",m=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);f.forEach(b=>{var _,O;this.isValidLookup(r)||(s=b,!xn["".concat(m[0],"-").concat(b)]&&((_=this.utils)!=null&&_.hasLoadedNamespace)&&!((O=this.utils)!=null&&O.hasLoadedNamespace(s))&&(xn["".concat(m[0],"-").concat(b)]=!0,this.logger.warn('key "'.concat(o,'" for languages "').concat(m.join(", "),'" won\'t get resolved as namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(V=>{var ae;if(this.isValidLookup(r))return;i=V;const M=[c];if((ae=this.i18nFormat)!=null&&ae.addLookupKeys)this.i18nFormat.addLookupKeys(M,c,V,b,t);else{let j;d&&(j=this.pluralResolver.getSuffix(V,t.count,t));const N="".concat(this.options.pluralSeparator,"zero"),z="".concat(this.options.pluralSeparator,"ordinal").concat(this.options.pluralSeparator);if(d&&(M.push(c+j),t.ordinal&&j.indexOf(z)===0&&M.push(c+j.replace(z,this.options.pluralSeparator)),p&&M.push(c+N)),g){const X="".concat(c).concat(this.options.contextSeparator).concat(t.context);M.push(X),d&&(M.push(X+j),t.ordinal&&j.indexOf(z)===0&&M.push(X+j.replace(z,this.options.pluralSeparator)),p&&M.push(X+N))}}let oe;for(;oe=M.pop();)this.isValidLookup(r)||(a=oe,r=this.getResource(V,b,oe,t))}))})}),{res:r,usedKey:o,exactUsedKey:a,usedLng:i,usedNS:s}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r){var a;let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,t,r,o):this.resourceStore.getResource(e,t,r,o)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!w(e.replace);let o=r?e.replace:e;if(r&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!r){o={...o};for(const a of t)delete o[a]}return o}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class Sn{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ne.create("languageUtils")}getScriptPartFromCode(e){if(e=lt(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=lt(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(w(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch(r){}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(t=o)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const o=this.getLanguagePartFromCode(r);if(this.isSupportedCode(o))return t=o;t=this.options.supportedLngs.find(a=>{if(a===o)return a;if(!(a.indexOf("-")<0&&o.indexOf("-")<0)&&(a.indexOf("-")>0&&o.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===o||a.indexOf(o)===0&&o.length>1))return a})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),w(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],a=i=>{i&&(this.isSupportedCode(i)?o.push(i):this.logger.warn("rejecting language code not found in supportedLngs: ".concat(i)))};return w(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):w(e)&&a(this.formatLanguageCode(e)),r.forEach(i=>{o.indexOf(i)<0&&a(this.formatLanguageCode(i))}),o}}const Cn={zero:0,one:1,two:2,few:3,many:4,other:5},_n={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class La{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=ne.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=lt(e==="dev"?"en":e),o=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:o});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let i;try{i=new Intl.PluralRules(r,{type:o})}catch(s){if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),_n;if(!e.match(/-|_/))return _n;const l=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(l,t)}return this.pluralRulesCache[a]=i,i}needsPlural(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,r).map(o=>"".concat(t).concat(o))}getSuffixes(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((o,a)=>Cn[o]-Cn[a]).map(o=>"".concat(this.options.prepend).concat(t.ordinal?"ordinal".concat(this.options.prepend):"").concat(o)):[]}getSuffix(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const o=this.getRule(e,r);return o?"".concat(this.options.prepend).concat(r.ordinal?"ordinal".concat(this.options.prepend):"").concat(o.select(t)):(this.logger.warn("no plural rule found for: ".concat(e)),this.getSuffix("dev",t,r))}}const Rn=function(n,e,t){let r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,a=Oa(n,e,t);return!a&&o&&w(t)&&(a=It(n,t,r),a===void 0&&(a=It(e,t,r))),a},Et=n=>n.replace(/\$/g,"$$$$");class Pa{constructor(){var t;let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ne.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:o,prefix:a,prefixEscaped:i,suffix:s,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:m,nestingOptionsSeparator:b,maxReplaces:_,alwaysFormat:O}=e.interpolation;this.escape=t!==void 0?t:Ca,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=a?Ee(a):i||"{{",this.suffix=s?Ee(s):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Ee(d):p||Ee("$t("),this.nestingSuffix=g?Ee(g):m||Ee(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=_||1e3,this.alwaysFormat=O!==void 0?O:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,"".concat(this.prefix,"(.+?)").concat(this.suffix)),this.regexpUnescape=e(this.regexpUnescape,"".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix)),this.nestingRegexp=e(this.nestingRegexp,"".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix))}interpolate(e,t,r,o){var p;let a,i,s;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=g=>{if(g.indexOf(this.formatSeparator)<0){const O=Rn(t,l,g,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(O,void 0,r,{...o,...t,interpolationkey:g}):O}const m=g.split(this.formatSeparator),b=m.shift().trim(),_=m.join(this.formatSeparator).trim();return this.format(Rn(t,l,b,this.options.keySeparator,this.options.ignoreJSONStructure),_,r,{...o,...t,interpolationkey:b})};this.resetRegExp();const c=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,f=((p=o==null?void 0:o.interpolation)==null?void 0:p.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:g=>Et(g)},{regex:this.regexp,safeValue:g=>this.escapeValue?Et(this.escape(g)):Et(g)}].forEach(g=>{for(s=0;a=g.regex.exec(e);){const m=a[1].trim();if(i=u(m),i===void 0)if(typeof c=="function"){const _=c(e,a,o);i=w(_)?_:""}else if(o&&Object.prototype.hasOwnProperty.call(o,m))i="";else if(f){i=a[0];continue}else this.logger.warn("missed to pass in variable ".concat(m," for interpolating ").concat(e)),i="";else!w(i)&&!this.useRawValueToEscape&&(i=mn(i));const b=g.safeValue(i);if(e=e.replace(a[0],b),f?(g.regex.lastIndex+=i.length,g.regex.lastIndex-=a[0].length):g.regex.lastIndex=0,s++,s>=this.maxReplaces)break}}),e}nest(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o,a,i;const s=(l,u)=>{var m;const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp("".concat(c,"[ ]*{")));let d="{".concat(f[1]);l=f[0],d=this.interpolate(d,i);const p=d.match(/'/g),g=d.match(/"/g);(((m=p==null?void 0:p.length)!=null?m:0)%2===0&&!g||g.length%2!==0)&&(d=d.replace(/'/g,'"'));try{i=JSON.parse(d),u&&(i={...u,...i})}catch(b){return this.logger.warn("failed parsing options string in nesting for key ".concat(l),b),"".concat(l).concat(c).concat(d)}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,l};for(;o=this.nestingRegexp.exec(e);){let l=[];i={...r},i=i.replace&&!w(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;let u=!1;if(o[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(o[1])){const c=o[1].split(this.formatSeparator).map(f=>f.trim());o[1]=c.shift(),l=c,u=!0}if(a=t(s.call(this,o[1].trim(),i),i),a&&o[0]===e&&!w(a))return a;w(a)||(a=mn(a)),a||(this.logger.warn("missed to resolve ".concat(o[1]," for nesting ").concat(e)),a=""),u&&(a=l.reduce((c,f)=>this.format(c,f,r.lng,{...r,interpolationkey:o[1].trim()}),a.trim())),e=e.replace(o[0],a),this.regexp.lastIndex=0}return e}}const Fa=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);e==="currency"&&o.indexOf(":")<0?t.currency||(t.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?t.range||(t.range=o.trim()):o.split(";").forEach(i=>{if(i){const[s,...l]=i.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=s.trim();t[c]||(t[c]=u),u==="false"&&(t[c]=!1),u==="true"&&(t[c]=!0),isNaN(u)||(t[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:t}},je=n=>{const e={};return(t,r,o)=>{let a=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(a={...a,[o.interpolationkey]:void 0});const i=r+JSON.stringify(a);let s=e[i];return s||(s=n(lt(r),o),e[i]=s),s(t)}};class Ia{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ne.create("formatter"),this.options=e,this.formats={number:je((t,r)=>{const o=new Intl.NumberFormat(t,{...r});return a=>o.format(a)}),currency:je((t,r)=>{const o=new Intl.NumberFormat(t,{...r,style:"currency"});return a=>o.format(a)}),datetime:je((t,r)=>{const o=new Intl.DateTimeFormat(t,{...r});return a=>o.format(a)}),relativetime:je((t,r)=>{const o=new Intl.RelativeTimeFormat(t,{...r});return a=>o.format(a,r.range||"day")}),list:je((t,r)=>{const o=new Intl.ListFormat(t,{...r});return a=>o.format(a)})},this.init(e)}init(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=t.interpolation.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=je(t)}format(e,t,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(s=>s.indexOf(")")>-1)){const s=a.findIndex(l=>l.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,s)].join(this.formatSeparator)}return a.reduce((s,l)=>{var f;const{formatName:u,formatOptions:c}=Fa(l);if(this.formats[u]){let d=s;try{const p=((f=o==null?void 0:o.formatParams)==null?void 0:f[o.interpolationkey])||{},g=p.locale||p.lng||o.locale||o.lng||r;d=this.formats[u](s,g,{...c,...o,...p})}catch(p){this.logger.warn(p)}return d}else this.logger.warn("there was no format function for ".concat(u));return s},e)}}const Ma=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class Na extends mt{constructor(e,t,r){var a,i;let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=o,this.logger=ne.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(i=(a=this.backend)==null?void 0:a.init)==null||i.call(a,r,o.backend,o)}queueLoad(e,t,r,o){const a={},i={},s={},l={};return e.forEach(u=>{let c=!0;t.forEach(f=>{const d="".concat(u,"|").concat(f);!r.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?i[d]===void 0&&(i[d]=!0):(this.state[d]=1,c=!1,i[d]===void 0&&(i[d]=!0),a[d]===void 0&&(a[d]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(s[u]=!0)}),(Object.keys(a).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(a),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(l)}}loaded(e,t,r){const o=e.split("|"),a=o[0],i=o[1];t&&this.emit("failedLoading",a,i,t),!t&&r&&this.store.addResourceBundle(a,i,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const s={};this.queue.forEach(l=>{xa(l.loaded,[a],i),Ma(l,e),t&&l.errors.push(t),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{s[u]||(s[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{s[u][f]===void 0&&(s[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",s),this.queue=this.queue.filter(l=>!l.done)}read(e,t,r){let o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:o,wait:a,callback:i});return}this.readingCalls++;const s=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,o+1,a*2,i)},a);return}i(u,c)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const u=l(e,t);u&&typeof u.then=="function"?u.then(c=>s(null,c)).catch(s):s(null,u)}catch(u){s(u)}return}return l(e,t,s)}prepareLoading(e,t){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();w(e)&&(e=this.languageUtils.toResolveHierarchy(e)),w(t)&&(t=[t]);const a=this.queueLoad(e,t,r,o);if(!a.toLoad.length)return a.pending.length||o(),null;a.toLoad.forEach(i=>{this.loadOne(i)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const r=e.split("|"),o=r[0],a=r[1];this.read(o,a,"read",void 0,void 0,(i,s)=>{i&&this.logger.warn("".concat(t,"loading namespace ").concat(a," for language ").concat(o," failed"),i),!i&&s&&this.logger.log("".concat(t,"loaded namespace ").concat(a," for language ").concat(o),s),this.loaded(e,i,s)})}saveMissing(e,t,r,o,a){var l,u,c,f,d;let i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},s=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if((u=(l=this.services)==null?void 0:l.utils)!=null&&u.hasLoadedNamespace&&!((f=(c=this.services)==null?void 0:c.utils)!=null&&f.hasLoadedNamespace(t))){this.logger.warn('did not save key "'.concat(r,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((d=this.backend)!=null&&d.create){const p={...i,isUpdate:a},g=this.backend.create.bind(this.backend);if(g.length<6)try{let m;g.length===5?m=g(e,t,r,o,p):m=g(e,t,r,o),m&&typeof m.then=="function"?m.then(b=>s(null,b)).catch(s):s(null,m)}catch(m){s(m)}else g(e,t,r,o,s,p)}!e||!e[0]||this.store.addResource(e[0],t,r,o)}}}const En=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),w(n[1])&&(e.defaultValue=n[1]),w(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),jn=n=>{var e,t;return w(n.ns)&&(n.ns=[n.ns]),w(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),w(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},qe=()=>{},Ta=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Ke extends mt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(super(),this.options=jn(e),this.services={},this.logger=ne,this.modules={external:[]},Ta(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(){var e=this;let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof t=="function"&&(r=t,t={}),t.defaultNS==null&&t.ns&&(w(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const o=En();this.options={...o,...this.options,...jn(t)},this.options.interpolation={...o.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?ne.init(a(this.modules.logger),this.options):ne.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=Ia;const f=new Sn(this.options);this.store=new wn(this.options.resources,this.options);const d=this.services;d.logger=ne,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new La(f,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(d.formatter=a(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Pa(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Na(a(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(p){for(var g=arguments.length,m=new Array(g>1?g-1:0),b=1;b<g;b++)m[b-1]=arguments[b];e.emit(p,...m)}),this.modules.languageDetector&&(d.languageDetector=a(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=a(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new ct(this.services,this.options),this.translator.on("*",function(p){for(var g=arguments.length,m=new Array(g>1?g-1:0),b=1;b<g;b++)m[b-1]=arguments[b];e.emit(p,...m)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,r||(r=qe),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=$e(),u=()=>{const c=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),r(f,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),l}loadResources(e){var a,i;let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qe;const o=w(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const s=[],l=u=>{if(!u||u==="cimode")return;this.services.languageUtils.toResolveHierarchy(u).forEach(f=>{f!=="cimode"&&s.indexOf(f)<0&&s.push(f)})};o?l(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),(i=(a=this.options.preload)==null?void 0:a.forEach)==null||i.call(a,u=>l(u)),this.services.backendConnector.load(s,this.options.ns,u=>{!u&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(u)})}else r(null)}reloadResources(e,t,r){const o=$e();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=qe),this.services.backendConnector.reload(e,t,a=>{o.resolve(),r(a)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&tr.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}}changeLanguage(e,t){var r=this;this.isLanguageChangingTo=e;const o=$e();this.emit("languageChanging",e);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,u)=>{u?(a(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,o.resolve(function(){return r.t(...arguments)}),t&&t(l,function(){return r.t(...arguments)})},s=l=>{var c,f;!e&&!l&&this.services.languageDetector&&(l=[]);const u=w(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||a(u),this.translator.language||this.translator.changeLanguage(u),(f=(c=this.services.languageDetector)==null?void 0:c.cacheUserLanguage)==null||f.call(c,u)),this.loadResources(u,d=>{i(d,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?s(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e),o}getFixedT(e,t,r){var o=this;const a=function(i,s){let l;if(typeof s!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=o.options.overloadTranslationOptionHandler([i,s].concat(c))}else l={...s};l.lng=l.lng||a.lng,l.lngs=l.lngs||a.lngs,l.ns=l.ns||a.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||a.keyPrefix);const d=o.options.keySeparator||".";let p;return l.keyPrefix&&Array.isArray(i)?p=i.map(g=>"".concat(l.keyPrefix).concat(d).concat(g)):p=l.keyPrefix?"".concat(l.keyPrefix).concat(d).concat(i):i,o.t(p,l)};return w(e)?a.lng=e:a.lngs=e,a.ns=t,a.keyPrefix=r,a}t(){var o;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(o=this.translator)==null?void 0:o.translate(...t)}exists(){var o;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(o=this.translator)==null?void 0:o.exists(...t)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const i=(s,l)=>{const u=this.services.backendConnector.state["".concat(s,"|").concat(l)];return u===-1||u===0||u===2};if(t.precheck){const s=t.precheck(this,i);if(s!==void 0)return s}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(r,e)&&(!o||i(a,e)))}loadNamespaces(e,t){const r=$e();return this.options.ns?(w(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),t&&t(o)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=$e();w(e)&&(e=[e]);const o=this.options.preload||[],a=e.filter(i=>o.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return a.length?(this.options.preload=o.concat(a),this.loadResources(i=>{r.resolve(),t&&t(i)}),r):(t&&t(),Promise.resolve())}dir(e){var o,a;if(e||(e=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new Sn(En());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return new Ke(e,t)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:qe;const r=e.forkResourceStore;r&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},a=new Ke(o);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(s=>{a[s]=this[s]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const s=Object.keys(this.store.data).reduce((l,u)=>(l[u]={...this.store.data[u]},Object.keys(l[u]).reduce((c,f)=>(c[f]={...l[u][f]},c),{})),{});a.store=new wn(s,o),a.services.resourceStore=a.store}return a.translator=new ct(a.services,o),a.translator.on("*",function(s){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];a.emit(s,...u)}),a.init(o,t),a.translator.options=o,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const k=Ke.createInstance();k.createInstance=Ke.createInstance;k.createInstance;k.dir;k.init;k.loadResources;k.reloadResources;k.use;k.changeLanguage;k.getFixedT;k.t;k.exists;k.setDefaultNamespace;k.hasLoadedNamespace;k.loadNamespaces;k.loadLanguages;const nr=n=>new Promise(e=>{setTimeout(e,n,"Timeout after ".concat(n/1e3," seconds"))}),$a=n=>new Promise(e=>{const t=new FileReader;t.onloadend=()=>e(t.result),t.readAsDataURL(n)}),Da=n=>{let e,t=!1;return async r=>e&&(t||!r)?e:(e=n(),t=!0,e.then(o=>(t=!1,o)).catch(o=>{throw e=null,o}))},Wt=n=>{let e=0;for(let t=0;t<n.length;t++)e=n.charCodeAt(t)+((e<<5)-e);return e},Kt=n=>{const e=(n&16777215).toString(16).toUpperCase();return"#"+"00000".substring(0,6-e.length)+e};var Oe=(n=>(n.DEV="DEV",n.UAT="UAT",n.PRD="PRD",n))(Oe||{});const rr="rmg-runtime__language",or="rmg-runtime__colourMode",dt="rmg-runtime__allowAnalytics",Je="rmg-unknown",ka="railmapgen.github.io",Ba="rmg-home";let ft=Je,ar=Kt(Wt(Je));const Va=n=>{ft=n,ar=Kt(Wt(n))},Ze=()=>"[".concat(ft,"]"),Xe=()=>ar,ce=(n,e,t)=>(...r)=>{typeof r[0]=="string"?n("%c".concat(e(),"%c ").concat(r[0]),"color: ".concat(t()),"",...r.slice(1)):n("%c".concat(e(),"%c"),"color: ".concat(t()),"",...r)},Ua={debug:ce(console.debug,Ze,Xe),info:ce(console.info,Ze,Xe),warn:ce(console.warn,Ze,Xe),error:ce(console.error,Ze,Xe)},De=()=>ft===Je?"[runtime]":"[runtime@".concat(ft,"]"),za=Kt(Wt("runtime")),ke=()=>za,A={setup:Va,logger:Ua,debug:ce(console.debug,De,ke),info:ce(console.info,De,ke),warn:ce(console.warn,De,ke),error:ce(console.error,De,ke),group:ce(console.group,De,ke),groupEnd:console.groupEnd};let Gt,vt,Jt,Yt,Qt;const ir=()=>{Gt=!1,vt=Je,Jt="unknown",Yt=Oe.PRD,Qt="unknown"},Ha=async()=>{const n=window.location.pathname.split("/")[1],e=n?"/".concat(n,"/info.json"):"/info.json",t=await fetch(e);if(t.ok){const r=await t.json();A.info("Received info.json",r),vt=r.component,Jt=r.version,Yt=r.environment,Qt=r.instance}else throw new Error("Failed to fetch config from ".concat(e))},Wa=async()=>{try{A.group("Loading config...");const n=await Promise.race([Ha(),nr(10*1e3)]);n?A.error(" Failed to load config.",n):(Gt=!0,A.info(" Config loaded!"))}catch(n){A.error(" Failed to load config.",n)}finally{A.groupEnd()}},Ka=()=>Gt,Ga=()=>sr()?Ba:vt,Ja=()=>Jt,Ya=()=>Yt,Qa=()=>Qt,sr=()=>vt===ka;ir();const B={loadWithTimeout:Wa,isInitialised:Ka,getComponent:Ga,getVersion:Ja,getEnvironment:Ya,getInstance:Qa,isRMT:sr,_resetConfig:ir};window.dataLayer=window.dataLayer||[];const qa=()=>{const n=document.createElement("script");n.async=!0,n.src="https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ",document.head.append(n)};function Mt(...n){if(B.getEnvironment()!==Oe.DEV)return window.dataLayer.push(arguments);A.info("Not going to send event in DEV environment",n)}const Za=(n,e={})=>{Mt("event",n,e)},Xa=()=>{qa(),Mt("js",new Date),Mt("config","G-2HP8Y4MRRQ",{appName:B.getComponent(),version:B.getVersion(),environment:B.getEnvironment(),instance:B.getInstance()})},ht={init:Xa,customEvent:Za},ei="rmg-runtime-channel",nt={};let ze;try{ze=new BroadcastChannel(ei),ze.onmessage=n=>{var o;const{event:e,data:t,frameId:r}=n.data;(o=nt[e])==null||o.forEach(a=>a(t,r))}}catch(n){A.warn("Failed to initiate broadcast channel. Some features may be unavailable.",n)}const ti=(n,e)=>{var t;A.debug("Broadcasting event ".concat(n," with data"),e),ze==null||ze.postMessage({event:n,data:e,frameId:(t=window.frameElement)==null?void 0:t.id})},ni=(n,e)=>{var t;n in nt?(t=nt[n])==null||t.push(e):nt[n]=[e]},I={postEvent:ti,onMessage:ni},lr="TOGGLE_NAV_MENU",ur="OPEN_APP",cr="CLOSE_APP",dr="UPDATE_APP_METADATA",fr="UPDATE_URL",rt=()=>!window.frameElement,ri=()=>{var n;return!!((n=window.frameElement)!=null&&n.closest(".show-menu"))},oi=()=>{if(!rt()){const e=document.createElement("style");e.textContent="body{padding: 0;}",document.head.appendChild(e)}const n=document.createElement("style");n.textContent=".rmg-window__header:not(.rmg-window__app-clip-header),.rm-window__header:not(.rm-window__app-clip-header){margin-left: 40px;}",!rt()&&!ri()&&document.head.appendChild(n),rt()||I.onMessage(lr,e=>{if(e)try{document.head.removeChild(n)}catch(t){A.warn("Unable to remove indent style from RmgWindowHeader",t)}else document.head.appendChild(n)})},ai=n=>{I.postEvent(ur,n)},ii=n=>{I.postEvent(cr,n)},si=n=>{I.postEvent(dr,n)},li=n=>{I.postEvent(fr,n)},ui=n=>{I.onMessage(ur,n)},ci=n=>{I.onMessage(cr,n)},di=n=>{I.onMessage(dr,n)},fi=n=>{I.onMessage(fr,n)},hi=n=>{I.postEvent(lr,n)},Y={isStandaloneWindow:rt,injectUITools:oi,openApp:ai,onAppOpen:ui,closeApp:ii,onAppClose:ci,updateAppMetadata:si,onAppMetadataUpdate:di,updateUrl:li,onUrlUpdate:fi,toggleNavMenu:hi},hr="SET_LANGUAGE",gr="SET_COLOUR_MODE",gi=n=>{I.postEvent(hr,n),window.localStorage.setItem(rr,n)},pi=()=>window.localStorage.getItem(rr)||"en",mi=n=>{I.onMessage(hr,n)},pr=["light","dark","system"],vi=n=>{pr.includes(n)&&(I.postEvent(gr,n),window.localStorage.setItem(or,n))},yi=n=>!!(n&&pr.includes(n)),bi=()=>{const n=window.localStorage.getItem(or);return yi(n)?n:"system"},wi=n=>{I.onMessage(gr,n)},xi=()=>window.localStorage.getItem(dt)!==null,mr=()=>window.localStorage.getItem(dt)==="true",Oi=n=>{const e=mr();return n?(e||(window.localStorage.setItem(dt,n.toString()),ht.init()),{refreshRequired:!1}):e?(window.localStorage.setItem(dt,n.toString()),{refreshRequired:!0}):{refreshRequired:!1}},Q={setLanguage:gi,getLanguage:pi,onLanguageChange:mi,setColourMode:vi,getColourMode:bi,onColourModeChange:wi,isAnalyticsQADone:xi,isAllowAnalytics:mr,allowAnalytics:Oi},Si=new Date().getTime();function Ci(){const n=B.getComponent(),e=window.localStorage.getItem(n+"__startTime");return e===null?new Date().getTime()-Si:new Date().getTime()-Number(e)}const _i={getMsSinceStartUp:Ci},ot={},Ie=()=>{const n=B.getComponent();if(n===Je)throw new Error("Unable to clear storage for unknown app");return n};window.addEventListener("storage",n=>{var r;const{key:e,newValue:t}=n;e&&((r=ot[e])==null||r.forEach(o=>o(t)))});const Ri=(n,e)=>{var r;const t="".concat(Ie(),"__").concat(n);t in ot?(r=ot[t])==null||r.push(e):ot[t]=[e]},Ei=n=>{const e=Ie();return window.localStorage.getItem("".concat(e,"__").concat(n))},ji=()=>{const n=Ie(),e={};let t=0;for(;t<window.localStorage.length;){const r=window.localStorage.key(t);if(r!=null&&r.startsWith(n+"__")){const o=window.localStorage.getItem(r);o&&(e[r]=o)}t++}return e},Ai=(n,e)=>{const t=Ie();window.localStorage.setItem("".concat(t,"__").concat(n),e)},Li=n=>{const e=Ie();window.localStorage.removeItem("".concat(e,"__").concat(n))},Pi=()=>{const n=Ie();let e=0;for(;e<window.localStorage.length;){const t=window.localStorage.key(e);t!=null&&t.startsWith(n+"__")?(window.localStorage.removeItem(t),A.info("Removed item ".concat(t))):e++}},Ae={on:Ri,get:Ei,getAll:ji,set:Ai,remove:Li,clear:Pi};let Pe;const Fi=()=>Pe,Ii=n=>{Q.onLanguageChange(e=>n.changeLanguage(e))};class Mi{constructor(){Te(this,"_appName","RMG");Te(this,"_lng");Te(this,"_defaultResources",{});Te(this,"_resources",{})}use(e){return k.use(e),this}withAppName(e){return this._appName=e,this}withLng(e){return this._lng=e,this}withDefaultResource(e){return Object.entries(e).forEach(([t,r])=>{this._defaultResources[t]=r}),this}withResource(e,t){return this._resources[e]=t,this}combineResource(){const e={};return Object.entries(this._defaultResources).forEach(([t,r])=>{e[t]={translation:r}}),Object.entries(this._resources).forEach(([t,r])=>{t in e?e[t].translation={...e[t].translation,...r}:e[t]={translation:r}}),e}build(){return Pe=k.createInstance({lng:this._lng,fallbackLng:{"zh-CN":["zh-Hans","zh-Hant","en"],"zh-HK":["zh-Hant","zh-Hans","en"],"zh-TW":["zh-Hant","zh-Hans","en"],default:["en"]},resources:this.combineResource()},(e,t)=>{var r;if(e){A.error("unexpected error occurs while initialising i18n",e);return}document.title=t(this._appName),document.documentElement.lang=(r=this._lng)!=null?r:"en"}),Pe.on("languageChanged",e=>{document.title=Pe.t(this._appName),document.documentElement.lang=e}),Ii(Pe),Pe}}let pe={};const Ni=()=>pe,vr="LOAD_REMOTE_FONT",Ti=(n,e)=>{I.postEvent(vr,{family:n,definition:e})},$i=n=>{I.onMessage(vr,n)},qt=n=>n.source.startsWith("local"),Di=n=>{var t;const e=(t=n.source.match(/url\(['"](\S+)['"]\)/))==null?void 0:t[1];if(!e)throw new Error("Invalid URL in source "+n.source);return new URL(e,window.location.href)},An=(n,e)=>{var t;return"@font-face {\n    font-family: '".concat(n,"';\n    src: ").concat(e.source,";\n    ").concat(Object.entries((t=e.descriptors)!=null?t:{}).map(([r,o])=>"".concat(r,": ").concat(o,";")).join("\n"),"\n}")},ki=()=>Da(()=>fetch("/fonts/config.json").then(n=>n.json()));let yr=ki();const Bi=async(n,e,t)=>{try{const r=new FontFace(n,e.source,e.descriptors);return qt(e)?await r.load():r.loaded.then(t),document.fonts.add(r),pe[n]={configs:[{...e,font:r}]},!0}catch(r){return A.warn("Failed to load font ".concat(n," with source ").concat(e.source),r),!1}},Vi=async(n,e,t)=>{if(e.some(qt))return A.error("Unable to load multiple FontFace for the same family ".concat(n)),!1;const r=[];return e.forEach(o=>{const a=new FontFace(n,o.source,o.descriptors);a.loaded.then(t),document.fonts.add(a),r.push({...o,font:a})}),pe[n]={configs:r},!0},Ui=async(n,e)=>{if(n in pe)return pe[n];let t;if(e)t=e;else try{t=(await yr())[n]}catch(a){const i=a instanceof Error?" due to "+a.message:"";throw new Error("Unable to load font definition of "+n+i)}const r=()=>{Ti(n,t)};for(const a of t.configs)if(Array.isArray(a)?await Vi(n,a,r):await Bi(n,a,r))break;const o=pe[n];if(o)return o.displayName=t.displayName,o.url=t.url,pe[n]},zi=async n=>{const e=pe[n];if(!e)throw new Error("Font family ".concat(n," is not loaded"));return(await Promise.all(e.configs.filter(r=>{const o=r.font.status==="loaded";return o||A.warn("Font family ".concat(n," is not loaded completely. Some FontFaceRules may be missing")),o}).map(async r=>{if(qt(r))return An(n,r);const o=Di(r),a=await fetch(o),i=await $a(await a.blob());return An(n,{...r,source:"url('".concat(i,"')")})}))).join("\n\n")},Be={getAllFonts:yr,getLoadedFonts:Ni,loadFont:Ui,getFontCSS:zi,onRemoteFontLoaded:$i},Hi=()=>{if(B.getEnvironment()!=="PRD"||!B.isRMT())if(document.querySelector('meta[name="robots"]'))A.info("Noindex meta tag already presents.");else{A.info("Injecting noindex meta tag as this app is not PRD RMT.");const n=document.createElement("meta");n.name="robots",n.content="noindex",document.head.appendChild(n)}},Wi={injectNoindexRule:Hi};let br=!1;const Ki=async()=>{await B.loadWithTimeout(),A.setup(B.getComponent()),Wi.injectNoindexRule(),Q.isAnalyticsQADone()?Q.isAllowAnalytics()&&(A.info("User has previously allowed GA"),ht.init()):Y.isStandaloneWindow()&&!B.isRMT()&&(A.warn("App is opened in standalone window but analytics Q&A is not finished. GA will be init by default."),ht.init()),br=!0},Gi=async()=>{let n=0;for(;n<=10&&!br;)await nr(1e3),n+=1},re={ready:Gi,getAppName:B.getComponent,getAppVersion:B.getVersion,getEnv:B.getEnvironment,getInstance:B.getInstance,event:ht.customEvent,isStandaloneWindow:Y.isStandaloneWindow,injectUITools:Y.injectUITools,openApp:Y.openApp,onAppOpen:Y.onAppOpen,closeApp:Y.closeApp,onAppClose:Y.onAppClose,updateAppMetadata:Y.updateAppMetadata,onAppMetadataUpdate:Y.onAppMetadataUpdate,updateUrl:Y.updateUrl,onUrlUpdate:Y.onUrlUpdate,toggleNavMenu:Y.toggleNavMenu,postEvent:I.postEvent,onMessage:I.onMessage,setLanguage:Q.setLanguage,getLanguage:Q.getLanguage,onLanguageChange:Q.onLanguageChange,setColourMode:Q.setColourMode,getColourMode:Q.getColourMode,onColourModeChange:Q.onColourModeChange,isAnalyticsQADone:Q.isAnalyticsQADone,isAllowAnalytics:Q.isAllowAnalytics,allowAnalytics:Q.allowAnalytics,storage:{on:Ae.on,get:Ae.get,getAll:Ae.getAll,set:Ae.set,remove:Ae.remove,clear:Ae.clear},getMsSinceStartUp:_i.getMsSinceStartUp,I18nBuilder:Mi,getI18nInstance:Fi,getAllFonts:Be.getAllFonts,getLoadedFonts:Be.getLoadedFonts,loadFont:Be.loadFont,getFontCSS:Be.getFontCSS,onRemoteFontLoaded:Be.onRemoteFontLoaded};Ki().then();window.rmgRuntime=re;const Hs=A.logger;var Ji=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(i)throw i.error}}return a},Yi=function(n){switch(n){case Oe.DEV:return"red";case Oe.UAT:return"orange";case Oe.PRD:return"green"}};function Ws(n){var e=n.environment,t=n.version,r=n.popoverHeader,o=n.popoverBody,a=Ji(y.useState(!1),2),i=a[0],s=a[1];return h.jsxs($n,{isOpen:i,onOpen:function(){return r&&s(!0)},onClose:function(){return s(!1)},children:[h.jsx(Dr,{children:h.jsx(kr,{ml:1,colorScheme:Yi(e),title:"".concat(e,": ").concat(t),cursor:r?"pointer":"help",children:e===Oe.PRD?t:e})}),h.jsxs(kn,{children:[h.jsx(Br,{}),h.jsx(Vr,{}),h.jsx(Ur,{children:r}),h.jsx(zr,{children:o})]})]})}var Qi=function(n,e,t){var r=new Blob([t],{type:e});qi(n,r)},qi=function(n,e){var t=window.URL.createObjectURL(e),r=document.createElement("a");r.href=t,r.download=n,document.body.appendChild(r),r.click(),document.body.removeChild(r),window.URL.revokeObjectURL(t)},Zi=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(i)throw i.error}}return a};function Xi(n){var e=n.cancelRef,t=n.isOpen,r=n.onClose,o=Zi(y.useState(!1),2),a=o[0],i=o[1],s=function(){i(!0);var l=re.storage.getAll(),u=re.getAppName(),c="".concat(u,"_BACKUP_").concat(new Date().toISOString(),".json");Qi(c,"application/json",JSON.stringify(l)),re.storage.clear(),setTimeout(function(){window.location.reload()},2e3)};return h.jsxs(Hr,{leastDestructiveRef:e,isOpen:t,onClose:r,children:[h.jsx(Wr,{}),h.jsxs(Kr,{children:[h.jsx(Gr,{children:"Warning "}),h.jsx(Jr,{}),h.jsxs(Yr,{sx:{"& p":{my:1}},children:[h.jsx(xe,{children:"Are you sure you want to reset the app? The webpage local storage for this app will be cleared. A copy of the local storage will be downloaded and it may be used for restoration (varies with app)."}),h.jsx(xe,{children:""}),h.jsx(xe,{children:""})]}),h.jsxs(Qr,{children:[h.jsx(ln,{ref:e,onClick:r,children:"Cancel"}),h.jsx(ln,{isLoading:a,colorScheme:"red",ml:3,onClick:s,children:"Confirm and reload"})]})]})]})}var He=function(){return He=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},He.apply(this,arguments)},es=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t},ts=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(i)throw i.error}}return a};function ns(n){var e=n.error,t=n.errorInfo,r=n.allowReset,o=n.sx,a=es(n,["error","errorInfo","allowReset","sx"]),i=de("RmgErrorBoundary"),s=Un("primary.500","primary.300"),l=ts(y.useState(!1),2),u=l[0],c=l[1],f=y.useRef(null),d=function(m){return h.jsx(un,{color:s,role:"button",onClick:function(){return c(!0)},children:m})},p=re.getAppName(),g=h.jsx(un,{color:s,href:"https://github.com/railmapgen/".concat(p==="rmg-home"?"railmapgen.github.io":p,"/issues"),isExternal:!0,children:"GitHub Issue"});return h.jsxs(qr,He({status:"error",sx:He(He({},i),o)},a,{children:[h.jsx(Zr,{}),h.jsx(Xr,{children:"Something went wrong!"}),h.jsxs(eo,{children:[h.jsxs(xe,{children:["Please try to refresh or re-import your configuration files. If the issue still persists, please consider upgrading your browser",r?h.jsxs(h.Fragment,{children:[" or ",d("reset this app")]}):"",". Should you need any help, please contact us by submitting an issue in ",g," with the details shown below."]}),h.jsxs(xe,{children:["",r?h.jsxs(h.Fragment,{children:["",d("")]}):""," ",g,"  Issue "]}),h.jsxs(xe,{children:["",r?h.jsxs(h.Fragment,{children:["",d("")]}):""," ",g,"  Issue "]}),h.jsxs(xe,{as:"details",children:[e==null?void 0:e.toString(),h.jsx("br",{}),t==null?void 0:t.componentStack]}),r&&h.jsx(Xi,{cancelRef:f,isOpen:u,onClose:function(){return c(!1)}})]})]}))}var rs=function(){var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(r[a]=o[a])},n(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}}(),Nt=function(){return Nt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Nt.apply(this,arguments)},os=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t},Ks=function(n){rs(e,n);function e(t){var r=n.call(this,t)||this;return r.state={hasError:!1,error:null,errorInfo:null},r}return e.getDerivedStateFromError=function(){return{hasError:!0}},e.prototype.componentDidCatch=function(t,r){this.setState({error:t,errorInfo:r})},e.prototype.render=function(){var t=this.props,r=t.children,o=t.suspenseFallback,a=t.allowReset,i=os(t,["children","suspenseFallback","allowReset"]);return this.state.hasError?h.jsx(ns,Nt({error:this.state.error,errorInfo:this.state.errorInfo,allowReset:a},i)):o?h.jsx(y.Suspense,{fallback:o,children:r}):r},e}(Le.Component),Tt=function(){return Tt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Tt.apply(this,arguments)},as=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t},Gs=function(n){var e=n.label,t=n.children;n.width;var r=n.noLabel,o=n.oneLine,a=n.helper,i=n.errorMessage,s=n.className,l=as(n,["label","children","width","noLabel","oneLine","helper","errorMessage","className"]),u=de("RmgLabel");return h.jsxs(to,Tt({className:"".concat(o?"rmg-label__one-line":""," ").concat(s!=null?s:""),"aria-label":e,sx:u,isInvalid:!!i},l,{children:[!r&&h.jsx(no,{size:"xs",children:e}),t,i?h.jsx(ro,{children:i}):a?h.jsx(oo,{children:a}):h.jsx(h.Fragment,{})]}))},$t=function(){return $t=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},$t.apply(this,arguments)},is=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t},Ln=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(i)throw i.error}}return a};function Js(n){var e=n.defaultValue,t=n.options,r=n.disabledOptions,o=is(n,["defaultValue","options","disabledOptions"]),a=y.useRef(null);y.useEffect(function(){a.current&&(a.current.value=(e==null?void 0:e.toString())||"")},[e]);var i=function(s,l){return h.jsx("option",{value:s,disabled:(r==null?void 0:r.find(function(u){return u.toString()===s}))!==void 0,children:l},s)};return h.jsx(ao,$t({ref:a,variant:"flushed",size:"sm",h:6},o,{children:Object.entries(t).map(function(s){var l=Ln(s,2),u=l[0],c=l[1];return typeof c=="object"?h.jsx("optgroup",{label:u,children:Object.entries(c).map(function(f){var d=Ln(f,2),p=d[0],g=d[1];return i(p,g)})},u):i(u,c)})}))}var ss=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(i)throw i.error}}return a},Ys=function(){var n=zn(),e=n.colorMode,t=n.setColorMode,r=ss(io("(prefers-color-scheme: dark)"),1),o=r[0],a=y.useCallback(function(i){re.setColourMode(i),t(i==="system"?o?"dark":"light":i)},[e,t,o]);return{colourMode:e,setColourMode:a}},jt=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(i)throw i.error}}return a},Pn=function(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,a;r<o;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))},ls=function(n,e){var t=jt(y.useState(!0),2),r=t[0],o=t[1],a=y.useRef([]),i=y.useRef(),s=y.useCallback(function(){for(var l=[],u=0;u<arguments.length;u++)l[u]=arguments[u];if(!r){a.current=l;return}o(!1),a.current=[],n.apply(void 0,Pn([],jt(l),!1))},[r,n]);return y.useEffect(function(){if(!r)return i.current=window.setTimeout(function(){o(!0),a.current.length&&n.apply(void 0,Pn([],jt(a.current),!1))},e),function(){window.clearTimeout(i.current)}},[r,e]),s},us=function(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var r=t.call(n),o,a=[],i;try{for(;(e===void 0||e-- >0)&&!(o=r.next()).done;)a.push(o.value)}catch(s){i={error:s}}finally{try{o&&!o.done&&(t=r.return)&&t.call(r)}finally{if(i)throw i.error}}return a};function Qs(n){var e=n.defaultValue,t=n.min,r=n.max,o=n.step,a=n.onThrottledChange,i=n.leftIcon,s=n.rightIcon,l=de("RmgThrottledSlider"),u=us(y.useState(e!=null?e:0),2),c=u[0],f=u[1];y.useEffect(function(){e!==void 0&&c!==e&&f(e)},[e]);var d=ls(a!=null?a:function(){},500),p=function(){var m=Math.min(c+(o!=null?o:1)*10,r!=null?r:100);a==null||a(m),f(m)},g=function(){var m=Math.max(c-(o!=null?o:1)*10,t!=null?t:0);a==null||a(m),f(m)};return h.jsxs(me,{sx:l,children:[i&&h.jsx(cn,{size:"xs",variant:"ghost","aria-label":"Drag left",icon:i,onClick:g}),h.jsxs(so,{value:c,min:t,max:r,step:o,onChange:function(m){d(m),f(m)},children:[h.jsx(lo,{children:h.jsx(uo,{})}),h.jsx(co,{})]}),s&&h.jsx(cn,{size:"xs",variant:"ghost","aria-label":"Drag right",icon:s,onClick:p})]})}var D=function(){return D=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},D.apply(this,arguments)},Ye=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t},qs=function(n){var e=n.sx,t=n.className,r=Ye(n,["sx","className"]),o=de("RmgWindow");return h.jsx(me,D({className:"rmg-window ".concat(t!=null?t:""),sx:D(D({},o),e)},r))},Zs=function(n){var e=n.isAppClipHeader,t=n.sx,r=n.className,o=Ye(n,["isAppClipHeader","sx","className"]),a=de("RmgWindowHeader");return h.jsx(me,D({className:"rmg-window__header ".concat(e?"rmg-window__app-clip-header":""," ").concat(r!=null?r:""),sx:D(D({},a),t)},o))},Xs=function(n){var e=n.sx,t=n.className,r=Ye(n,["sx","className"]),o=de("RmgPage");return h.jsx(me,D({className:"rmg-page ".concat(t!=null?t:""),sx:D(D({},o),e)},r))},el=function(n){var e=n.sx,t=n.className,r=Ye(n,["sx","className"]),o=de("RmgSection");return h.jsx(Bt.section,D({className:"rmg-section ".concat(t!=null?t:""),sx:D(D({},o),e)},r))},tl=function(n){var e=n.sx,t=n.className,r=Ye(n,["sx","className"]),o=de("RmgSectionHeader");return h.jsx(Bt.div,D({className:"rmg-section__header ".concat(t!=null?t:""),sx:D(D({},o),e)},r))};var We=function(){return We=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},We.apply(this,arguments)},cs=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t};function nl(n){var e=n.isIndeterminate,t=n.value,r=n.sx,o=cs(n,["isIndeterminate","value","sx"]),a=Un("primary.500","primary.300"),i=de("RmgLoader");return h.jsxs(me,{sx:We(We({},i),r),children:[h.jsx("div",{className:"rmg-loader__backdrop"}),h.jsx(fo,We({isIndeterminate:e,value:t,color:a},o))]})}var Fn=function(n){return n==="dark"?"primary.300":"primary.500"},At={variants:{flushed:function(n){var e=n.theme,t=n.colorMode;return{field:{_focusVisible:{borderColor:Fn(t),boxShadow:"0px 1px 0px 0px ".concat(Ve(e,Fn(t)))}}}}}},ds={defaultProps:{colorScheme:"primary"}},In={defaultProps:{colorScheme:"primary"}},fs={baseStyle:{w:"100%",h:"100%","& .ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper":{height:"unset"},"& .ag-cell":{display:"flex",lineHeight:"unset",alignItems:"center"},"& .ag-cell, & .ag-header-cell":{padding:"8px 9px"},"& .ag-row, & .ag-header":{border:"unset"},"&.ag-theme-alpine .ag-row .ag-cell, &.ag-theme-alpine .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))"},"&.ag-theme-alpine-dark .ag-row .ag-cell, &.ag-theme-alpine-dark .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))"},"& .ag-pinned-left-cols-container, & .ag-pinned-left-header":{boxShadow:"var(--chakra-shadows-lg)",zIndex:1},"&.ag-theme-alpine":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #fff)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #fcfcfc)"}},"&.ag-theme-alpine-dark":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #181d1f)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #222628)"}}}},hs={baseStyle:function(n){var e=n.colorMode,t=n.zIndex;return{display:"none","&.show-app-clip":{display:"block"},"& .rmg-app-clip__overlay":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:t,bg:"blackAlpha.600"},"& .rmg-app-clip__container":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:t},"& .rmg-app-clip__content":{display:"flex",w:"100%",maxW:"md",my:16,bg:e==="light"?"white":"gray.700",boxShadow:"lg",borderRadius:"md",overflow:"hidden"}}},sizes:{xs:{"& .rmg-app-clip__content":{maxW:"xs"}},sm:{"& .rmg-app-clip__content":{maxW:"sm"}},lg:{"& .rmg-app-clip__content":{maxW:"lg"}},xl:{"& .rmg-app-clip__content":{maxW:"xl"}},full:{"& .rmg-app-clip__content":{maxW:"100vw",minH:"var(--chakra-vh)",my:0,borderRadius:0}}}},gs={baseStyle:function(n){var e=n.colorMode;return{p:1,my:1,w:"100%",borderRadius:2,bg:e==="dark"?"gray.700":"gray.50",boxShadow:"lg"}}},ps={baseStyle:function(n){var e=n.colorMode;return{"& thead":{position:"sticky",top:0,zIndex:10},"& td, th":{borderRight:"1px solid",borderColor:e==="dark"?"whiteAlpha.400":"blackAlpha.200",backgroundColor:e==="dark"?"gray.700":"gray.50",whiteSpace:"nowrap","&:first-of-type":{position:"sticky",left:0,zIndex:1},"&:last-of-type":{borderRight:"none",position:"sticky",right:0,zIndex:1}}}}},ms={baseStyle:function(){return{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",h:10,"& span":{maxW:"100%",textOverflow:"ellipsis",overflow:"hidden"},"& span:last-of-type":{fontWeight:"normal",fontSize:"2xs"}}}},vs={baseStyle:{flexDirection:"column",alignItems:"center",maxH:"100%",overflowY:"auto","& .chakra-alert__icon":{w:"40px",h:"40px",mr:0},"& .chakra-alert__title":{mt:4,mb:1,fontSize:"lg"},"& .chakra-alert__desc":{w:"100%","& p":{my:1},"& details":{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"sm"}}}},ys={baseStyle:{display:"flex",flexDirection:"column",m:1,w:"unset","& label":{overflow:"hidden",fontSize:12,mr:0,mb:-.5,whiteSpace:"nowrap",textOverflow:"ellipsis"},"&.rmg-label__one-line":{flexDirection:"row",alignItems:"center","& label:first-of-type":{mr:"auto"}}}},bs={baseStyle:{display:"inline-flex",alignItems:"center","& > button:first-of-type":{ml:1}}},ws={baseStyle:{w:"100%",h:"100%",position:"absolute",top:0,right:0,alignItems:"center",justifyContent:"center","& .rmg-loader__backdrop":{position:"absolute",w:"100%",h:"100%",zIndex:1500,bg:"blackAlpha.400"},"& .chakra-progress":{zIndex:2e3}}},ge=function(n){return n==="dark"?"primary.300":"primary.500"},xs={baseStyle:function(n){var e=n.theme,t=n.colorMode;return{"& .rmg-multi-select__wrapper":{position:"relative",w:"100%",h:"25.75px",transform:"translateY(1.75px)",cursor:"default"},"& .rmg-multi-select__field":{position:"relative",w:"100%",minW:0,outline:0,appearance:"none",transitionProperty:"common",transitionDuration:"normal",pb:"1px",fontSize:"sm",h:"6",borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_active:{borderColor:ge(t),boxShadow:"0px 1px 0px 0px ".concat(Ve(e,ge(t)))},_focus:{borderColor:ge(t),boxShadow:"0px 1px 0px 0px ".concat(Ve(e,ge(t)))},_focusVisible:{borderColor:ge(t),boxShadow:"0px 1px 0px 0px ".concat(Ve(e,ge(t)))},"&.active":{borderColor:ge(t),boxShadow:"0px 1px 0px 0px ".concat(Ve(e,ge(t)))},"& > span:last-of-type":{position:"absolute",right:8}},"& .rmg-multi-select__icon-wrapper":{display:"inline-flex",justifyContent:"center",w:6,h:"100%",position:"absolute",right:2,top:0,fontSize:"xl","& svg":{h:"1em",w:"1em"}},"& .chakra-popover__content":{w:"unset",minW:200},"& .chakra-popover__body":{p:0,"li label":{p:2,w:"100%",_hover:{bg:t==="dark"?"whiteAlpha.200":"gray.100"},_active:{bg:t==="dark"?"whiteAlpha.300":"gray.200"}}}}}},Dt=function(){return Dt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},Dt.apply(this,arguments)},Os={overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap"},Ss={baseStyle:function(n){var e=n.noWrap;return Dt({minH:6,fontSize:"sm"},e?Os:{textWrap:"pretty"})}},Cs={baseStyle:{position:"relative",flexDirection:"column",flex:1,overflow:"hidden",background:"inherit"}},_s={baseStyle:{alignItems:"center",flexWrap:"wrap",pl:2,pr:3,py:1,zIndex:10}},Rs={baseStyle:{position:"relative",background:"inherit"}},Es={baseStyle:{display:"flex",alignItems:"center",flexWrap:"wrap",position:"sticky",top:0,background:"inherit",px:2,py:1,zIndex:5}},js={baseStyle:function(n){var e=n.colorMode,t=n.width,r=n.alwaysOverlay;return{height:"100%",position:r?"absolute":{base:"absolute",lg:"relative"},right:r?0:{base:0,lg:"unset"},background:e==="light"?"white":"gray.800",boxShadow:"lg",flexShrink:0,flexDirection:"column",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",zIndex:5,"&.show-side-panel":{maxW:{base:"100%",sm:t},w:{base:"100%",sm:"unset"},visibility:"initial"},"& .rmg-side-panel__inner":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:t}},"& .rmg-side-panel__header":{flexShrink:0,pl:3,pr:1,py:0,"& button":{ml:"auto"}},"& .rmg-side-panel__body":{display:"flex",flexDirection:"column",flex:1,overflowY:"auto",p:1},"& .rmg-side-panel__footer":{display:"flex",justifyContent:"flex-end",p:1}}}},As={baseStyle:{h:6,alignItems:"center","& .chakra-button:first-of-type":{mr:1},"& .chakra-button:last-of-type":{ml:1}}},Ls={baseStyle:{position:"relative",flexDirection:"column",height:"100%",overflow:"hidden",background:"inherit"}},Ps={baseStyle:{px:2,alignItems:"center",zIndex:15,minH:10,transition:"0.3s ease-in-out"}},Fs={Input:At,Checkbox:In,Select:At,Slider:ds,Switch:In,Textarea:At,RmgAgGrid:fs,RmgAppClip:hs,RmgCard:gs,RmgDataTable:ps,RmgEnrichedButton:ms,RmgErrorBoundary:vs,RmgLabel:ys,RmgLineBadge:bs,RmgLoader:ws,RmgMultiSelect:xs,RmgOutput:Ss,RmgPage:Cs,RmgPageHeader:_s,RmgSection:Rs,RmgSectionHeader:Es,RmgSidePanel:js,RmgThrottledSlider:As,RmgWindow:Ls,RmgWindowHeader:Ps},kt=function(){return kt=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++){e=arguments[t];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o])}return n},kt.apply(this,arguments)},Mn="chakra-ui-color-mode",Is=function(){var n=re.getColourMode()==="system";return re.isStandaloneWindow()&&(n?window.localStorage.removeItem(Mn):window.localStorage.setItem(Mn,re.getColourMode())),{initialColorMode:"system",useSystemColorMode:n}},Ms={primary:kt({},ho.colors.teal)},Ns={global:{".mw-full":{w:"100%",flexBasis:"100%"}}},Ts=function(){return go({config:Is(),colors:Ms,styles:Ns,components:Fs})},rl=function(n){var e=n.children;return h.jsx(po,{theme:Ts(),children:h.jsx($s,{children:e})})},$s=function(n){var e=n.children,t=zn().setColorMode,r=mo();return y.useEffect(function(){console.log("[rmg-components] RMG theme is initialised with",r.config),re.onColourModeChange(function(o){if(o==="system"){var a=window.matchMedia("(prefers-color-scheme: dark)").matches;t(a?"dark":"light")}else t(o)})},[t]),h.jsx(h.Fragment,{children:e})},et={},Nn;function Ds(){if(Nn)return et;Nn=1;var n=vo();return et.createRoot=n.createRoot,et.hydrateRoot=n.hydrateRoot,et}var ol=Ds();export{rl as R,Ks as a,nl as b,ol as c,Zs as d,el as e,tl as f,qs as g,Xs as h,Us as i,Ws as j,Gs as k,Hs as l,Js as m,Qs as n,zs as o,re as r,Ys as u};
