System.register(["./chakra-legacy-CHYAEtkR.js","./react-legacy-DOz2KZ_r.js"],(function(e,t){"use strict";var n,o,r,i,s,a,l,c,u,d,p,h,g,f,m,v,y,b,x,w,S,O,k,j,C,_,R,E,L,P,A,I,N,$,M,F,D,T,U,V,z,H,W,B,K,G,J,q,Y,Q,X,Z,ee,te,ne,oe,re,ie,se,ae,le,ce,ue,de,pe,he,ge,fe;return{setters:[e=>{n=e.f,o=e.W,r=e.d,i=e.e,s=e.g,a=e.P,l=e.c,c=e.u,u=e.F,d=e.B,p=e.D,h=e.I,g=e.h,f=e.i,m=e.S,v=e.k,y=e.l,b=e.m,x=e.n,w=e.C,S=e.o,O=e.p,k=e.q,j=e.j,C=e.r,_=e.s,R=e.t,E=e.v,L=e.w,P=e.x,A=e.y,I=e.A,N=e.M,$=e.z,M=e.E,F=e.G,D=e.J,T=e.T,U=e.K,V=e.b,z=e.L,H=e.N,W=e.O,B=e.Q,K=e.R,G=e.U,J=e.V,q=e.X,Y=e.Y,Q=e.Z,X=e._,Z=e.$,ee=e.a0,te=e.a1,ne=e.a2,oe=e.a3,re=e.a4,ie=e.a5,se=e.a6,ae=e.a7,le=e.a8,ce=e.a9,ue=e.aa,de=e.ab,pe=e.ac},e=>{he=e.a,ge=e.d,fe=e.n}],execute:function(){var t=document.createElement("style");t.textContent=":root{background-color:#fff}@media (prefers-color-scheme: dark){:root{background-color:#1a202c;color:#fff}}html{height:100%}body{margin:0;overflow:hidden;height:100%;width:100%;width:-webkit-fill-available;padding:env(safe-area-inset-top,20px) env(safe-area-inset-right,20px) env(safe-area-inset-bottom,20px) env(safe-area-inset-left,20px)}div#root{height:100%;width:100%;background:inherit}*{box-sizing:border-box}\n/*$vite$:1*/",document.head.appendChild(t),e({b:function(e){var t=e.isIndeterminate,n=e.value,o=e.sx,r=nr(e,["isIndeterminate","value","sx"]),i=H("primary.500","primary.300"),s=z("RmgLoader");return j.jsxs(u,{sx:tr(tr({},s),o),children:[j.jsx("div",{className:"rmg-loader__backdrop"}),j.jsx(ae,tr({isIndeterminate:t,value:n,color:i},r))]})},k:function(e){var t=e.environment,n=e.version,o=e.popoverHeader,r=e.popoverBody,i=Eo(he.useState(!1),2),s=i[0],l=i[1];return j.jsxs(a,{isOpen:s,onOpen:function(){return o&&l(!0)},onClose:function(){return l(!1)},children:[j.jsx(_,{children:j.jsx(R,{ml:1,colorScheme:Lo(t),title:"".concat(t,": ").concat(n),cursor:o?"pointer":"help",children:t===At.PRD?n:t})}),j.jsxs(x,{children:[j.jsx(E,{}),j.jsx(L,{}),j.jsx(P,{children:o}),j.jsx(A,{children:r})]})]})},m:function(e){var t=e.defaultValue,n=e.options,o=e.disabledOptions,r=Ko(e,["defaultValue","options","disabledOptions"]),i=he.useRef(null);he.useEffect((function(){i.current&&(i.current.value=(null==t?void 0:t.toString())||"")}),[t]);var s=function(e,t){return j.jsx("option",{value:e,disabled:void 0!==(null==o?void 0:o.find((function(t){return t.toString()===e}))),children:t},e)};return j.jsx(Z,Bo({ref:i,variant:"flushed",size:"sm",h:6},r,{children:Object.entries(n).map((function(e){var t=Go(e,2),n=t[0],o=t[1];return"object"==typeof o?j.jsx("optgroup",{label:n,children:Object.entries(o).map((function(e){var t=Go(e,2),n=t[0],o=t[1];return s(n,o)}))},n):s(n,o)}))}))},n:function(e){var t=e.defaultValue,n=e.min,o=e.max,r=e.step,i=e.onThrottledChange,s=e.leftIcon,a=e.rightIcon,l=z("RmgThrottledSlider"),c=Xo(he.useState(null!=t?t:0),2),d=c[0],p=c[1];he.useEffect((function(){void 0!==t&&d!==t&&p(t)}),[t]);var h=Qo(null!=i?i:function(){},500);return j.jsxs(u,{sx:l,children:[s&&j.jsx(ne,{size:"xs",variant:"ghost","aria-label":"Drag left",icon:s,onClick:function(){var e=Math.max(d-10*(null!=r?r:1),null!=n?n:0);null==i||i(e),p(e)}}),j.jsxs(oe,{value:d,min:n,max:o,step:r,onChange:function(e){h(e),p(e)},children:[j.jsx(re,{children:j.jsx(ie,{})}),j.jsx(se,{})]}),a&&j.jsx(ne,{size:"xs",variant:"ghost","aria-label":"Drag right",icon:a,onClick:function(){var e=Math.min(d+10*(null!=r?r:1),null!=o?o:100);null==i||i(e),p(e)}})]})}});var me=function(){if("undefined"!=typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,o){return e[0]===t&&(n=o,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),o=this.__entries__[n];return o&&o[1]},t.prototype.set=function(t,n){var o=e(this.__entries__,t);~o?this.__entries__[o][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,o=e(n,t);~o&&n.splice(o,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,o=this.__entries__;n<o.length;n++){var r=o[n];e.call(t,r[1],r[0])}},t}()}(),ve="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,ye="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),be="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(ye):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)},xe=["top","right","bottom","left","width","height","size","weight"],we="undefined"!=typeof MutationObserver,Se=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,o=!1,r=0;function i(){n&&(n=!1,e()),o&&a()}function s(){be(i)}function a(){var e=Date.now();if(n){if(e-r<2)return;o=!0}else n=!0,o=!1,setTimeout(s,t);r=e}return a}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){ve&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),we?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){ve&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;xe.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),Oe=function(e,t){for(var n=0,o=Object.keys(t);n<o.length;n++){var r=o[n];Object.defineProperty(e,r,{value:t[r],enumerable:!1,writable:!1,configurable:!0})}return e},ke=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||ye},je=Pe(0,0,0,0);function Ce(e){return parseFloat(e)||0}function _e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Ce(e["border-"+n+"-width"])}),0)}function Re(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return je;var o=ke(e).getComputedStyle(e),r=function(e){for(var t={},n=0,o=["top","right","bottom","left"];n<o.length;n++){var r=o[n],i=e["padding-"+r];t[r]=Ce(i)}return t}(o),i=r.left+r.right,s=r.top+r.bottom,a=Ce(o.width),l=Ce(o.height);if("border-box"===o.boxSizing&&(Math.round(a+i)!==t&&(a-=_e(o,"left","right")+i),Math.round(l+s)!==n&&(l-=_e(o,"top","bottom")+s)),!function(e){return e===ke(e).document.documentElement}(e)){var c=Math.round(a+i)-t,u=Math.round(l+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(u)&&(l-=u)}return Pe(r.left,r.top,a,l)}var Ee="undefined"!=typeof SVGGraphicsElement?function(e){return e instanceof ke(e).SVGGraphicsElement}:function(e){return e instanceof ke(e).SVGElement&&"function"==typeof e.getBBox};function Le(e){return ve?Ee(e)?function(e){var t=e.getBBox();return Pe(0,0,t.width,t.height)}(e):Re(e):je}function Pe(e,t,n,o){return{x:e,y:t,width:n,height:o}}var Ae=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=Pe(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=Le(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),Ie=function(e,t){var n,o,r,i,s,a,l,c=(o=(n=t).x,r=n.y,i=n.width,s=n.height,a="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,l=Object.create(a.prototype),Oe(l,{x:o,y:r,width:i,height:s,top:r,right:o+i,bottom:s+r,left:o}),l);Oe(this,{target:e,contentRect:c})},Ne=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new me,"function"!=typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof ke(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new Ae(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(e instanceof ke(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new Ie(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),$e="undefined"!=typeof WeakMap?new WeakMap:new me,Me=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Se.getInstance(),o=new Ne(t,n,this);$e.set(this,o)};["observe","unobserve","disconnect"].forEach((function(e){Me.prototype[e]=function(){var t;return(t=$e.get(this))[e].apply(t,arguments)}}));var Fe=void 0!==ye.ResizeObserver?ye.ResizeObserver:Me;window.ResizeObserver||(window.ResizeObserver=Fe);var De,Te={exports:{}},Ue={};Te.exports=function(){if(De)return Ue;De=1;var e=ge,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,r=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(e,n,s){var a,l={},c=null,u=null;for(a in void 0!==s&&(c=""+s),void 0!==n.key&&(c=""+n.key),void 0!==n.ref&&(u=n.ref),n)o.call(n,a)&&!i.hasOwnProperty(a)&&(l[a]=n[a]);if(e&&e.defaultProps)for(a in n=e.defaultProps)void 0===l[a]&&(l[a]=n[a]);return{$$typeof:t,type:e,key:c,ref:u,props:l,_owner:r.current}}return Ue.Fragment=n,Ue.jsx=s,Ue.jsxs=s,Ue}();var Ve=Te.exports;const[ze,He]=function(){const e=he.createContext(void 0);return e.displayName="AutoCompleteContext",[e.Provider,function t(){var n;const o=he.useContext(e),r="useAutoCompleteContext: `context` is undefined. Seems you forgot to wrap all autoomplete components within `<AutoComplete />`";if(!o){const e=new Error(r);throw e.name="ContextError",null==(n=Error.captureStackTrace)||n.call(Error,e,t),e}return o},e]}();function We(e){return null!=e&&e.length?e[e.length-1]:void 0}function Be(e,t,n=1,o=!0){if(0===t)return-1;let r=e+n;return-1===e&&(r=n>0?0:t-1),r=o?(r%t+t)%t:Math.max(0,Math.min(r,t-1)),r}function Ke(e,t,n=!0){const o=function(e,t,n=!0){return Be(e,t,-1,n)}(e,t.length,n);return t[o]}function Ge(e){return Array.isArray(e)}function Je(e){return null!==e&&"object"==typeof e&&!Ge(e)}function qe(e){return Ge(e)?function(e){return Ge(e)&&0===e.length}(e):Je(e)?function(e){return Je(e)&&0===Object.keys(e).length}(e):null==e||""===e}function Ye(e){return typeof e>"u"}function Qe(e){return typeof e<"u"}function Xe(e,t){const n={...e};return t.forEach((e=>{delete n[e]})),n}function Ze(e,...t){return function(e){return"function"==typeof e}(e)?e(...t):e}var et=function(e,t){for(var n,o=0,r=he.Children.toArray(e);o<r.length;o++){var i=r[o];if(t(i))return i;if(null!==(n=i.props)&&void 0!==n&&n.children){var s=et(i.props.children,t);if(s)return s}}},tt=function(e,t){for(var n=0,o=t.length,r=e.length;n<o;n++,r++)e[r]=t[n];return e},nt=function(e,t){for(var n,o=[],r=0,i=he.Children.toArray(e);r<i.length;r++){var s=i[r];t(s)&&(o=tt(tt([],o),[s])),null!==(n=s.props)&&void 0!==n&&n.children&&(o=tt(tt([],o),nt(s.props.children,t)))}return o};function ot(e,t,n=2){function o(e,t){e=" ".repeat(t-1)+e.toLowerCase()+" ".repeat(t-1);let n=new Array(e.length-t+1);for(let o=0;o<n.length;o++)n[o]=e.slice(o,o+t);return n}if(null==e||!e.length||null==t||!t.length)return 0;let r=e.length<t.length?e:t,i=e.length<t.length?t:e,s=o(r,n),a=o(i,n),l=new Set(s),c=a.length,u=0;for(let d of a)l.delete(d)&&u++;return u/c}const rt=e=>{var t;return null==(t="string"==typeof e||"number"==typeof e?e:e[Object.keys(e)[0]])?void 0:t.toString()},it=(e,t)=>"string"!=typeof e||qe(t)?e:e.toString().replace(new RegExp(function(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}(t),"gi"),(e=>`<mark>${e}</mark>`)),st=(e,t,n)=>(null==t?void 0:t.toLowerCase().indexOf(null==e?void 0:e.toLowerCase()))>=0||(null==n?void 0:n.toLowerCase().indexOf(null==e?void 0:e.toLowerCase()))>=0||ot(e,t)>=.5||ot(e,n)>=.5,at=(e,t)=>et(e,(e=>{var n;return"AutoCompleteItem"===(null==(n=null==e?void 0:e.type)?void 0:n.displayName)&&e.props.value===(null==t?void 0:t.value)})),lt=(e,t)=>et(e,(e=>{var n;return"AutoCompleteItem"===(null==(n=null==e?void 0:e.type)?void 0:n.displayName)&&e.props.value===(null==t?void 0:t.value)})),ct=(e,t)=>{const n={},o={},{field:r}=e;return r&&Object.keys(r).forEach((e=>{if(!1===e.startsWith("--input"))n[e]=r[e];else{let t=r[e];const n=e.replace("--input-","").replace(/-([a-z])/g,(function(e){return e[1].toUpperCase()}));-1!==t.indexOf(".")&&(t=t.substring(t.indexOf(".")+1)),o[n]=t}})),{...t&&{...n,...o,_focusWithin:e.field._focus,pos:"relative",minH:9,py:1.5,spacing:3},cursor:"text",h:"fit-content"}};function ut(e){var t;let{prefocusFirstItem:n=!0,closeOnBlur:o=!0,creatable:r,emphasize:i,emptyState:s=!0,defaultEmptyStateProps:a={},freeSolo:l,isReadOnly:c,listAllValuesOnFocus:u,maxSuggestions:d,multiple:p,closeOnSelect:h=!p,defaultValue:g,defaultValues:f=(g?[g]:[]),onReady:m,defaultIsOpen:v,disableFilter:y,isLoading:b=!1,placement:x="bottom",restoreOnBlurIfEmpty:w=!l,shouldRenderSuggestions:j=()=>!0,submitKeys:C=[],suggestWhenEmpty:_,value:R,values:E=(R?"string"==typeof R?[R]:[...R]:void 0)}=e;l=l||!!p||e.freeSolo;const{isOpen:L,onClose:P,onOpen:A}=S({defaultIsOpen:v}),I=he.useMemo((()=>Ze(e.children,{isOpen:L,onClose:P,onOpen:A})),[e.children,L]),N=he.useMemo((()=>(e=>nt(e,(e=>{var t;return"AutoCompleteItem"===(null==(t=null==e?void 0:e.type)?void 0:t.displayName)})).map((e=>{const t=function(e){const t={};return["value","label","fixed","disabled"].forEach((n=>{n in e&&(t[n]=e[n])})),t}(e.props),{getValue:n=rt}=e.props,o=n(t.value);return{...Qe(t.label)?t:{...t,label:o},value:o,originalValue:t.value}})))(I)),[I]),$=he.useRef(null),M=he.useRef(null),F=he.useRef(null),D=he.useRef(null),[T,U]=he.useState(!1);let V="";p?V="":Ye(f)?Ye(E)||(V=E[0]):V=f[0];const[z,H]=he.useState(V??""),W=he.useMemo((()=>y?N:N.filter((t=>t.fixed||Ze(e.filter||st,z,t.value,t.label)||T)).filter(((e,t)=>!d||e.fixed||t<d))),[z,N,T,d,y]),B=r?[{value:z,noFilter:!0,creatable:!0}]:[],K=he.useMemo((()=>[...W,...B]),[W,B]),[G,J]=O({defaultValue:f.map((e=>null==e?void 0:e.toString())),value:E,onChange:t=>{const n=K.find((e=>e.value===t[0]));if(!n)return;const o=t.map((e=>K.find((t=>t.value===e))));Ze(e.onChange,p?t:t[0],p?o:n)}});he.useEffect((()=>{0===K.length&&!s&&L&&P()}),[K.length,s,L]);const[q,Y]=he.useState(n?null==(t=N[0])?void 0:t.value:null),Q=e.maxSelections||G.length+1,X=K.findIndex((e=>e.value===q)),Z=function(e,t,n=!0){return t[Be(e,t.length,1,n)]}(X,K,!!e.rollNavigation),ee=Ke(X,K,!!e.rollNavigation),te=function(e){return null==e?void 0:e[0]}(K),ne=We(K),oe=!K.some((e=>e.value===q));he.useEffect((()=>{var e;oe&&Y(n?null==(e=N[0])?void 0:e.value:null)}),[oe]),k((()=>{n&&Y(null==te?void 0:te.value)}),[z,null==te?void 0:te.value]),he.useEffect((()=>{var e;!L&&n&&Y(null==(e=N[0])?void 0:e.value)}),[L]),he.useEffect((()=>{L&&u&&U(!0)}),[L,u,U]),he.useEffect((()=>{const t=N.find((e=>e.value===q));Ze(e.onOptionFocus,{item:t,focusMethod:D.current,isNewInput:null==t?void 0:t.creatable})}),[q,e.onOptionFocus]);const re=t=>{var n,o;const r=K.find((e=>e.value===t)),i=(null==r?void 0:r.label)||(null==r?void 0:r.value);H((()=>p?"":i??"")),!G.includes(t)&&G.length<Q&&J((e=>p?[...e,t]:[t])),p&&(null==(n=$.current)||n.focus()),e.focusInputOnSelect&&(null==(o=$.current)||o.focus()),Ze(e.onSelectOption,{item:r,selectMethod:D.current,isNewInput:null==r?void 0:r.creatable}),null!=r&&r.creatable&&Ze(e.onCreateOption,{item:Xe(r,["noFilter"]),selectMethod:D.current}),h&&P()},ie=(t,n)=>{var o;J((n=>{const o=N.find((e=>e.value===t));return o?(Ze(e.onTagRemoved,t,o,n),n.filter((e=>e!==t))):n}));const r=N.find((e=>e.value===t)),i=(null==r?void 0:r.label)||(null==r?void 0:r.value);z===i&&H(""),n&&(null==(o=$.current)||o.focus())},se=p?G.map((e=>{var t;return{label:(null==(t=N.find((t=>t.value===(null==e?void 0:e.toString()))))?void 0:t.label)||e,onRemove:()=>ie(e)}})):[];return he.useEffect((()=>{Ze(m,{tags:se})}),[G]),{autoCompleteProps:e,children:I,filteredList:K,filteredResults:W,focusedValue:q,defaultEmptyStateProps:a,getEmptyStateProps:e=>{if(K.every((e=>e.noFilter))&&s&&!r)return"boolean"==typeof s?e:Ze(s,{query:z})},getGroupProps:e=>{const t=((e,t)=>Qe(et(e,(e=>{var n,o;const r=Ze((null==(n=e.props)?void 0:n.getValue)||rt,(null==(o=e.props)?void 0:o.value)||{});return t.some((e=>e.value===r))}))))(e.children,K);return{divider:{hasFirstChild:at(e.children,te),hasLastChild:lt(e.children,We(K.filter((e=>Ye(null==e?void 0:e.noFilter)))))},group:{display:t?"initial":"none"}}},getInputProps:(t,n)=>{const{onBlur:r,onChange:i,onFocus:s,onKeyDown:a,variant:l,...d}=t;return{wrapper:{ref:M,onClick:()=>{var e;null==(e=null==$?void 0:$.current)||e.focus()},...ct(n,p),...d},input:{isReadOnly:c,onFocus:t=>{Ze(s,t),e.openOnFocus&&!c&&A(),e.selectOnFocus&&t.target.select(),u&&U(!0)},onBlur:e=>{var t,n;Ze(r,e);const i=e.relatedTarget===(null==F?void 0:F.current)||(null==(t=F.current)?void 0:t.contains(e.relatedTarget)),s=null==(n=M.current)?void 0:n.contains(e.relatedTarget);if(!i&&!s&&(o&&P(),!G.includes(e.target.value)&&w)){const e=We(G),t=N.find((t=>t.value===e)),n=(null==t?void 0:t.label)||(null==t?void 0:t.value)||"";H(n)}},onChange:e=>{const t=e.target.value;Ze(i,e),H(t);const n=qe(t);!Ze(j,t)||n&&!_?P():A(),U(!1)},onKeyDown:e=>{var t;Ze(a,e),D.current="keyboard";const{key:n}=e,o=K[X];return["Enter",...C].includes(n)?(!o||null!=o&&o.disabled||!L?null==(t=$.current)||t.focus():re(null==o?void 0:o.value),void e.preventDefault()):"ArrowDown"===n?(L?Y(null==Z?void 0:Z.value):A(),void e.preventDefault()):"ArrowUp"===n?(L?Y(null==ee?void 0:ee.value):A(),void e.preventDefault()):"Tab"!==n?"Home"===n?(Y(null==te?void 0:te.value),void e.preventDefault()):"End"===n?(Y(null==ne?void 0:ne.value),void e.preventDefault()):void("Escape"===n&&(P(),e.preventDefault())):void(!L||!o||null!=o&&o.disabled?P():re(null==o?void 0:o.value))},value:z,variant:p?"unstyled":l,...d}}},getItemProps:(e,t)=>{var n;const{_fixed:o,_focus:r,children:s,disabled:a,label:l,value:c,fixed:u,getValue:d=rt,onClick:p,onMouseOver:h,sx:g,...f}=e,m=t?c:null==(n=d(c))?void 0:n.toString(),v=m===q,y=K.findIndex((e=>e.value===m))>=0,b=s||l||m;return{item:{..."string"==typeof b&&i?{dangerouslySetInnerHTML:{__html:it(b,z)}}:{children:b},"aria-selected":G.includes(m),"aria-disabled":a,_disabled:{opacity:.4,cursor:"not-allowed",userSelect:"none"},onClick:e=>{var t;Ze(p,e),a?null==(t=$.current)||t.focus():re(m)},onMouseOver:e=>{Ze(h,e),Y(m),D.current="mouse"},sx:{...g,mark:{color:"inherit",bg:"transparent",...Je(i)?i:{fontWeight:i?"extrabold":"inherit"}}},...v&&(r||{bg:"whiteAlpha.100",_light:{bg:"gray.200"}}),...u&&o,...f},root:{isValidSuggestion:y,value:m}}},inputRef:$,interactionRef:D,isLoading:b,isOpen:L,itemList:N,listRef:F,onClose:P,onOpen:A,placement:x,query:z,removeItem:ie,resetItems:e=>{var t;J([]),e&&(null==(t=$.current)||t.focus())},setQuery:H,tags:se,value:R,values:G}}n(((e,t)=>{const n=ut(e),{children:o,isOpen:r,onClose:i,onOpen:s,placement:c,resetItems:u,removeItem:d}=n;he.useImperativeHandle(t,(()=>({resetItems:u,removeItem:d})));const{matchWidth:p=!0}=n.autoCompleteProps;return Ve.jsx(ze,{value:n,children:Ve.jsx(a,{isLazy:!0,isOpen:r,onClose:i,onOpen:s,autoFocus:!1,placement:c,closeOnBlur:!0,matchWidth:p,children:Ve.jsx(l.div,{w:"full",ref:t,children:o})})})})).displayName="AutoComplete",n(((e,t)=>{const{focusedValue:n,getItemProps:o,interactionRef:r}=He(),i=he.useRef(),s=c(t,i),a=o(e),{isValidSuggestion:l,value:d}=a.root,p=n===d;he.useEffect((()=>{var e;p&&"keyboard"===r.current&&(null==(e=null==i?void 0:i.current)||e.scrollIntoView({behavior:"smooth",block:"nearest"}))}),[p,r]),he.useEffect((()=>{"string"!=typeof d&&console.warn("wow"),"string"!=typeof d&&Ye(e.getValue)&&console.error("You must define the `getValue` prop, when an Item's value is not a string")}),[]);const{children:h,dangerouslySetInnerHTML:g,...f}=a.item,m=Xe(f,["groupId"]);return l?Ve.jsx(u,{ref:s,...dt,...m,children:h||Ve.jsx("span",{dangerouslySetInnerHTML:g})}):null})).displayName="AutoCompleteItem";const dt={mx:"2",px:"2",py:"2",rounded:"md",cursor:"pointer"},pt=n(((e,t)=>{const{children:n,showDivider:o,...r}=e,i=Xe(r,["groupSibling"]),{getGroupProps:s}=He(),{group:a}=s(e),l=ft(e);return Ve.jsxs(d,{ref:t,...a,...i,children:[Ve.jsx(p,{...l.top}),n,Ve.jsx(p,{...l.bottom})]})})),ht=n(((e,t)=>Ve.jsx(u,{...gt,...e,ref:t})));pt.displayName="AutoCompleteGroup",ht.displayName="AutoCompleteGroupTitle";const gt={ml:5,my:1,fontSize:"xs",letterSpacing:"wider",fontWeight:"extrabold",textTransform:"uppercase"},ft=e=>{const{getGroupProps:t}=He(),n=e.groupSibling,{divider:{hasFirstChild:o,hasLastChild:r}}=t(e),i={my:2,borderColor:e.dividerColor};return{top:{...i,mb:4,display:!e.showDivider||o?"none":""},bottom:{...i,display:!e.showDivider||r||n?"none":""}}},mt=n(((e,t)=>{const{isLoading:n}=He(),{loadingIcon:o,...r}=e;return Ve.jsxs(h,{children:[Ve.jsx(g,{...r,ref:t}),n&&Ve.jsx(f,{children:o||Ve.jsx(m,{})})]})})),vt=n(((e,t)=>{const{autoCompleteProps:n,inputRef:r,getInputProps:i,tags:s,setQuery:a,value:l,itemList:u}=He(),{children:d,isInvalid:p,hidePlaceholder:h,...g}=e,{value:f}=g;he.useEffect((()=>{if(void 0!==l&&("string"==typeof l||l instanceof String)){const e=u.find((e=>e.value===l)),t=void 0===e?l:e.label;a(t)}}),[l]),he.useEffect((()=>{void 0!==f&&("string"==typeof f||f instanceof String)&&a(f)}),[f]);const m=v("Input",e);let{wrapper:x,input:w}=i(g,m);const{ref:S,...O}=x,k=c(t,r),j=Ze(d,{tags:s});h&&(w={...w,placeholder:Array.isArray(j)&&j.length?void 0:w.placeholder});const C=Ve.jsx(mt,{isInvalid:p,...w,ref:k}),_=Ve.jsxs(y,{"aria-invalid":p,...O,ref:S,children:[j,Ve.jsx(o,{as:mt,...w,ref:k})]});return Ve.jsx(b,{children:n.multiple?_:C})}));vt.displayName="Input",vt.id="Input";const yt=e=>{const{getEmptyStateProps:t,defaultEmptyStateProps:n}=He(),o=t(Ve.jsx(u,{...bt,...n,children:"No options found!"}));return Ve.jsx(d,{...e,children:o})},bt={fontSize:"sm",align:"center",justify:"center",fontWeight:"bold",fontStyle:"italic"},xt=["AutoCompleteGroup","AutoCompleteItem","AutoCompleteCreatable"];n(((e,t)=>{const{children:n,loadingState:o,...r}=e,{listRef:i,isLoading:s}=He(),a=c(t,i),[l,u]=(e=>{const t=ge.Children.map(e,((t,n)=>{var o;if("AutoCompleteGroup"===(null==(o=null==t?void 0:t.type)?void 0:o.displayName)){const o=ge.Children.toArray(e)[n+1];return ge.cloneElement(t,{groupSibling:!!o&&"AutoCompleteGroup"===o.type.displayName})}return t})),n=ge.Children.toArray(t).filter((e=>{var t;return!xt.includes(null==(t=null==e?void 0:e.type)?void 0:t.displayName)}));return[ge.Children.toArray(t).filter((e=>{var t;return xt.includes(null==(t=null==e?void 0:e.type)?void 0:t.displayName)})),n]})(n);return Ve.jsxs(x,{ref:a,w:"inherit",...wt,...r,children:[s&&Ve.jsx(w,{children:o||Ve.jsx(m,{size:"md"})}),!s&&Ve.jsxs(Ve.Fragment,{children:[l,Ve.jsx(yt,{}),u]})]})})).displayName="AutoCompleteList";const wt={py:"4",opacity:"0",bg:"#232934",rounded:"md",maxH:"350px",border:"none",shadow:"base",zIndex:"popover",overflowY:"auto",_light:{bg:"#ffffff"},_focus:{boxShadow:"none"}};he.memo((e=>{const{label:t,onRemove:n,disabled:a,...l}=e;return Ve.jsx(o,{children:Ve.jsxs(r,{borderRadius:"md",fontWeight:"normal",...a&&St,...l,children:[Ve.jsx(i,{children:t}),Ve.jsx(s,{onClick:()=>!a&&Ze(n),cursor:"pointer",...a&&St})]})})}));const St={cursor:"text",userSelect:"none",opacity:.4,_focus:{boxShadow:"none"}};var Ot=function(){return Ot=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ot.apply(this,arguments)},kt=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},jt=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Ct=(e("i",he.forwardRef((function(e,t){var n=e.validator,o=e.onDebouncedChange,r=e.delay,i=e.optionList,s=e.defaultValue;e.onChange;var a=kt(e,["validator","onDebouncedChange","delay","optionList","defaultValue","onChange"]),l=he.useRef(null),u=c(l,t),d=he.useRef("datalist-"+(new Date).valueOf()),p=jt(he.useState(!1),2),h=p[0],f=p[1],m=he.useRef();return he.useEffect((function(){l.current&&(l.current.value=(null==s?void 0:s.toString())||"")}),[s]),j.jsxs(j.Fragment,{children:[j.jsx(g,Ot({ref:u,list:d.current,variant:"flushed",size:"sm",h:6,onChange:function(e){var t=e.target.value;window.clearTimeout(m.current),n&&f(!n(t)),m.current=window.setTimeout((function(){null==o||o(t),m.current=void 0}),null!=r?r:500)},onBlur:function(e){var t=e.target.value;void 0!==m.current&&(window.clearTimeout(m.current),n&&f(!n(t)),null==o||o(t),m.current=void 0)},isInvalid:h},a)),i&&j.jsx("datalist",{id:d.current,children:null==i?void 0:i.map((function(e,t){return j.jsx("option",{children:e},t)}))})]})}))),function(){return Ct=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ct.apply(this,arguments)}),_t=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},Rt=(e("o",he.forwardRef((function(e,t){var n=e.onDebouncedChange,o=e.defaultValue;e.onChange;var r=_t(e,["onDebouncedChange","defaultValue","onChange"]),i=he.useRef(null),s=c(i,t),a=he.useRef();return he.useEffect((function(){i.current&&(i.current.value=(null==o?void 0:o.toString())||"")}),[o]),j.jsx(C,Ct({ref:s,variant:"flushed",size:"sm",resize:"none",onChange:function(e){var t=e.target.value;window.clearTimeout(a.current),a.current=window.setTimeout((function(){null==n||n(t)}),500)}},r))}))),function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{l(o.next(e))}catch(t){i(t)}}function a(e){try{l(o.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))});const Et=e=>new Promise((t=>{setTimeout(t,e,`Timeout after ${e/1e3} seconds`)})),Lt=e=>{let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t);return t},Pt=e=>{const t=(16777215&e).toString(16).toUpperCase();return"#"+"00000".substring(0,6-t.length)+t};var At;!function(e){e.DEV="DEV",e.UAT="UAT",e.PRD="PRD"}(At||(At={}));const It="rmg-runtime__language",Nt="rmg-runtime__colourMode",$t="rmg-runtime__allowAnalytics",Mt="rmg-unknown";let Ft=Mt,Dt=Pt(Lt(Mt));const Tt=()=>`[${Ft}]`,Ut=()=>Dt,Vt=(e,t,n)=>(...o)=>{"string"==typeof o[0]?e(`%c${t()}%c ${o[0]}`,`color: ${n()}`,"",...o.slice(1)):e(`%c${t()}%c`,`color: ${n()}`,"",...o)},zt={debug:Vt(console.debug,Tt,Ut),info:Vt(console.info,Tt,Ut),warn:Vt(console.warn,Tt,Ut),error:Vt(console.error,Tt,Ut)},Ht=()=>Ft===Mt?"[runtime]":`[runtime@${Ft}]`,Wt=Pt(Lt("runtime")),Bt=()=>Wt,Kt={setup:e=>{Ft=e,Dt=Pt(Lt(e))},logger:zt,debug:Vt(console.debug,Ht,Bt),info:Vt(console.info,Ht,Bt),warn:Vt(console.warn,Ht,Bt),error:Vt(console.error,Ht,Bt),group:Vt(console.group,Ht,Bt),groupEnd:console.groupEnd};var Gt=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{l(o.next(e))}catch(t){i(t)}}function a(e){try{l(o.throw(e))}catch(t){i(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let Jt,qt,Yt,Qt,Xt;const Zt=()=>{Jt=!1,qt=Mt,Yt="unknown",Qt=At.PRD,Xt="unknown"},en=()=>"railmapgen.github.io"===qt;Zt();const tn={loadWithTimeout:()=>Gt(void 0,void 0,void 0,(function*(){try{Kt.group("Loading config...");const e=yield Promise.race([Gt(void 0,void 0,void 0,(function*(){const e=window.location.pathname.split("/")[1],t=e?`/${e}/info.json`:"/info.json",n=yield fetch(t);if(!n.ok)throw new Error(`Failed to fetch config from ${t}`);{const e=yield n.json();Kt.info("Received info.json",e),qt=e.component,Yt=e.version,Qt=e.environment,Xt=e.instance}})),Et(1e4)]);e?Kt.error("❌ Failed to load config.",e):(Jt=!0,Kt.info("✅ Config loaded!"))}catch(e){Kt.error("❌ Failed to load config.",e)}finally{Kt.groupEnd()}})),isInitialised:()=>Jt,getComponent:()=>en()?"rmg-home":qt,getVersion:()=>Yt,getEnvironment:()=>Qt,getInstance:()=>Xt,isRMT:en,_resetConfig:Zt};function nn(...e){if(tn.getEnvironment()!==At.DEV)return window.dataLayer.push(arguments);Kt.info("Not going to send event in DEV environment",e)}window.dataLayer=window.dataLayer||[];const on={init:()=>{(()=>{const e=document.createElement("script");e.async=!0,e.src="https://www.googletagmanager.com/gtag/js?id=G-2HP8Y4MRRQ",document.head.append(e)})(),nn("js",new Date),nn("config","G-2HP8Y4MRRQ",{appName:tn.getComponent(),version:tn.getVersion(),environment:tn.getEnvironment(),instance:tn.getInstance()})},customEvent:(e,t={})=>{nn("event",e,t)}},rn={};let sn;try{sn=new BroadcastChannel("rmg-runtime-channel"),sn.onmessage=e=>{var t;const{event:n,data:o,frameId:r}=e.data;null===(t=rn[n])||void 0===t||t.forEach((e=>e(o,r)))}}catch(vr){Kt.warn("Failed to initiate broadcast channel. Some features may be unavailable.",vr)}const an={postEvent:(e,t)=>{var n;Kt.debug(`Broadcasting event ${e} with data`,t),null==sn||sn.postMessage({event:e,data:t,frameId:null===(n=window.frameElement)||void 0===n?void 0:n.id})},onMessage:(e,t)=>{var n;e in rn?null===(n=rn[e])||void 0===n||n.push(t):rn[e]=[t]}},ln="TOGGLE_NAV_MENU",cn="OPEN_APP",un="CLOSE_APP",dn="UPDATE_APP_METADATA",pn="UPDATE_URL",hn=()=>!window.frameElement,gn={isStandaloneWindow:hn,injectUITools:()=>{if(!hn()){const e=document.createElement("style");e.textContent="body{padding: 0;}",document.head.appendChild(e)}const e=document.createElement("style");var t;e.textContent=".rmg-window__header:not(.rmg-window__app-clip-header){margin-left: 40px;}",hn()||(null===(t=window.frameElement)||void 0===t?void 0:t.closest(".show-menu"))||document.head.appendChild(e),hn()||an.onMessage(ln,(t=>{if(t)try{document.head.removeChild(e)}catch(vr){Kt.warn("Unable to remove indent style from RmgWindowHeader",vr)}else document.head.appendChild(e)}))},openApp:e=>{an.postEvent(cn,e)},onAppOpen:e=>{an.onMessage(cn,e)},closeApp:e=>{an.postEvent(un,e)},onAppClose:e=>{an.onMessage(un,e)},updateAppMetadata:e=>{an.postEvent(dn,e)},onAppMetadataUpdate:e=>{an.onMessage(dn,e)},updateUrl:e=>{an.postEvent(pn,e)},onUrlUpdate:e=>{an.onMessage(pn,e)},toggleNavMenu:e=>{an.postEvent(ln,e)}},fn="SET_LANGUAGE",mn="SET_COLOUR_MODE",vn=["light","dark","system"],yn=()=>"true"===window.localStorage.getItem($t),bn={setLanguage:e=>{an.postEvent(fn,e),window.localStorage.setItem(It,e)},getLanguage:()=>window.localStorage.getItem(It)||"en",onLanguageChange:e=>{an.onMessage(fn,e)},setColourMode:e=>{vn.includes(e)&&(an.postEvent(mn,e),window.localStorage.setItem(Nt,e))},getColourMode:()=>{const e=window.localStorage.getItem(Nt);return t=e,Boolean(t&&vn.includes(t))?e:"system";var t},onColourModeChange:e=>{an.onMessage(mn,e)},isAnalyticsQADone:()=>null!==window.localStorage.getItem($t),isAllowAnalytics:yn,allowAnalytics:e=>{const t=yn();return e?(t||(window.localStorage.setItem($t,e.toString()),on.init()),{refreshRequired:!1}):t?(window.localStorage.setItem($t,e.toString()),{refreshRequired:!0}):{refreshRequired:!1}}},xn=(new Date).getTime(),wn={getMsSinceStartUp:function(){const e=tn.getComponent(),t=window.localStorage.getItem(e+"__startTime");return null===t?(new Date).getTime()-xn:(new Date).getTime()-Number(t)}},Sn={},On=()=>{const e=tn.getComponent();if(e===Mt)throw new Error("Unable to clear storage for unknown app");return e};window.addEventListener("storage",(e=>{var t;const{key:n,newValue:o}=e;n&&(null===(t=Sn[n])||void 0===t||t.forEach((e=>e(o))))}));const kn={on:(e,t)=>{var n;const o=`${On()}__${e}`;o in Sn?null===(n=Sn[o])||void 0===n||n.push(t):Sn[o]=[t]},get:e=>{const t=On();return window.localStorage.getItem(`${t}__${e}`)},getAll:()=>{const e=On(),t={};let n=0;for(;n<window.localStorage.length;){const o=window.localStorage.key(n);if(null==o?void 0:o.startsWith(e+"__")){const e=window.localStorage.getItem(o);e&&(t[o]=e)}n++}return t},set:(e,t)=>{const n=On();window.localStorage.setItem(`${n}__${e}`,t)},remove:e=>{const t=On();window.localStorage.removeItem(`${t}__${e}`)},clear:()=>{const e=On();let t=0;for(;t<window.localStorage.length;){const n=window.localStorage.key(t);(null==n?void 0:n.startsWith(e+"__"))?(window.localStorage.removeItem(n),Kt.info(`Removed item ${n}`)):t++}}},jn={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console&&console[e]&&console[e].apply(console,t)}};class Cn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.init(e,t)}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||jn,this.options=t,this.debug=t.debug}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"log","",!0)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","",!0)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"error","")}deprecate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,n,o){return o&&!this.debug?null:("string"==typeof e[0]&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new Cn(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return(e=e||this.options).prefix=e.prefix||this.prefix,new Cn(this.logger,e)}}var _n=new Cn;class Rn{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach((e=>{this.observers[e]||(this.observers[e]=new Map);const n=this.observers[e].get(t)||0;this.observers[e].set(t,n+1)})),this}off(e,t){this.observers[e]&&(t?this.observers[e].delete(t):delete this.observers[e])}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];this.observers[e]&&Array.from(this.observers[e].entries()).forEach((e=>{let[t,o]=e;for(let r=0;r<o;r++)t(...n)})),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach((t=>{let[o,r]=t;for(let i=0;i<r;i++)o.apply(o,[e,...n])}))}}const En=()=>{let e,t;const n=new Promise(((n,o)=>{e=n,t=o}));return n.resolve=e,n.reject=t,n},Ln=e=>null==e?"":""+e,Pn=/###/g,An=e=>e&&e.indexOf("###")>-1?e.replace(Pn,"."):e,In=e=>!e||"string"==typeof e,Nn=(e,t,n)=>{const o="string"!=typeof t?t:t.split(".");let r=0;for(;r<o.length-1;){if(In(e))return{};const t=An(o[r]);!e[t]&&n&&(e[t]=new n),e=Object.prototype.hasOwnProperty.call(e,t)?e[t]:{},++r}return In(e)?{}:{obj:e,k:An(o[r])}},$n=(e,t,n)=>{const{obj:o,k:r}=Nn(e,t,Object);if(void 0!==o||1===t.length)return void(o[r]=n);let i=t[t.length-1],s=t.slice(0,t.length-1),a=Nn(e,s,Object);for(;void 0===a.obj&&s.length;)i=`${s[s.length-1]}.${i}`,s=s.slice(0,s.length-1),a=Nn(e,s,Object),a&&a.obj&&void 0!==a.obj[`${a.k}.${i}`]&&(a.obj=void 0);a.obj[`${a.k}.${i}`]=n},Mn=(e,t)=>{const{obj:n,k:o}=Nn(e,t);if(n)return n[o]},Fn=(e,t,n)=>{for(const o in t)"__proto__"!==o&&"constructor"!==o&&(o in e?"string"==typeof e[o]||e[o]instanceof String||"string"==typeof t[o]||t[o]instanceof String?n&&(e[o]=t[o]):Fn(e[o],t[o],n):e[o]=t[o]);return e},Dn=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Tn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Un=e=>"string"==typeof e?e.replace(/[&<>"'\/]/g,(e=>Tn[e])):e,Vn=[" ",",","?","!",";"],zn=new class{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(void 0!==t)return t;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}(20),Hn=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(!e)return;if(e[t])return e[t];const o=t.split(n);let r=e;for(let i=0;i<o.length;){if(!r||"object"!=typeof r)return;let e,t="";for(let s=i;s<o.length;++s)if(s!==i&&(t+=n),t+=o[s],e=r[t],void 0!==e){if(["string","number","boolean"].indexOf(typeof e)>-1&&s<o.length-1)continue;i+=s-i+1;break}r=e}return r},Wn=e=>e&&e.indexOf("_")>0?e.replace("_","-"):e;class Bn extends Rn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),void 0===this.options.ignoreJSONStructure&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=void 0!==o.keySeparator?o.keySeparator:this.options.keySeparator,i=void 0!==o.ignoreJSONStructure?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let s;e.indexOf(".")>-1?s=e.split("."):(s=[e,t],n&&(Array.isArray(n)?s.push(...n):"string"==typeof n&&r?s.push(...n.split(r)):s.push(n)));const a=Mn(this.data,s);return!a&&!t&&!n&&e.indexOf(".")>-1&&(e=s[0],t=s[1],n=s.slice(2).join(".")),a||!i||"string"!=typeof n?a:Hn(this.data&&this.data[e]&&this.data[e][t],n,r)}addResource(e,t,n,o){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1};const i=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator;let s=[e,t];n&&(s=s.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(s=e.split("."),o=t,t=s[1]),this.addNamespaces(t),$n(this.data,s,o),r.silent||this.emit("added",e,t,n,o)}addResources(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(const r in n)("string"==typeof n[r]||Array.isArray(n[r]))&&this.addResource(e,t,r,n[r],{silent:!0});o.silent||this.emit("added",e,t,n)}addResourceBundle(e,t,n,o,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1,skipCopy:!1},s=[e,t];e.indexOf(".")>-1&&(s=e.split("."),o=n,n=t,t=s[1]),this.addNamespaces(t);let a=Mn(this.data,s)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),o?Fn(a,n,r):a={...a,...n},$n(this.data,s,a),i.silent||this.emit("added",e,t,n)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return void 0!==this.getResource(e,t)}getResourceBundle(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?{...this.getResource(e,t)}:this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find((e=>t[e]&&Object.keys(t[e]).length>0))}toJSON(){return this.data}}var Kn={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,o,r){return e.forEach((e=>{this.processors[e]&&(t=this.processors[e].process(t,n,o,r))})),t}};const Gn={};class Jn extends Rn{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n,o;super(),n=e,o=this,["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"].forEach((e=>{n[e]&&(o[e]=n[e])})),this.options=t,void 0===this.options.keySeparator&&(this.options.keySeparator="."),this.logger=_n.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}};if(null==e)return!1;const n=this.resolve(e,t);return n&&void 0!==n.res}extractFromKey(e,t){let n=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===n&&(n=":");const o=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator;let r=t.ns||this.options.defaultNS||[];const i=n&&e.indexOf(n)>-1,s=!(this.options.userDefinedKeySeparator||t.keySeparator||this.options.userDefinedNsSeparator||t.nsSeparator||((e,t,n)=>{t=t||"",n=n||"";const o=Vn.filter((e=>t.indexOf(e)<0&&n.indexOf(e)<0));if(0===o.length)return!0;const r=zn.getRegExp(`(${o.map((e=>"?"===e?"\\?":e)).join("|")})`);let i=!r.test(e);if(!i){const t=e.indexOf(n);t>0&&!r.test(e.substring(0,t))&&(i=!0)}return i})(e,n,o));if(i&&!s){const t=e.match(this.interpolator.nestingRegexp);if(t&&t.length>0)return{key:e,namespaces:r};const i=e.split(n);(n!==o||n===o&&this.options.ns.indexOf(i[0])>-1)&&(r=i.shift()),e=i.join(o)}return"string"==typeof r&&(r=[r]),{key:e,namespaces:r}}translate(e,t,n){if("object"!=typeof t&&this.options.overloadTranslationOptionHandler&&(t=this.options.overloadTranslationOptionHandler(arguments)),"object"==typeof t&&(t={...t}),t||(t={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);const o=void 0!==t.returnDetails?t.returnDetails:this.options.returnDetails,r=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,{key:i,namespaces:s}=this.extractFromKey(e[e.length-1],t),a=s[s.length-1],l=t.lng||this.language,c=t.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(l&&"cimode"===l.toLowerCase()){if(c){const e=t.nsSeparator||this.options.nsSeparator;return o?{res:`${a}${e}${i}`,usedKey:i,exactUsedKey:i,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:`${a}${e}${i}`}return o?{res:i,usedKey:i,exactUsedKey:i,usedLng:l,usedNS:a,usedParams:this.getUsedParamsDetails(t)}:i}const u=this.resolve(e,t);let d=u&&u.res;const p=u&&u.usedKey||i,h=u&&u.exactUsedKey||i,g=Object.prototype.toString.apply(d),f=void 0!==t.joinArrays?t.joinArrays:this.options.joinArrays,m=!this.i18nFormat||this.i18nFormat.handleAsObject;if(m&&d&&"string"!=typeof d&&"boolean"!=typeof d&&"number"!=typeof d&&["[object Number]","[object Function]","[object RegExp]"].indexOf(g)<0&&("string"!=typeof f||!Array.isArray(d))){if(!t.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const e=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,d,{...t,ns:s}):`key '${i} (${this.language})' returned an object instead of string.`;return o?(u.res=e,u.usedParams=this.getUsedParamsDetails(t),u):e}if(r){const e=Array.isArray(d),n=e?[]:{},o=e?h:p;for(const i in d)if(Object.prototype.hasOwnProperty.call(d,i)){const e=`${o}${r}${i}`;n[i]=this.translate(e,{...t,joinArrays:!1,ns:s}),n[i]===e&&(n[i]=d[i])}d=n}}else if(m&&"string"==typeof f&&Array.isArray(d))d=d.join(f),d&&(d=this.extendTranslation(d,e,t,n));else{let o=!1,s=!1;const c=void 0!==t.count&&"string"!=typeof t.count,p=Jn.hasDefaultValue(t),h=c?this.pluralResolver.getSuffix(l,t.count,t):"",g=t.ordinal&&c?this.pluralResolver.getSuffix(l,t.count,{ordinal:!1}):"",f=c&&!t.ordinal&&0===t.count&&this.pluralResolver.shouldUseIntlApi(),m=f&&t[`defaultValue${this.options.pluralSeparator}zero`]||t[`defaultValue${h}`]||t[`defaultValue${g}`]||t.defaultValue;!this.isValidLookup(d)&&p&&(o=!0,d=m),this.isValidLookup(d)||(s=!0,d=i);const v=(t.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&s?void 0:d,y=p&&m!==d&&this.options.updateMissing;if(s||o||y){if(this.logger.log(y?"updateKey":"missingKey",l,a,i,y?m:d),r){const e=this.resolve(i,{...t,keySeparator:!1});e&&e.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let e=[];const n=this.languageUtils.getFallbackCodes(this.options.fallbackLng,t.lng||this.language);if("fallback"===this.options.saveMissingTo&&n&&n[0])for(let t=0;t<n.length;t++)e.push(n[t]);else"all"===this.options.saveMissingTo?e=this.languageUtils.toResolveHierarchy(t.lng||this.language):e.push(t.lng||this.language);const o=(e,n,o)=>{const r=p&&o!==d?o:v;this.options.missingKeyHandler?this.options.missingKeyHandler(e,a,n,r,y,t):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(e,a,n,r,y,t),this.emit("missingKey",e,a,n,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&c?e.forEach((e=>{const n=this.pluralResolver.getSuffixes(e,t);f&&t[`defaultValue${this.options.pluralSeparator}zero`]&&n.indexOf(`${this.options.pluralSeparator}zero`)<0&&n.push(`${this.options.pluralSeparator}zero`),n.forEach((n=>{o([e],i+n,t[`defaultValue${n}`]||m)}))})):o(e,i,m))}d=this.extendTranslation(d,e,t,u,n),s&&d===i&&this.options.appendNamespaceToMissingKey&&(d=`${a}:${i}`),(s||o)&&this.options.parseMissingKeyHandler&&(d="v1"!==this.options.compatibilityAPI?this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${a}:${i}`:i,o?d:void 0):this.options.parseMissingKeyHandler(d))}return o?(u.res=d,u.usedParams=this.getUsedParamsDetails(t),u):d}extendTranslation(e,t,n,o,r){var i=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const s="string"==typeof e&&(n&&n.interpolation&&void 0!==n.interpolation.skipOnVariables?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let a;if(s){const t=e.match(this.interpolator.nestingRegexp);a=t&&t.length}let l=n.replace&&"string"!=typeof n.replace?n.replace:n;if(this.options.interpolation.defaultVariables&&(l={...this.options.interpolation.defaultVariables,...l}),e=this.interpolator.interpolate(e,l,n.lng||this.language||o.usedLng,n),s){const t=e.match(this.interpolator.nestingRegexp);a<(t&&t.length)&&(n.nest=!1)}!n.lng&&"v1"!==this.options.compatibilityAPI&&o&&o.res&&(n.lng=this.language||o.usedLng),!1!==n.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,o=new Array(e),s=0;s<e;s++)o[s]=arguments[s];return r&&r[0]===o[0]&&!n.context?(i.logger.warn(`It seems you are nesting recursively key: ${o[0]} in key: ${t[0]}`),null):i.translate(...o,t)}),n)),n.interpolation&&this.interpolator.reset()}const s=n.postProcess||this.options.postProcess,a="string"==typeof s?[s]:s;return null!=e&&a&&a.length&&!1!==n.applyPostProcessor&&(e=Kn.handle(a,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let t,n,o,r,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((e=>{if(this.isValidLookup(t))return;const a=this.extractFromKey(e,s),l=a.key;n=l;let c=a.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const u=void 0!==s.count&&"string"!=typeof s.count,d=u&&!s.ordinal&&0===s.count&&this.pluralResolver.shouldUseIntlApi(),p=void 0!==s.context&&("string"==typeof s.context||"number"==typeof s.context)&&""!==s.context,h=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);c.forEach((e=>{this.isValidLookup(t)||(i=e,!Gn[`${h[0]}-${e}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(i)&&(Gn[`${h[0]}-${e}`]=!0,this.logger.warn(`key "${n}" for languages "${h.join(", ")}" won't get resolved as namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach((n=>{if(this.isValidLookup(t))return;r=n;const i=[l];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(i,l,n,e,s);else{let e;u&&(e=this.pluralResolver.getSuffix(n,s.count,s));const t=`${this.options.pluralSeparator}zero`,o=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(i.push(l+e),s.ordinal&&0===e.indexOf(o)&&i.push(l+e.replace(o,this.options.pluralSeparator)),d&&i.push(l+t)),p){const n=`${l}${this.options.contextSeparator}${s.context}`;i.push(n),u&&(i.push(n+e),s.ordinal&&0===e.indexOf(o)&&i.push(n+e.replace(o,this.options.pluralSeparator)),d&&i.push(n+t))}}let a;for(;a=i.pop();)this.isValidLookup(t)||(o=a,t=this.getResource(n,e,a,s))})))}))})),{res:t,usedKey:n,exactUsedKey:o,usedLng:r,usedNS:i}}isValidLookup(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}getResource(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,n,o):this.resourceStore.getResource(e,t,n,o)}getUsedParamsDetails(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&"string"!=typeof e.replace;let o=n?e.replace:e;if(n&&void 0!==e.count&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!n){o={...o};for(const e of t)delete o[e]}return o}static hasDefaultValue(e){const t="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t===n.substring(0,12)&&void 0!==e[n])return!0;return!1}}const qn=e=>e.charAt(0).toUpperCase()+e.slice(1);class Yn{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=_n.create("languageUtils")}getScriptPartFromCode(e){if(!(e=Wn(e))||e.indexOf("-")<0)return null;const t=e.split("-");return 2===t.length?null:(t.pop(),"x"===t[t.length-1].toLowerCase()?null:this.formatLanguageCode(t.join("-")))}getLanguagePartFromCode(e){if(!(e=Wn(e))||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if("string"==typeof e&&e.indexOf("-")>-1){const t=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map((e=>e.toLowerCase())):2===n.length?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=qn(n[1].toLowerCase()))):3===n.length&&(n[0]=n[0].toLowerCase(),2===n[1].length&&(n[1]=n[1].toUpperCase()),"sgn"!==n[0]&&2===n[2].length&&(n[2]=n[2].toUpperCase()),t.indexOf(n[1].toLowerCase())>-1&&(n[1]=qn(n[1].toLowerCase())),t.indexOf(n[2].toLowerCase())>-1&&(n[2]=qn(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach((e=>{if(t)return;const n=this.formatLanguageCode(e);this.options.supportedLngs&&!this.isSupportedCode(n)||(t=n)})),!t&&this.options.supportedLngs&&e.forEach((e=>{if(t)return;const n=this.getLanguagePartFromCode(e);if(this.isSupportedCode(n))return t=n;t=this.options.supportedLngs.find((e=>e===n?e:e.indexOf("-")<0&&n.indexOf("-")<0?void 0:e.indexOf("-")>0&&n.indexOf("-")<0&&e.substring(0,e.indexOf("-"))===n||0===e.indexOf(n)&&n.length>1?e:void 0))})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let n=e[t];return n||(n=e[this.getScriptPartFromCode(t)]),n||(n=e[this.formatLanguageCode(t)]),n||(n=e[this.getLanguagePartFromCode(t)]),n||(n=e.default),n||[]}toResolveHierarchy(e,t){const n=this.getFallbackCodes(t||this.options.fallbackLng||[],e),o=[],r=e=>{e&&(this.isSupportedCode(e)?o.push(e):this.logger.warn(`rejecting language code not found in supportedLngs: ${e}`))};return"string"==typeof e&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?("languageOnly"!==this.options.load&&r(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&r(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&r(this.getLanguagePartFromCode(e))):"string"==typeof e&&r(this.formatLanguageCode(e)),n.forEach((e=>{o.indexOf(e)<0&&r(this.formatLanguageCode(e))})),o}}let Qn=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Xn={1:e=>Number(e>1),2:e=>Number(1!=e),3:e=>0,4:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),5:e=>Number(0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5),6:e=>Number(1==e?0:e>=2&&e<=4?1:2),7:e=>Number(1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2),8:e=>Number(1==e?0:2==e?1:8!=e&&11!=e?2:3),9:e=>Number(e>=2),10:e=>Number(1==e?0:2==e?1:e<7?2:e<11?3:4),11:e=>Number(1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3),12:e=>Number(e%10!=1||e%100==11),13:e=>Number(0!==e),14:e=>Number(1==e?0:2==e?1:3==e?2:3),15:e=>Number(e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2),16:e=>Number(e%10==1&&e%100!=11?0:0!==e?1:2),17:e=>Number(1==e||e%10==1&&e%100!=11?0:1),18:e=>Number(0==e?0:1==e?1:2),19:e=>Number(1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3),20:e=>Number(1==e?0:0==e||e%100>0&&e%100<20?1:2),21:e=>Number(e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0),22:e=>Number(1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3)};const Zn=["v1","v2","v3"],eo=["v4"],to={zero:0,one:1,two:2,few:3,many:4,other:5};class no{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.languageUtils=e,this.options=t,this.logger=_n.create("pluralResolver"),this.options.compatibilityJSON&&!eo.includes(this.options.compatibilityJSON)||"undefined"!=typeof Intl&&Intl.PluralRules||(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=(()=>{const e={};return Qn.forEach((t=>{t.lngs.forEach((n=>{e[n]={numbers:t.nr,plurals:Xn[t.fc]}}))})),e})(),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.shouldUseIntlApi())try{const n=Wn("dev"===e?"en":e),o=t.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:o});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];const i=new Intl.PluralRules(n,{type:o});return this.pluralRulesCache[r]=i,i}catch(n){return}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.getSuffixes(e,n).map((e=>`${t}${e}`))}getSuffixes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.getRule(e,t);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort(((e,t)=>to[e]-to[t])).map((e=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${e}`)):n.numbers.map((n=>this.getSuffix(e,n,t))):[]}getSuffix(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=this.getRule(e,n);return o?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${o.select(t)}`:this.getSuffixRetroCompatible(o,t):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,t){const n=e.noAbs?e.plurals(t):e.plurals(Math.abs(t));let o=e.numbers[n];this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]&&(2===o?o="plural":1===o&&(o=""));const r=()=>this.options.prepend&&o.toString()?this.options.prepend+o.toString():o.toString();return"v1"===this.options.compatibilityJSON?1===o?"":"number"==typeof o?`_plural_${o.toString()}`:r():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===e.numbers.length&&1===e.numbers[0]?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Zn.includes(this.options.compatibilityJSON)}}const oo=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:".",r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=((e,t,n)=>{const o=Mn(e,n);return void 0!==o?o:Mn(t,n)})(e,t,n);return!i&&r&&"string"==typeof n&&(i=Hn(e,n,o),void 0===i&&(i=Hn(t,n,o))),i},ro=e=>e.replace(/\$/g,"$$$$");class io{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=_n.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(e=>e),this.init(e)}init(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:n,useRawValueToEscape:o,prefix:r,prefixEscaped:i,suffix:s,suffixEscaped:a,formatSeparator:l,unescapeSuffix:c,unescapePrefix:u,nestingPrefix:d,nestingPrefixEscaped:p,nestingSuffix:h,nestingSuffixEscaped:g,nestingOptionsSeparator:f,maxReplaces:m,alwaysFormat:v}=e.interpolation;this.escape=void 0!==t?t:Un,this.escapeValue=void 0===n||n,this.useRawValueToEscape=void 0!==o&&o,this.prefix=r?Dn(r):i||"{{",this.suffix=s?Dn(s):a||"}}",this.formatSeparator=l||",",this.unescapePrefix=c?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?Dn(d):p||Dn("$t("),this.nestingSuffix=h?Dn(h):g||Dn(")"),this.nestingOptionsSeparator=f||",",this.maxReplaces=m||1e3,this.alwaysFormat=void 0!==v&&v,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(e,t)=>e&&e.source===t?(e.lastIndex=0,e):new RegExp(t,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,n,o){let r,i,s;const a=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},l=e=>{if(e.indexOf(this.formatSeparator)<0){const r=oo(t,a,e,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(r,void 0,n,{...o,...t,interpolationkey:e}):r}const r=e.split(this.formatSeparator),i=r.shift().trim(),s=r.join(this.formatSeparator).trim();return this.format(oo(t,a,i,this.options.keySeparator,this.options.ignoreJSONStructure),s,n,{...o,...t,interpolationkey:i})};this.resetRegExp();const c=o&&o.missingInterpolationHandler||this.options.missingInterpolationHandler,u=o&&o.interpolation&&void 0!==o.interpolation.skipOnVariables?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:e=>ro(e)},{regex:this.regexp,safeValue:e=>this.escapeValue?ro(this.escape(e)):ro(e)}].forEach((t=>{for(s=0;r=t.regex.exec(e);){const n=r[1].trim();if(i=l(n),void 0===i)if("function"==typeof c){const t=c(e,r,o);i="string"==typeof t?t:""}else if(o&&Object.prototype.hasOwnProperty.call(o,n))i="";else{if(u){i=r[0];continue}this.logger.warn(`missed to pass in variable ${n} for interpolating ${e}`),i=""}else"string"==typeof i||this.useRawValueToEscape||(i=Ln(i));const a=t.safeValue(i);if(e=e.replace(r[0],a),u?(t.regex.lastIndex+=i.length,t.regex.lastIndex-=r[0].length):t.regex.lastIndex=0,s++,s>=this.maxReplaces)break}})),e}nest(e,t){let n,o,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=(e,t)=>{const n=this.nestingOptionsSeparator;if(e.indexOf(n)<0)return e;const o=e.split(new RegExp(`${n}[ ]*{`));let i=`{${o[1]}`;e=o[0],i=this.interpolate(i,r);const s=i.match(/'/g),a=i.match(/"/g);(s&&s.length%2==0&&!a||a.length%2!=0)&&(i=i.replace(/'/g,'"'));try{r=JSON.parse(i),t&&(r={...t,...r})}catch(vr){return this.logger.warn(`failed parsing options string in nesting for key ${e}`,vr),`${e}${n}${i}`}return r.defaultValue&&r.defaultValue.indexOf(this.prefix)>-1&&delete r.defaultValue,e};for(;n=this.nestingRegexp.exec(e);){let a=[];r={...i},r=r.replace&&"string"!=typeof r.replace?r.replace:r,r.applyPostProcessor=!1,delete r.defaultValue;let l=!1;if(-1!==n[0].indexOf(this.formatSeparator)&&!/{.*}/.test(n[1])){const e=n[1].split(this.formatSeparator).map((e=>e.trim()));n[1]=e.shift(),a=e,l=!0}if(o=t(s.call(this,n[1].trim(),r),r),o&&n[0]===e&&"string"!=typeof o)return o;"string"!=typeof o&&(o=Ln(o)),o||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),o=""),l&&(o=a.reduce(((e,t)=>this.format(e,t,i.lng,{...i,interpolationkey:n[1].trim()})),o.trim())),e=e.replace(n[0],o),this.regexp.lastIndex=0}return e}}const so=e=>{const t={};return(n,o,r)=>{let i=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(i={...i,[r.interpolationkey]:void 0});const s=o+JSON.stringify(i);let a=t[s];return a||(a=e(Wn(o),r),t[s]=a),a(n)}};class ao{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.logger=_n.create("formatter"),this.options=e,this.formats={number:so(((e,t)=>{const n=new Intl.NumberFormat(e,{...t});return e=>n.format(e)})),currency:so(((e,t)=>{const n=new Intl.NumberFormat(e,{...t,style:"currency"});return e=>n.format(e)})),datetime:so(((e,t)=>{const n=new Intl.DateTimeFormat(e,{...t});return e=>n.format(e)})),relativetime:so(((e,t)=>{const n=new Intl.RelativeTimeFormat(e,{...t});return e=>n.format(e,t.range||"day")})),list:so(((e,t)=>{const n=new Intl.ListFormat(e,{...t});return e=>n.format(e)}))},this.init(e)}init(e){const t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}}).interpolation;this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||","}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=so(t)}format(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const r=t.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find((e=>e.indexOf(")")>-1))){const e=r.findIndex((e=>e.indexOf(")")>-1));r[0]=[r[0],...r.splice(1,e)].join(this.formatSeparator)}return r.reduce(((e,t)=>{const{formatName:r,formatOptions:i}=(e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const o=e.split("(");t=o[0].toLowerCase().trim();const r=o[1].substring(0,o[1].length-1);"currency"===t&&r.indexOf(":")<0?n.currency||(n.currency=r.trim()):"relativetime"===t&&r.indexOf(":")<0?n.range||(n.range=r.trim()):r.split(";").forEach((e=>{if(e){const[t,...o]=e.split(":"),r=o.join(":").trim().replace(/^'+|'+$/g,""),i=t.trim();n[i]||(n[i]=r),"false"===r&&(n[i]=!1),"true"===r&&(n[i]=!0),isNaN(r)||(n[i]=parseInt(r,10))}}))}return{formatName:t,formatOptions:n}})(t);if(this.formats[r]){let t=e;try{const s=o&&o.formatParams&&o.formatParams[o.interpolationkey]||{},a=s.locale||s.lng||o.locale||o.lng||n;t=this.formats[r](e,a,{...i,...o,...s})}catch(s){this.logger.warn(s)}return t}return this.logger.warn(`there was no format function for ${r}`),e}),e)}}class lo extends Rn{constructor(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};super(),this.backend=e,this.store=t,this.services=n,this.languageUtils=n.languageUtils,this.options=o,this.logger=_n.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,o.backend,o)}queueLoad(e,t,n,o){const r={},i={},s={},a={};return e.forEach((e=>{let o=!0;t.forEach((t=>{const s=`${e}|${t}`;!n.reload&&this.store.hasResourceBundle(e,t)?this.state[s]=2:this.state[s]<0||(1===this.state[s]?void 0===i[s]&&(i[s]=!0):(this.state[s]=1,o=!1,void 0===i[s]&&(i[s]=!0),void 0===r[s]&&(r[s]=!0),void 0===a[t]&&(a[t]=!0)))})),o||(s[e]=!0)})),(Object.keys(r).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(r),pending:Object.keys(i),toLoadLanguages:Object.keys(s),toLoadNamespaces:Object.keys(a)}}loaded(e,t,n){const o=e.split("|"),r=o[0],i=o[1];t&&this.emit("failedLoading",r,i,t),!t&&n&&this.store.addResourceBundle(r,i,n,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&n&&(this.state[e]=0);const s={};this.queue.forEach((n=>{((e,t,n)=>{const{obj:o,k:r}=Nn(e,t,Object);o[r]=o[r]||[],o[r].push(n)})(n.loaded,[r],i),((e,t)=>{void 0!==e.pending[t]&&(delete e.pending[t],e.pendingCount--)})(n,e),t&&n.errors.push(t),0!==n.pendingCount||n.done||(Object.keys(n.loaded).forEach((e=>{s[e]||(s[e]={});const t=n.loaded[e];t.length&&t.forEach((t=>{void 0===s[e][t]&&(s[e][t]=!0)}))})),n.done=!0,n.errors.length?n.callback(n.errors):n.callback())})),this.emit("loaded",s),this.queue=this.queue.filter((e=>!e.done))}read(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.retryTimeout,i=arguments.length>5?arguments[5]:void 0;if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads)return void this.waitingReads.push({lng:e,ns:t,fcName:n,tried:o,wait:r,callback:i});this.readingCalls++;const s=(s,a)=>{if(this.readingCalls--,this.waitingReads.length>0){const e=this.waitingReads.shift();this.read(e.lng,e.ns,e.fcName,e.tried,e.wait,e.callback)}s&&a&&o<this.maxRetries?setTimeout((()=>{this.read.call(this,e,t,n,o+1,2*r,i)}),r):i(s,a)},a=this.backend[n].bind(this.backend);if(2!==a.length)return a(e,t,s);try{const n=a(e,t);n&&"function"==typeof n.then?n.then((e=>s(null,e))).catch(s):s(null,n)}catch(l){s(l)}}prepareLoading(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);const r=this.queueLoad(e,t,n,o);if(!r.toLoad.length)return r.pending.length||o(),null;r.toLoad.forEach((e=>{this.loadOne(e)}))}load(e,t,n){this.prepareLoading(e,t,{},n)}reload(e,t,n){this.prepareLoading(e,t,{reload:!0},n)}loadOne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e.split("|"),o=n[0],r=n[1];this.read(o,r,"read",void 0,void 0,((n,i)=>{n&&this.logger.warn(`${t}loading namespace ${r} for language ${o} failed`,n),!n&&i&&this.logger.log(`${t}loaded namespace ${r} for language ${o}`,i),this.loaded(e,n,i)}))}saveMissing(e,t,n,o,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t))this.logger.warn(`did not save key "${n}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");else if(null!=n&&""!==n){if(this.backend&&this.backend.create){const l={...i,isUpdate:r},c=this.backend.create.bind(this.backend);if(c.length<6)try{let r;r=5===c.length?c(e,t,n,o,l):c(e,t,n,o),r&&"function"==typeof r.then?r.then((e=>s(null,e))).catch(s):s(null,r)}catch(a){s(a)}else c(e,t,n,o,s,l)}e&&e[0]&&this.store.addResource(e[0],t,n,o)}}}const co=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if("object"==typeof e[1]&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"==typeof e[2]||"object"==typeof e[3]){const n=e[3]||e[2];Object.keys(n).forEach((e=>{t[e]=n[e]}))}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),uo=e=>("string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e),po=()=>{};class ho extends Rn{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;var n;if(super(),this.options=uo(e),this.services={},this.logger=_n,this.modules={external:[]},n=this,Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach((e=>{"function"==typeof n[e]&&(n[e]=n[e].bind(n))})),t&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,t),this;setTimeout((()=>{this.init(e,t)}),0)}}init(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,"function"==typeof t&&(n=t,t={}),!t.defaultNS&&!1!==t.defaultNS&&t.ns&&("string"==typeof t.ns?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const o=co();this.options={...o,...this.options,...uo(t)},"v1"!==this.options.compatibilityAPI&&(this.options.interpolation={...o.interpolation,...this.options.interpolation}),void 0!==t.keySeparator&&(this.options.userDefinedKeySeparator=t.keySeparator),void 0!==t.nsSeparator&&(this.options.userDefinedNsSeparator=t.nsSeparator);const r=e=>e?"function"==typeof e?new e:e:null;if(!this.options.isClone){let t;this.modules.logger?_n.init(r(this.modules.logger),this.options):_n.init(null,this.options),this.modules.formatter?t=this.modules.formatter:"undefined"!=typeof Intl&&(t=ao);const n=new Yn(this.options);this.store=new Bn(this.options.resources,this.options);const i=this.services;i.logger=_n,i.resourceStore=this.store,i.languageUtils=n,i.pluralResolver=new no(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),!t||this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format||(i.formatter=r(t),i.formatter.init(i,this.options),this.options.interpolation.format=i.formatter.format.bind(i.formatter)),i.interpolator=new io(this.options),i.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},i.backendConnector=new lo(r(this.modules.backend),i.resourceStore,i,this.options),i.backendConnector.on("*",(function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];e.emit(t,...o)})),this.modules.languageDetector&&(i.languageDetector=r(this.modules.languageDetector),i.languageDetector.init&&i.languageDetector.init(i,this.options.detection,this.options)),this.modules.i18nFormat&&(i.i18nFormat=r(this.modules.i18nFormat),i.i18nFormat.init&&i.i18nFormat.init(this)),this.translator=new Jn(this.services,this.options),this.translator.on("*",(function(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];e.emit(t,...o)})),this.modules.external.forEach((e=>{e.init&&e.init(this)}))}if(this.format=this.options.interpolation.format,n||(n=po),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const e=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);e.length>0&&"dev"!==e[0]&&(this.options.lng=e[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((t=>{this[t]=function(){return e.store[t](...arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((t=>{this[t]=function(){return e.store[t](...arguments),e}}));const i=En(),s=()=>{const e=(e,t)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),i.resolve(t),n(e,t)};if(this.languages&&"v1"!==this.options.compatibilityAPI&&!this.isInitialized)return e(null,this.t.bind(this));this.changeLanguage(this.options.lng,e)};return this.options.resources||!this.options.initImmediate?s():setTimeout(s,0),i}loadResources(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:po;const n="string"==typeof e?e:this.language;if("function"==typeof e&&(t=e),!this.options.resources||this.options.partialBundledLanguages){if(n&&"cimode"===n.toLowerCase()&&(!this.options.preload||0===this.options.preload.length))return t();const e=[],o=t=>{t&&"cimode"!==t&&this.services.languageUtils.toResolveHierarchy(t).forEach((t=>{"cimode"!==t&&e.indexOf(t)<0&&e.push(t)}))};n?o(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((e=>o(e))),this.options.preload&&this.options.preload.forEach((e=>o(e))),this.services.backendConnector.load(e,this.options.ns,(e=>{e||this.resolvedLanguage||!this.language||this.setResolvedLanguage(this.language),t(e)}))}else t(null)}reloadResources(e,t,n){const o=En();return"function"==typeof e&&(n=e,e=void 0),"function"==typeof t&&(n=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),n||(n=po),this.services.backendConnector.reload(e,t,(e=>{o.resolve(),n(e)})),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&Kn.addPostProcessor(e),"formatter"===e.type&&(this.modules.formatter=e),"3rdParty"===e.type&&this.modules.external.push(e),this}setResolvedLanguage(e){if(e&&this.languages&&!(["cimode","dev"].indexOf(e)>-1))for(let t=0;t<this.languages.length;t++){const e=this.languages[t];if(!(["cimode","dev"].indexOf(e)>-1)&&this.store.hasLanguageSomeTranslations(e)){this.resolvedLanguage=e;break}}}changeLanguage(e,t){var n=this;this.isLanguageChangingTo=e;const o=En();this.emit("languageChanging",e);const r=e=>{this.language=e,this.languages=this.services.languageUtils.toResolveHierarchy(e),this.resolvedLanguage=void 0,this.setResolvedLanguage(e)},i=(e,i)=>{i?(r(i),this.translator.changeLanguage(i),this.isLanguageChangingTo=void 0,this.emit("languageChanged",i),this.logger.log("languageChanged",i)):this.isLanguageChangingTo=void 0,o.resolve((function(){return n.t(...arguments)})),t&&t(e,(function(){return n.t(...arguments)}))},s=t=>{e||t||!this.services.languageDetector||(t=[]);const n="string"==typeof t?t:this.services.languageUtils.getBestMatchFromCodes(t);n&&(this.language||r(n),this.translator.language||this.translator.changeLanguage(n),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(n)),this.loadResources(n,(e=>{i(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?0===this.services.languageDetector.detect.length?this.services.languageDetector.detect().then(s):this.services.languageDetector.detect(s):s(e):s(this.services.languageDetector.detect()),o}getFixedT(e,t,n){var o=this;const r=function(e,t){let i;if("object"!=typeof t){for(var s=arguments.length,a=new Array(s>2?s-2:0),l=2;l<s;l++)a[l-2]=arguments[l];i=o.options.overloadTranslationOptionHandler([e,t].concat(a))}else i={...t};i.lng=i.lng||r.lng,i.lngs=i.lngs||r.lngs,i.ns=i.ns||r.ns,""!==i.keyPrefix&&(i.keyPrefix=i.keyPrefix||n||r.keyPrefix);const c=o.options.keySeparator||".";let u;return u=i.keyPrefix&&Array.isArray(e)?e.map((e=>`${i.keyPrefix}${c}${e}`)):i.keyPrefix?`${i.keyPrefix}${c}${e}`:e,o.t(u,i)};return"string"==typeof e?r.lng=e:r.lngs=e,r.ns=t,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=t.lng||this.resolvedLanguage||this.languages[0],o=!!this.options&&this.options.fallbackLng,r=this.languages[this.languages.length-1];if("cimode"===n.toLowerCase())return!0;const i=(e,t)=>{const n=this.services.backendConnector.state[`${e}|${t}`];return-1===n||0===n||2===n};if(t.precheck){const e=t.precheck(this,i);if(void 0!==e)return e}return!(!this.hasResourceBundle(n,e)&&this.services.backendConnector.backend&&(!this.options.resources||this.options.partialBundledLanguages)&&(!i(n,e)||o&&!i(r,e)))}loadNamespaces(e,t){const n=En();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((e=>{this.options.ns.indexOf(e)<0&&this.options.ns.push(e)})),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}loadLanguages(e,t){const n=En();"string"==typeof e&&(e=[e]);const o=this.options.preload||[],r=e.filter((e=>o.indexOf(e)<0&&this.services.languageUtils.isSupportedCode(e)));return r.length?(this.options.preload=o.concat(r),this.loadResources((e=>{n.resolve(),t&&t(e)})),n):(t&&t(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const t=this.services&&this.services.languageUtils||new Yn(co());return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"].indexOf(t.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){return new ho(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}cloneInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:po;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},r=new ho(o);return void 0===e.debug&&void 0===e.prefix||(r.logger=r.logger.clone(e)),["store","services","language"].forEach((e=>{r[e]=this[e]})),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new Bn(this.store.data,o),r.services.resourceStore=r.store),r.translator=new Jn(r.services,o),r.translator.on("*",(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r.emit(e,...n)})),r.init(o,t),r.translator.options=o,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const go=ho.createInstance();let fo;go.createInstance=ho.createInstance,go.createInstance,go.dir,go.init,go.loadResources,go.reloadResources,go.use,go.changeLanguage,go.getFixedT,go.t,go.exists,go.setDefaultNamespace,go.hasLoadedNamespace,go.loadNamespaces,go.loadLanguages;var mo=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{l(o.next(e))}catch(vr){i(vr)}}function a(e){try{l(o.throw(e))}catch(vr){i(vr)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let vo={};const yo="LOAD_REMOTE_FONT",bo=e=>e.source.startsWith("local"),xo=(e,t)=>{var n;return`@font-face {\n    font-family: '${e}';\n    src: ${t.source};\n    ${Object.entries(null!==(n=t.descriptors)&&void 0!==n?n:{}).map((([e,t])=>`${e}: ${t};`)).join("\n")}\n}`};let wo=(e=>{let t,n=!1;return o=>Rt(void 0,void 0,void 0,(function*(){return!t||!n&&o?(t=e(),n=!0,t.then((e=>(n=!1,e))).catch((e=>{throw t=null,e}))):t}))})((()=>fetch("/fonts/config.json").then((e=>e.json()))));const So=(e,t,n)=>mo(void 0,void 0,void 0,(function*(){try{const o=new FontFace(e,t.source,t.descriptors);return bo(t)?yield o.load():o.loaded.then(n),document.fonts.add(o),vo[e]={configs:[Object.assign(Object.assign({},t),{font:o})]},!0}catch(vr){return Kt.warn(`Failed to load font ${e} with source ${t.source}`,vr),!1}})),Oo=(e,t,n)=>mo(void 0,void 0,void 0,(function*(){if(t.some(bo))return Kt.error(`Unable to load multiple FontFace for the same family ${e}`),!1;const o=[];return t.forEach((t=>{const r=new FontFace(e,t.source,t.descriptors);r.loaded.then(n),document.fonts.add(r),o.push(Object.assign(Object.assign({},t),{font:r}))})),vo[e]={configs:o},!0})),ko={getAllFonts:wo,getLoadedFonts:()=>vo,loadFont:(e,t)=>mo(void 0,void 0,void 0,(function*(){if(e in vo)return vo[e];let n;if(t)n=t;else try{n=(yield wo())[e]}catch(vr){const n=vr instanceof Error?" due to "+vr.message:"";throw new Error("Unable to load font definition of "+e+n)}const o=()=>{((e,t)=>{an.postEvent(yo,{family:e,definition:t})})(e,n)};for(const t of n.configs)if(Array.isArray(t)?yield Oo(e,t,o):yield So(e,t,o))break;const r=vo[e];return r?(r.displayName=n.displayName,r.url=n.url,vo[e]):void 0})),getFontCSS:e=>mo(void 0,void 0,void 0,(function*(){const t=vo[e];if(!t)throw new Error(`Font family ${e} is not loaded`);const n=yield Promise.all(t.configs.filter((t=>{const n="loaded"===t.font.status;return n||Kt.warn(`Font family ${e} is not loaded completely. Some FontFaceRules may be missing`),n})).map((t=>mo(void 0,void 0,void 0,(function*(){if(bo(t))return xo(e,t);const n=(e=>{var t;const n=null===(t=e.source.match(/url\(['"](\S+)['"]\)/))||void 0===t?void 0:t[1];if(!n)throw new Error("Invalid URL in source "+e.source);return new URL(n,window.location.href)})(t),o=yield fetch(n),r=yield(i=yield o.blob(),new Promise((e=>{const t=new FileReader;t.onloadend=()=>e(t.result),t.readAsDataURL(i)})));var i;return xo(e,Object.assign(Object.assign({},t),{source:`url('${r}')`}))})))));return n.join("\n\n")})),onRemoteFontLoaded:e=>{an.onMessage(yo,e)}},jo=()=>{if("PRD"!==tn.getEnvironment()||!tn.isRMT())if(document.querySelector('meta[name="robots"]'))Kt.info("Noindex meta tag already presents.");else{Kt.info("Injecting noindex meta tag as this app is not PRD RMT.");const e=document.createElement("meta");e.name="robots",e.content="noindex",document.head.appendChild(e)}};var Co=function(e,t,n,o){return new(n||(n=Promise))((function(r,i){function s(e){try{l(o.next(e))}catch(vr){i(vr)}}function a(e){try{l(o.throw(e))}catch(vr){i(vr)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((o=o.apply(e,t||[])).next())}))};let _o=!1;const Ro=e("r",{ready:()=>Co(void 0,void 0,void 0,(function*(){let e=0;for(;e<=10&&!_o;)yield Et(1e3),e+=1})),getAppName:tn.getComponent,getAppVersion:tn.getVersion,getEnv:tn.getEnvironment,getInstance:tn.getInstance,event:on.customEvent,isStandaloneWindow:gn.isStandaloneWindow,injectUITools:gn.injectUITools,openApp:gn.openApp,onAppOpen:gn.onAppOpen,closeApp:gn.closeApp,onAppClose:gn.onAppClose,updateAppMetadata:gn.updateAppMetadata,onAppMetadataUpdate:gn.onAppMetadataUpdate,updateUrl:gn.updateUrl,onUrlUpdate:gn.onUrlUpdate,toggleNavMenu:gn.toggleNavMenu,postEvent:an.postEvent,onMessage:an.onMessage,setLanguage:bn.setLanguage,getLanguage:bn.getLanguage,onLanguageChange:bn.onLanguageChange,setColourMode:bn.setColourMode,getColourMode:bn.getColourMode,onColourModeChange:bn.onColourModeChange,isAnalyticsQADone:bn.isAnalyticsQADone,isAllowAnalytics:bn.isAllowAnalytics,allowAnalytics:bn.allowAnalytics,storage:{on:kn.on,get:kn.get,getAll:kn.getAll,set:kn.set,remove:kn.remove,clear:kn.clear},getMsSinceStartUp:wn.getMsSinceStartUp,I18nBuilder:class{constructor(){this._appName="RMG",this._lng=void 0,this._defaultResources={},this._resources={}}use(e){return go.use(e),this}withAppName(e){return this._appName=e,this}withLng(e){return this._lng=e,this}withDefaultResource(e){return Object.entries(e).forEach((([e,t])=>{this._defaultResources[e]=t})),this}withResource(e,t){return this._resources[e]=t,this}combineResource(){const e={};return Object.entries(this._defaultResources).forEach((([t,n])=>{e[t]={translation:n}})),Object.entries(this._resources).forEach((([t,n])=>{t in e?e[t].translation=Object.assign(Object.assign({},e[t].translation),n):e[t]={translation:n}})),e}build(){return fo=go.createInstance({lng:this._lng,fallbackLng:{"zh-CN":["zh-Hans","zh-Hant","en"],"zh-HK":["zh-Hant","zh-Hans","en"],"zh-TW":["zh-Hant","zh-Hans","en"],default:["en"]},resources:this.combineResource()},((e,t)=>{var n;e?Kt.error("unexpected error occurs while initialising i18n",e):(document.title=t(this._appName),document.documentElement.lang=null!==(n=this._lng)&&void 0!==n?n:"en")})),fo.on("languageChanged",(e=>{document.title=fo.t(this._appName),document.documentElement.lang=e})),(e=>{bn.onLanguageChange((t=>e.changeLanguage(t)))})(fo),fo}},getI18nInstance:()=>fo,getAllFonts:ko.getAllFonts,getLoadedFonts:ko.getLoadedFonts,loadFont:ko.loadFont,getFontCSS:ko.getFontCSS,onRemoteFontLoaded:ko.onRemoteFontLoaded});Co(void 0,void 0,void 0,(function*(){yield tn.loadWithTimeout(),Kt.setup(tn.getComponent()),jo(),bn.isAnalyticsQADone()?bn.isAllowAnalytics()&&(Kt.info("User has previously allowed GA"),on.init()):gn.isStandaloneWindow()&&!tn.isRMT()&&(Kt.warn("App is opened in standalone window but analytics Q&A is not finished. GA will be init by default."),on.init()),_o=!0})).then(),window.rmgRuntime=Ro,e("l",Kt.logger);var Eo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Lo=function(e){switch(e){case At.DEV:return"red";case At.UAT:return"orange";case At.PRD:return"green"}},Po=function(e,t){var n=window.URL.createObjectURL(t),o=document.createElement("a");o.href=n,o.download=e,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(n)},Ao=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};function Io(e){var t=e.cancelRef,n=e.isOpen,o=e.onClose,r=Ao(he.useState(!1),2),i=r[0],s=r[1];return j.jsxs(I,{leastDestructiveRef:t,isOpen:n,onClose:o,children:[j.jsx(N,{}),j.jsxs($,{children:[j.jsx(M,{children:"Warning 警告"}),j.jsx(F,{}),j.jsxs(D,{sx:{"& p":{my:1}},children:[j.jsx(T,{children:"Are you sure you want to reset the app? The webpage local storage for this app will be cleared. A copy of the local storage will be downloaded and it may be used for restoration (varies with app)."}),j.jsx(T,{children:"確定重設該應用程式嗎？應用程式的網頁本地儲存將會被清除。本地儲存的副本可供下載及用於復原（因應用程式而異）。"}),j.jsx(T,{children:"确定重置本应用程序吗？应用程序的网页本地存储将会被清除。本地存储的拷贝可供下载以及用于还原（因应用程序而異）。"})]}),j.jsxs(U,{children:[j.jsx(V,{ref:t,onClick:o,children:"Cancel"}),j.jsx(V,{isLoading:i,colorScheme:"red",ml:3,onClick:function(){s(!0);var e,t,n,o,r=Ro.storage.getAll(),i=Ro.getAppName(),a="".concat(i,"_BACKUP_").concat((new Date).toISOString(),".json");e=a,t="application/json",n=JSON.stringify(r),o=new Blob([n],{type:t}),Po(e,o),Ro.storage.clear(),setTimeout((function(){window.location.reload()}),2e3)},children:"Confirm and reload"})]})]})]})}var No=function(){return No=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},No.apply(this,arguments)},$o=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},Mo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s};function Fo(e){var t=e.error,n=e.errorInfo,o=e.allowReset,r=e.sx,i=$o(e,["error","errorInfo","allowReset","sx"]),s=z("RmgErrorBoundary"),a=H("primary.500","primary.300"),l=Mo(he.useState(!1),2),c=l[0],u=l[1],d=he.useRef(null),p=function(e){return j.jsx(W,{color:a,role:"button",onClick:function(){return u(!0)},children:e})},h=Ro.getAppName(),g=j.jsx(W,{color:a,href:"https://github.com/railmapgen/".concat("rmg-home"===h?"railmapgen.github.io":h,"/issues"),isExternal:!0,children:"GitHub Issue"});return j.jsxs(B,No({status:"error",sx:No(No({},s),r)},i,{children:[j.jsx(K,{}),j.jsx(G,{children:"Something went wrong!"}),j.jsxs(J,{children:[j.jsxs(T,{children:["Please try to refresh or re-import your configuration files. If the issue still persists, please consider upgrading your browser",o?j.jsxs(j.Fragment,{children:[" or ",p("reset this app")]}):"",". Should you need any help, please contact us by submitting an issue in ",g," with the details shown below."]}),j.jsxs(T,{children:["請嘗試重新整理或重新上載設定檔。如果問題仍然存在，請考慮更新你的瀏覽器",o?j.jsxs(j.Fragment,{children:["或",p("重設該應用程式")]}):"","。如需協助或與我們聯絡，請前往 ",g," 提交一個 Issue 並附以詳細資料。"]}),j.jsxs(T,{children:["请尝试刷新或者重新上传配置文件。如果问题仍然存在，请考虑更新您的浏览器",o?j.jsxs(j.Fragment,{children:["或者",p("重置本应用程序")]}):"","。如需帮助或者联系我们，请前往 ",g," 提交一个 Issue 并附上详细信息。"]}),j.jsxs(T,{as:"details",children:[null==t?void 0:t.toString(),j.jsx("br",{}),null==n?void 0:n.componentStack]}),o&&j.jsx(Io,{cancelRef:d,isOpen:c,onClose:function(){return u(!1)}})]})]}))}var Do,To,Uo=(Do=function(e,t){return Do=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Do(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Do(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Vo=function(){return Vo=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Vo.apply(this,arguments)},zo=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},Ho=(e("a",function(e){function t(t){var n=e.call(this,t)||this;return n.state={hasError:!1,error:null,errorInfo:null},n}return Uo(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}},t.prototype.componentDidCatch=function(e,t){this.setState({error:e,errorInfo:t})},t.prototype.render=function(){var e=this.props,t=e.children,n=e.suspenseFallback,o=e.allowReset,r=zo(e,["children","suspenseFallback","allowReset"]);return this.state.hasError?j.jsx(Fo,Vo({error:this.state.error,errorInfo:this.state.errorInfo,allowReset:o},r)):n?j.jsx(he.Suspense,{fallback:n,children:t}):t},t}(ge.Component)),function(){return Ho=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Ho.apply(this,arguments)}),Wo=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},Bo=(e("j",(function(e){var t=e.label,n=e.children;e.width;var o=e.noLabel,r=e.oneLine,i=e.helper,s=e.errorMessage,a=e.className,l=Wo(e,["label","children","width","noLabel","oneLine","helper","errorMessage","className"]),c=z("RmgLabel");return j.jsxs(q,Ho({className:"".concat(r?"rmg-label__one-line":""," ").concat(null!=a?a:""),"aria-label":t,sx:c,isInvalid:!!s},l,{children:[!o&&j.jsx(Y,{size:"xs",children:t}),n,s?j.jsx(Q,{children:s}):i?j.jsx(X,{children:i}):j.jsx(j.Fragment,{})]}))})),function(){return Bo=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Bo.apply(this,arguments)}),Ko=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},Go=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Jo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},qo=(e("u",(function(){var e=ee(),t=e.colorMode,n=e.setColorMode,o=Jo(te("(prefers-color-scheme: dark)"),1)[0];return{colourMode:t,setColourMode:he.useCallback((function(e){Ro.setColourMode(e),n("system"===e?o?"dark":"light":e)}),[t,n,o])}})),function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s}),Yo=function(e,t,n){if(n||2===arguments.length)for(var o,r=0,i=t.length;r<i;r++)!o&&r in t||(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))},Qo=function(e,t){var n=qo(he.useState(!0),2),o=n[0],r=n[1],i=he.useRef([]),s=he.useRef(),a=he.useCallback((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];o?(r(!1),i.current=[],e.apply(void 0,Yo([],qo(t),!1))):i.current=t}),[o,e]);return he.useEffect((function(){if(!o)return s.current=window.setTimeout((function(){r(!0),i.current.length&&e.apply(void 0,Yo([],qo(i.current),!1))}),t),function(){window.clearTimeout(s.current)}}),[o,t]),a},Xo=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(o=i.next()).done;)s.push(o.value)}catch(a){r={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(r)throw r.error}}return s},Zo=function(){return Zo=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},Zo.apply(this,arguments)},er=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},tr=(e("g",(function(e){var t=e.sx,n=e.className,o=er(e,["sx","className"]),r=z("RmgWindow");return j.jsx(u,Zo({className:"rmg-window ".concat(null!=n?n:""),sx:Zo(Zo({},r),t)},o))})),e("d",(function(e){var t=e.isAppClipHeader,n=e.sx,o=e.className,r=er(e,["isAppClipHeader","sx","className"]),i=z("RmgWindowHeader");return j.jsx(u,Zo({className:"rmg-window__header ".concat(t?"rmg-window__app-clip-header":""," ").concat(null!=o?o:""),sx:Zo(Zo({},i),n)},r))})),e("h",(function(e){var t=e.sx,n=e.className,o=er(e,["sx","className"]),r=z("RmgPage");return j.jsx(u,Zo({className:"rmg-page ".concat(null!=n?n:""),sx:Zo(Zo({},r),t)},o))})),e("e",(function(e){var t=e.sx,n=e.className,o=er(e,["sx","className"]),r=z("RmgSection");return j.jsx(l.section,Zo({className:"rmg-section ".concat(null!=n?n:""),sx:Zo(Zo({},r),t)},o))})),e("f",(function(e){var t=e.sx,n=e.className,o=er(e,["sx","className"]),r=z("RmgSectionHeader");return j.jsx(l.div,Zo({className:"rmg-section__header ".concat(null!=n?n:""),sx:Zo(Zo({},r),t)},o))})),function(){return tr=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},tr.apply(this,arguments)}),nr=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n},or=function(e){return"dark"===e?"primary.300":"primary.500"},rr={variants:{flushed:function(e){var t=e.theme,n=e.colorMode;return{field:{_focusVisible:{borderColor:or(n),boxShadow:"0px 1px 0px 0px ".concat(le(t,or(n)))}}}}}},ir={defaultProps:{colorScheme:"primary"}},sr=function(e){return"dark"===e?"primary.300":"primary.500"},ar={baseStyle:function(e){var t=e.theme,n=e.colorMode;return{"& .rmg-multi-select__wrapper":{position:"relative",w:"100%",h:"25.75px",transform:"translateY(1.75px)",cursor:"default"},"& .rmg-multi-select__field":{position:"relative",w:"100%",minW:0,outline:0,appearance:"none",transitionProperty:"common",transitionDuration:"normal",pb:"1px",fontSize:"sm",h:"6",borderBottom:"1px solid",borderColor:"inherit",borderRadius:"0",px:"0",bg:"transparent",_active:{borderColor:sr(n),boxShadow:"0px 1px 0px 0px ".concat(le(t,sr(n)))},_focus:{borderColor:sr(n),boxShadow:"0px 1px 0px 0px ".concat(le(t,sr(n)))},_focusVisible:{borderColor:sr(n),boxShadow:"0px 1px 0px 0px ".concat(le(t,sr(n)))},"&.active":{borderColor:sr(n),boxShadow:"0px 1px 0px 0px ".concat(le(t,sr(n)))},"& > span:last-of-type":{position:"absolute",right:8}},"& .rmg-multi-select__icon-wrapper":{display:"inline-flex",justifyContent:"center",w:6,h:"100%",position:"absolute",right:2,top:0,fontSize:"xl","& svg":{h:"1em",w:"1em"}},"& .chakra-popover__content":{w:"unset",minW:200},"& .chakra-popover__body":{p:0,"li label":{p:2,w:"100%",_hover:{bg:"dark"===n?"whiteAlpha.200":"gray.100"},_active:{bg:"dark"===n?"whiteAlpha.300":"gray.200"}}}}}},lr=function(){return lr=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},lr.apply(this,arguments)},cr={overflow:"hidden",textOverflow:"ellipsis",textWrap:"nowrap"},ur={Input:rr,Checkbox:ir,Select:rr,Slider:{defaultProps:{colorScheme:"primary"}},Switch:ir,Textarea:rr,RmgAgGrid:{baseStyle:{w:"100%",h:"100%","& .ag-header-cell:not(.ag-header-cell-auto-height) .ag-header-cell-comp-wrapper":{height:"unset"},"& .ag-cell":{display:"flex",lineHeight:"unset",alignItems:"center"},"& .ag-cell, & .ag-header-cell":{padding:"8px 9px"},"& .ag-row, & .ag-header":{border:"unset"},"&.ag-theme-alpine .ag-row .ag-cell, &.ag-theme-alpine .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, #dde2eb))"},"&.ag-theme-alpine-dark .ag-row .ag-cell, &.ag-theme-alpine-dark .ag-header .ag-header-cell":{borderRight:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))",borderBottom:"1px solid var(--ag-row-border-color, var(--ag-secondary-border-color, rgba(88, 86, 82, 0.5)))"},"& .ag-pinned-left-cols-container, & .ag-pinned-left-header":{boxShadow:"var(--chakra-shadows-lg)",zIndex:1},"&.ag-theme-alpine":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #fff)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #fcfcfc)"}},"&.ag-theme-alpine-dark":{"& .ag-row .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-background-color, #181d1f)"},"& .ag-row-odd .rmg-ag-grid--spanned-cell":{backgroundColor:"var(--ag-odd-row-background-color, #222628)"}}}},RmgAppClip:{baseStyle:function(e){var t=e.colorMode,n=e.zIndex;return{display:"none","&.show-app-clip":{display:"block"},"& .rmg-app-clip__overlay":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",zIndex:n,bg:"blackAlpha.600"},"& .rmg-app-clip__container":{position:"fixed",top:0,left:0,w:"100vw",h:"100vh",display:"flex",justifyContent:"center",alignItems:"flex-start",zIndex:n},"& .rmg-app-clip__content":{display:"flex",w:"100%",maxW:"md",my:16,bg:"light"===t?"white":"gray.700",boxShadow:"lg",borderRadius:"md",overflow:"hidden"}}},sizes:{xs:{"& .rmg-app-clip__content":{maxW:"xs"}},sm:{"& .rmg-app-clip__content":{maxW:"sm"}},lg:{"& .rmg-app-clip__content":{maxW:"lg"}},xl:{"& .rmg-app-clip__content":{maxW:"xl"}},full:{"& .rmg-app-clip__content":{maxW:"100vw",minH:"var(--chakra-vh)",my:0,borderRadius:0}}}},RmgCard:{baseStyle:function(e){return{p:1,my:1,w:"100%",borderRadius:2,bg:"dark"===e.colorMode?"gray.700":"gray.50",boxShadow:"lg"}}},RmgDataTable:{baseStyle:function(e){var t=e.colorMode;return{"& thead":{position:"sticky",top:0,zIndex:10},"& td, th":{borderRight:"1px solid",borderColor:"dark"===t?"whiteAlpha.400":"blackAlpha.200",backgroundColor:"dark"===t?"gray.700":"gray.50",whiteSpace:"nowrap","&:first-of-type":{position:"sticky",left:0,zIndex:1},"&:last-of-type":{borderRight:"none",position:"sticky",right:0,zIndex:1}}}}},RmgEnrichedButton:{baseStyle:function(){return{flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"flex-start",h:10,"& span":{maxW:"100%",textOverflow:"ellipsis",overflow:"hidden"},"& span:last-of-type":{fontWeight:"normal",fontSize:"2xs"}}}},RmgErrorBoundary:{baseStyle:{flexDirection:"column",alignItems:"center",maxH:"100%",overflowY:"auto","& .chakra-alert__icon":{w:"40px",h:"40px",mr:0},"& .chakra-alert__title":{mt:4,mb:1,fontSize:"lg"},"& .chakra-alert__desc":{w:"100%","& p":{my:1},"& details":{whiteSpace:"pre-wrap",fontFamily:"monospace",fontSize:"sm"}}}},RmgLabel:{baseStyle:{display:"flex",flexDirection:"column",m:1,w:"unset","& label":{overflow:"hidden",fontSize:12,mr:0,mb:-.5,whiteSpace:"nowrap",textOverflow:"ellipsis"},"&.rmg-label__one-line":{flexDirection:"row",alignItems:"center","& label:first-of-type":{mr:"auto"}}}},RmgLineBadge:{baseStyle:{display:"inline-flex",alignItems:"center","& > button:first-of-type":{ml:1}}},RmgLoader:{baseStyle:{w:"100%",h:"100%",position:"absolute",top:0,right:0,alignItems:"center",justifyContent:"center","& .rmg-loader__backdrop":{position:"absolute",w:"100%",h:"100%",zIndex:1500,bg:"blackAlpha.400"},"& .chakra-progress":{zIndex:2e3}}},RmgMultiSelect:ar,RmgOutput:{baseStyle:function(e){var t=e.noWrap;return lr({minH:6,fontSize:"sm"},t?cr:{textWrap:"pretty"})}},RmgPage:{baseStyle:{position:"relative",flexDirection:"column",flex:1,overflow:"hidden",background:"inherit"}},RmgPageHeader:{baseStyle:{alignItems:"center",flexWrap:"wrap",pl:2,pr:3,py:1,zIndex:10}},RmgSection:{baseStyle:{position:"relative",background:"inherit"}},RmgSectionHeader:{baseStyle:{display:"flex",alignItems:"center",flexWrap:"wrap",position:"sticky",top:0,background:"inherit",px:2,py:1,zIndex:5}},RmgSidePanel:{baseStyle:function(e){var t=e.colorMode,n=e.width,o=e.alwaysOverlay;return{height:"100%",position:o?"absolute":{base:"absolute",lg:"relative"},right:o?0:{base:0,lg:"unset"},background:"light"===t?"white":"gray.800",boxShadow:"lg",flexShrink:0,flexDirection:"column",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",zIndex:5,"&.show-side-panel":{maxW:{base:"100%",sm:n},w:{base:"100%",sm:"unset"},visibility:"initial"},"& .rmg-side-panel__inner":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:n}},"& .rmg-side-panel__header":{flexShrink:0,pl:3,pr:1,py:0,"& button":{ml:"auto"}},"& .rmg-side-panel__body":{display:"flex",flexDirection:"column",flex:1,overflowY:"auto",p:1},"& .rmg-side-panel__footer":{display:"flex",justifyContent:"flex-end",p:1}}}},RmgThrottledSlider:{baseStyle:{h:6,alignItems:"center","& .chakra-button:first-of-type":{mr:1},"& .chakra-button:last-of-type":{ml:1}}},RmgWindow:{baseStyle:{position:"relative",flexDirection:"column",height:"100%",overflow:"hidden",background:"inherit"}},RmgWindowHeader:{baseStyle:{px:2,alignItems:"center",zIndex:15,minH:10,transition:"0.3s ease-in-out"}}},dr=function(){return dr=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},dr.apply(this,arguments)},pr="chakra-ui-color-mode",hr={primary:dr({},ce.colors.teal)},gr={global:{".mw-full":{w:"100%",flexBasis:"100%"}}},fr=(e("R",(function(e){var t,n=e.children;return j.jsx(de,{theme:ue({config:(t="system"===Ro.getColourMode(),Ro.isStandaloneWindow()&&(t?window.localStorage.removeItem(pr):window.localStorage.setItem(pr,Ro.getColourMode())),{initialColorMode:"system",useSystemColorMode:t}),colors:hr,styles:gr,components:ur}),children:j.jsx(fr,{children:n})})})),function(e){var t=e.children,n=ee().setColorMode,o=pe();return he.useEffect((function(){console.log("[rmg-components] RMG theme is initialised with",o.config),Ro.onColourModeChange((function(e){if("system"===e){var t=window.matchMedia("(prefers-color-scheme: dark)").matches;n(t?"dark":"light")}else n(e)}))}),[n]),j.jsx(j.Fragment,{children:t})}),mr={};e("c",function(){if(To)return mr;To=1;var e=fe();return mr.createRoot=e.createRoot,mr.hydrateRoot=e.hydrateRoot,mr}())}}}));
