import{j as e,V as X,U as Z,W as V,X as z,l as m,Y as S,Z as j,x as he,N as de,_ as U,n as x,z as A,$ as ue,a0 as pe,a1 as me,a2 as W,B as K,a3 as M,M as R,a4 as w,h as H,i as B,k as C,m as y,y as g,a5 as O,a6 as ee,a7 as te,q as se,r as ne,a8 as F,a9 as $,aa as xe,ab as ge,ac as I,L as je,ad as fe,ae as ze}from"./chakra-5cff37da.js";import{u as p,r as u,j as ve,B as ke}from"./react-ff6b7134.js";import{F as be,u as _,a as ae,b,r as h,E as k,o as Me,c as we,t as P,s as He,d as Ce,e as ye,g as Ae,f as Se,R as T,m as Re,h as oe,i as Ie,j as Te,k as Oe,l as q,n as Pe}from"./index-51d15acb.js";var Be=["en","zh-Hans","zh-Hant"],_e=["ko"],Q={ar:{ar:"العربية",en:"Arabic",ko:"아랍어","zh-Hans":"阿拉伯文","zh-Hant":"阿拉伯文"},az:{az:"Azərbaycanca",en:"Azerbaijani",ko:"아제르바이잔어","zh-Hans":"阿塞拜疆文","zh-Hant":"阿塞拜疆文"},ca:{ca:"Català",en:"Catalan",ko:"카탈루냐어","zh-Hans":"加泰罗尼亚文","zh-Hant":"加泰隆尼亞文"},da:{da:"Dansk",en:"Danish",ko:"덴마크어","zh-Hans":"丹麦文","zh-Hant":"丹麥文"},de:{de:"Deutsch",en:"German",ko:"독일어","zh-Hans":"德文","zh-Hant":"德文"},el:{el:"Ελληνικά",en:"Greek",ko:"그리스어","zh-Hans":"希腊文","zh-Hant":"希臘文"},en:{en:"English",ko:"영어","zh-Hans":"英文","zh-Hant":"英文"},es:{en:"Spanish",es:"Español",ko:"스페인어","zh-Hans":"西班牙文","zh-Hant":"西班牙文"},fa:{en:"Persian",fa:"فارسی",ko:"페르시아어","zh-Hans":"波斯文","zh-Hant":"波斯文"},fr:{en:"French",fr:"Français",ko:"프랑스어","zh-Hans":"法文","zh-Hant":"法文"},ga:{en:"Irish",ga:"Gaeilge",ko:"아일랜드어","zh-Hans":"爱尔兰文","zh-Hant":"愛爾蘭文"},gd:{en:"Scottish Gaelic",gd:"Gàidhlig",ko:"스코틀랜드 게일어","zh-Hans":"苏格兰盖尔文","zh-Hant":"蘇格蘭蓋爾文"},hi:{en:"Hindi",hi:"हिन्दी",ko:"힌디어","zh-Hans":"印地文","zh-Hant":"印地文"},hu:{en:"Hungarian",hu:"Magyar",ko:"헝가리어","zh-Hans":"匈牙利文","zh-Hant":"匈牙利文"},id:{en:"Indoesian",id:"Bahasa Indonesia",ko:"인도네시아어","zh-Hans":"印尼文","zh-Hant":"印尼文"},it:{en:"Italian",it:"Italiano",ko:"이탈리아어","zh-Hans":"意大利文","zh-Hant":"意大利文"},ja:{en:"Japanese",ja:"日本語",ko:"일본어","zh-Hans":"日文","zh-Hant":"日文"},ko:{en:"Korean",ko:"한국어","zh-Hans":"韩文","zh-Hant":"韓文"},ms:{en:"Malay",ko:"말레이어",ms:"Bahasa Melayu","zh-Hans":"马来文","zh-Hant":"馬來文"},no:{en:"Norwegian",ko:"노르웨이어",no:"Norsk","zh-Hans":"挪威文","zh-Hant":"挪威文"},pl:{en:"Polish",ko:"폴란드어",pl:"Polski","zh-Hans":"波兰文","zh-Hant":"波蘭文"},pt:{en:"Portuguese",ko:"포르투갈어",pt:"Português","zh-Hans":"葡萄牙文","zh-Hant":"葡萄牙文"},ro:{en:"Romanian",ko:"루마니아어",ro:"Română","zh-Hans":"罗马尼亚文","zh-Hant":"羅馬尼亞文"},ru:{en:"Russian",ko:"러시아어",ru:"Русский","zh-Hans":"俄文","zh-Hant":"俄文"},sv:{en:"Swedish",ko:"스웨덴어",sv:"Svenska","zh-Hans":"瑞典文","zh-Hant":"瑞典文"},th:{en:"Thai",ko:"태국어",th:"ภาษาไทย","zh-Hans":"泰文","zh-Hant":"泰文"},tr:{en:"Turkish",ko:"튀르키예어",tr:"Türkçe","zh-Hans":"土耳其文","zh-Hant":"土耳其文"},ur:{en:"Urdo",ko:"우르두어",ur:"اردو","zh-Hans":"乌尔都文","zh-Hant":"烏爾都文"},uz:{en:"Uzbek",ko:"우즈베크어",uz:"Oʻzbekcha","zh-Hans":"乌兹别克文","zh-Hant":"烏茲別克文"},vi:{en:"Vietnamese",ko:"베트남어",vi:"Tiếng Việt","zh-Hans":"越南文","zh-Hant":"越南文"},"zh-Hans":{en:"Simplified Chinese",ko:"중국어 간체자","zh-Hans":"简体中文","zh-Hant":"簡體中文"},"zh-Hant":{en:"Traditional Chinese",ko:"중국어 정체자","zh-Hans":"繁体中文","zh-Hant":"繁體中文"}};const Ee="/assets/rmp-logo512-652b509a.png",Le={flex:1,justifyContent:"center",mb:10,"& > div":{mb:3},"& img":{w:120,p:2,backgroundColor:"white",borderRadius:12}};function Ge(){const{t}=p();return e.jsxs(X,{sx:Le,children:[e.jsxs(Z,{spacing:3,children:[e.jsx(V,{src:"/logo512.png"}),e.jsx(V,{src:Ee,backgroundColor:"white"})]}),e.jsx(z,{children:t("Welcome to Rail Map Toolkit")}),e.jsx(m,{fontSize:"lg",textAlign:"center",children:t("Select an app to start your own rail map design!")})]})}function Ne(t){var a;const{tab:n,isActive:o}=t,[s]=u.useState((a=n.url)!=null?a:"/"+n.app+"/");return e.jsx(S,{display:o?"block":"none",flex:1,children:e.jsx("iframe",{id:be+n.id,src:s,loading:"lazy",title:n.app,width:"100%",height:"100%"})})}function De(){const{openedTabs:t,activeTab:n}=_(a=>a.app),[o,s]=ve();return u.useEffect(()=>{var a;if(n){const r=(a=t.find(c=>c.id===n))==null?void 0:a.app;s(r?{app:r}:{})}else s({})},[n]),t.length===0?e.jsx(Ge,{}):e.jsx(e.Fragment,{children:t.map(a=>e.jsx(Ne,{tab:a,isActive:n===a.id},a.id))})}function Ve(t){return j({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M11 7h2v2h-2V7zm0 4h2v6h-2v-6zm1-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"}}]})(t)}function Ue(t){return j({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-1 6h2v2h-2V7zm0 4h2v6h-2v-6z"}}]})(t)}function We(t){return j({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}}]})(t)}function Fe(t){return j({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0V0z"}},{tag:"path",attr:{d:"M12 2C6.49 2 2 6.49 2 12s4.49 10 10 10 10-4.49 10-10S17.51 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3-8c0 1.66-1.34 3-3 3s-3-1.34-3-3 1.34-3 3-3 3 1.34 3 3z"}}]})(t)}function Y(t){return j({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}}]})(t)}function $e(t){return j({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}}]})(t)}function qe(t){return j({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}}]})(t)}function Qe(t){return j({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"}},{tag:"path",attr:{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}}]})(t)}const J={"& button:first-of-type":{w:"100%",overflow:"hidden",justifyContent:"flex-start",textOverflow:"ellipsis",textAlign:"start","& span.chakra-button__icon":{ml:-1,color:"orange.300",'[data-theme="dark"] &':{color:"orange.200"}}},'&[aria-current="true"] > button':{bg:"primary.50",_hover:{bg:"primary.100"},'[data-theme="dark"] &':{bg:"primary.700",_hover:{bg:"primary.600"}}}};function Ye(t){var G;const{appId:n,onAboutOpen:o}=t,{t:s}=p(),a=ae(),r=he(`(min-width: ${de.breakpoints.sm})`),{activeTab:c,openedTabs:i}=_(l=>l.app),d=b[n],v=d.name.split(" - ").map(l=>s(l)).join(" - "),f=i.some(l=>l.app===n),E=!d.allowMultiInstances&&((G=i.find(l=>l.id===c))==null?void 0:G.app)===n,L=l=>{f||h.event(k.OPEN_APP,{appId:n,isOpenInNew:l}),a(l?Me(n):we({appId:n})),r[0]||(a(P()),h.toggleNavMenu(!1))},re=l=>{a(He(l)),r[0]||(a(P()),h.toggleNavMenu(!1))},le=l=>{a(Ce(l)),h.event(k.CLOSE_APP,{app:n})},ce=l=>{a(ye(l)),h.event(k.CLOSE_APP,{app:l})};return e.jsxs(e.Fragment,{children:[e.jsxs(U,{variant:E?"solid":"ghost",size:"md",isAttached:!0,"aria-current":E,sx:J,children:[e.jsx(x,{onClick:()=>L(!1),leftIcon:f?e.jsx(Fe,{title:s("Running")}):e.jsx(S,{w:4}),children:v}),d.allowMultiInstances&&e.jsx(A,{"aria-label":s("New tab"),title:s("New tab"),icon:e.jsx(We,{}),onClick:()=>L(!0)}),e.jsxs(ue,{children:[e.jsx(pe,{as:A,icon:e.jsx(qe,{}),"aria-label":s("More"),title:s("More")}),e.jsxs(me,{children:[f&&e.jsx(W,{icon:e.jsx(Y,{}),onClick:()=>ce(n),children:d.allowMultiInstances?s("Close all tabs"):s("Close app")}),e.jsx(W,{icon:e.jsx(Ve,{}),onClick:o,children:s("About")})]})]})]}),d.allowMultiInstances&&i.filter(l=>l.app===n).map((l,N)=>{const D=l.id===c;return e.jsxs(U,{variant:D?"solid":"ghost",size:"sm",ml:8,mr:1,isAttached:!0,"aria-current":D,sx:J,children:[e.jsxs(x,{onClick:()=>re(l.id),children:[e.jsx(K,{mr:2,children:N+1}),s("Tab")+" "+(N+1).toString()+" - "+v]}),e.jsx(A,{"aria-label":s("Close tab"),title:s("Close tab"),icon:e.jsx(Y,{}),onClick:()=>le(l.id)})]},l.id)})]})}const Je=async t=>{const n=`/${t}/info.json`;try{return(await(await fetch(n)).json()).version}catch(o){return console.log(`Failed to get version for ${t}`),"unknown"}},Xe=async t=>{const n=`/${t}/legacy-contributor-list.txt`;return(await(await fetch(n)).text()).split(`
`)};function Ze(t){var i,d,v;const{appId:n,onClose:o}=t,{t:s}=p(),[a,r]=u.useState("Unknown"),c=n?(v=(d=(i=b[n])==null?void 0:i.url)==null?void 0:d.split("/"))==null?void 0:v[1]:void 0;return u.useEffect(()=>{c?Je(c).then(f=>r(f)):r("Unknown")},[c]),e.jsxs(M,{isOpen:!!n,onClose:o,size:"xl",scrollBehavior:"inside",children:[e.jsx(R,{}),e.jsxs(w,{children:[e.jsxs(H,{children:[s("About")+" "+(n?b[n].name.split(" - ").map(f=>s(f)).join(" - "):""),e.jsx(K,{ml:1,children:a})]}),e.jsx(B,{}),e.jsx(C,{}),e.jsx(y,{children:e.jsx(x,{colorScheme:"primary",onClick:()=>window.open("https://github.com/railmapgen/"+c,"_blank"),children:s("Visit GitHub")})})]})]})}const Ke={flexDirection:"column","& h4":{mx:3,my:2},"& > div":{flexDirection:"column"}};function et(){const{t}=p(),[n,o]=u.useState(),s=Ae(h.getEnv());return e.jsxs(g,{sx:Ke,children:[e.jsx(z,{as:"h4",size:"md",children:t("Apps")}),e.jsx(g,{children:s.map(a=>e.jsx(Ye,{appId:a,onAboutOpen:()=>o(a)},a))}),e.jsx(Ze,{appId:n,onClose:()=>o(void 0)})]})}const tt={flexDirection:"column",py:1,"& h4":{mx:3,my:2},"& > div":{px:2}};function st(){const{t}=p(),{setColourMode:n}=Se(),o={light:t("Light"),dark:t("Dark"),system:t("System")},a=h.getInstance()===T.GITHUB?T.GITLAB:T.GITHUB,r=()=>{const i=Ie(a,h.getEnv());window.open(i,"_blank"),h.event(k.SWITCH_MIRROR,{mirrorUrl:i})},c=[{type:"select",label:t("Language"),value:h.getLanguage(),options:{[t("Main languages")]:Be.reduce((i,d)=>({...i,[d]:Q[d][d]}),{}),[t("Other languages")]:_e.reduce((i,d)=>({...i,[d]:Q[d][d]}),{})},onChange:i=>{const d=i;h.setLanguage(d),h.getI18nInstance().changeLanguage(d),h.event(k.CHANGE_LANGUAGE,{language:d})}},{type:"select",label:t("Appearance"),value:h.getColourMode(),options:o,onChange:i=>n(i)},{type:"custom",label:t("Switch to")+" "+Re[a],component:e.jsx(x,{size:"xs",onClick:r,children:t("Switch")}),minW:"full",oneLine:!0}];return e.jsxs(g,{sx:tt,children:[e.jsx(z,{as:"h4",size:"md",children:t("Settings")}),e.jsx(S,{children:e.jsx(oe,{fields:c})})]})}const nt=async t=>{const n=`https://api.github.com/repos/railmapgen/${t}/contributors`;return(await(await fetch(n)).json()).map(a=>a.login)},at=["","wongchito","thekingofcity","github-actions[bot]"],ot=async t=>{const{showContributors:n,legacyContributors:o}=b[t];if(!n)return[];const s=[nt(t)];o&&s.push(Xe(t));try{const a=await Promise.all(s),r=new Set(a.flat());return Array.from(r).filter(c=>!at.includes(c))}catch(a){console.error("[rmt] unable to fetch contributors for:",t);return}};function ie(t){const{login:n,urlRepo:o,...s}=t,a=o?`https://github.com/railmapgen/${o}/issues?q=is:issue+author:${n}`:`https://github.com/${n}`;return e.jsx(O,{name:n,title:n,src:`https://github.com/${n}.png`,loading:"lazy",onClick:()=>window.open(a,"_blank"),cursor:"pointer",...s})}const it={position:"relative",minH:20,"& .chakra-alert":{flexDirection:"column"},"& .chakra-alert__icon":{boxSize:7,mr:0,mb:1}};function rt(t){const{appId:n}=t,{t:o}=p(),[s,a]=u.useState(),[r,c]=u.useState(!0);return u.useEffect(()=>{ot(n).then(a).finally(()=>{c(!1)})},[]),e.jsx(g,{sx:it,children:r?e.jsx(Te,{isIndeterminate:!0}):s?e.jsx(ee,{spacing:1.5,children:s.map(i=>e.jsx(te,{children:e.jsx(ie,{login:i,urlRepo:n,size:"sm"})},i))}):e.jsxs(se,{status:"warning",children:[e.jsx(ne,{}),o("Unable to load contributors")]})})}const lt=["52PD","linchen1965"],ct={"& h5":{mt:6,mb:4,"&:first-of-type":{mt:0}},"& h6":{mt:5,mb:2,"&:first-of-type":{mt:0}},"& .dev-team-stack":{"& > span":{minW:"75%",borderRadius:"lg",cursor:"pointer","& > span:last-of-type":{display:"block"},"& p":{fontSize:"sm","&:first-of-type":{fontSize:"lg",fontWeight:"bold",mb:1}}},"& .chakra-avatar":{ml:1,mr:3,my:4}},"& i":{mt:3,fontSize:"xs"}};function ht(t){const{isOpen:n,onClose:o}=t,{t:s}=p();return e.jsxs(M,{isOpen:n,onClose:o,size:"xl",scrollBehavior:"inside",children:[e.jsx(R,{}),e.jsxs(w,{children:[e.jsx(H,{children:s("Contributors")}),e.jsx(B,{}),e.jsxs(C,{sx:ct,children:[e.jsx(z,{as:"h5",size:"sm",children:s("Developer team")}),e.jsxs(X,{className:"dev-team-stack",children:[e.jsxs(F,{size:"lg",onClick:()=>window.open("https://github.com/wongchito","_blank"),children:[e.jsx(O,{src:"https://github.com/wongchito.png",size:"lg"}),e.jsxs($,{children:[e.jsx(m,{children:"Chito Wong"}),e.jsx(m,{children:"Author of Rail Map Toolkit platform"}),e.jsx(m,{children:"Author of Rail Map Generator"})]})]}),e.jsxs(F,{size:"lg",onClick:()=>window.open("https://github.com/thekingofcity","_blank"),children:[e.jsx(O,{src:"https://github.com/thekingofcity.png",size:"lg"}),e.jsxs($,{children:[e.jsx(m,{children:"thekingofcity"}),e.jsx(m,{children:"Author of Rail Map Painter"}),e.jsx(m,{children:"Author of RMG (Shanghai Metro style)"})]})]})]}),e.jsx(z,{as:"h5",size:"sm",children:s("Resource administrators")}),e.jsx(ee,{spacing:1.5,children:lt.map(a=>e.jsx(te,{children:e.jsx(ie,{login:a,size:"md"})},a))}),e.jsx(z,{as:"h5",size:"sm",children:s("Resource contributors")}),Object.entries(b).filter(([a,r])=>r.showContributors).map(([a,r])=>e.jsxs(e.Fragment,{children:[e.jsx(z,{as:"h6",size:"xs",mt:5,mb:2,children:s(r.name)}),e.jsx(rt,{appId:a},a)]})),e.jsx(m,{as:"i",children:s("Notes: Contributors are sorted by number of commits and commit time.")})]}),e.jsx(y,{children:e.jsx(x,{colorScheme:"primary",onClick:()=>window.open("https://github.com/railmapgen/rmg/wiki/How-to-add-color-palette-and-line-templates","_blank"),children:s("Contribution Wiki")})})]})]})}function dt(t){const{isOpen:n,onClose:o}=t,{t:s}=p(),[a,r]=u.useState(h.isAllowAnalytics()),[c,i]=u.useState();u.useEffect(()=>{n||i(void 0)},[n]);const d=[{type:"switch",label:s("Allow cookies to help improve our website"),isChecked:a,onChange:r,oneLine:!0}],v=()=>{h.allowAnalytics(a).refreshRequired?i("Refreshing is required for changes to take effect."):o()};return e.jsxs(M,{isOpen:n,onClose:o,children:[e.jsx(R,{}),e.jsxs(w,{children:[c&&e.jsxs(se,{status:"info",variant:"solid",size:"xs",children:[e.jsx(ne,{}),s(c)]}),e.jsxs(S,{position:"relative",children:[e.jsx(H,{children:s("Privacy settings")}),e.jsx(B,{})]}),e.jsx(C,{children:e.jsx(oe,{fields:d})}),e.jsx(y,{children:e.jsx(x,{colorScheme:"primary",isDisabled:!!c,onClick:v,children:s("Save")})})]})]})}function ut(t){return j({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M126.12 315.1A47.06 47.06 0 1179.06 268h47.06zm23.72 0a47.06 47.06 0 0194.12 0v117.84a47.06 47.06 0 11-94.12 0zm47.06-188.98A47.06 47.06 0 11244 79.06v47.06zm0 23.72a47.06 47.06 0 010 94.12H79.06a47.06 47.06 0 010-94.12zm188.98 47.06a47.06 47.06 0 1147.06 47.1h-47.06zm-23.72 0a47.06 47.06 0 01-94.12 0V79.06a47.06 47.06 0 1194.12 0zM315.1 385.88a47.06 47.06 0 11-47.1 47.06v-47.06zm0-23.72a47.06 47.06 0 010-94.12h117.84a47.06 47.06 0 110 94.12z"}}]})(t)}function pt(){const{t}=p(),[n,o]=u.useState(!1),[s,a]=u.useState(!1);return e.jsxs(g,{direction:"column",children:[e.jsx(xe,{}),e.jsxs(ge,{templateColumns:"repeat(3, auto)",children:[e.jsx(I,{children:e.jsx(x,{as:je,variant:"ghost",size:"sm",w:"100%",leftIcon:e.jsx(ut,{}),target:"_blank",href:"https://join.slack.com/t/railmapgenerator/shared_invite/zt-1odhhta3n-DdZF~fnVwo_q0S0RJmgV8A",children:"Slack"})}),e.jsx(I,{children:e.jsx(x,{variant:"ghost",size:"sm",w:"100%",leftIcon:e.jsx(Qe,{}),onClick:()=>o(!0),children:t("Contributors")})}),e.jsx(I,{children:e.jsx(x,{variant:"ghost",size:"sm",w:"100%",leftIcon:e.jsx(Ue,{}),onClick:()=>a(!0),children:t("Privacy")})})]}),e.jsx(ht,{isOpen:n,onClose:()=>o(!1)}),e.jsx(dt,{isOpen:s,onClose:()=>a(!1)})]})}const mt={flexShrink:0,flexDirection:"column",overflow:"hidden",alignItems:"flex-end",transition:"0.3s ease-in-out",maxW:0,visibility:"hidden",boxShadow:"lg",zIndex:100,".show-menu &":{maxW:{base:"100%",sm:360},w:{base:"100%",sm:"unset"},visibility:"initial"},"& > div":{flexDirection:"column",h:"100%",w:{base:"100vw",sm:360},"& > div:nth-of-type(1)":{flex:0,flexDirection:"row",alignItems:"center",minHeight:10,pl:12},"& > div:nth-of-type(2)":{flexDirection:"column",flex:1,overflow:"hidden","& > div:first-of-type":{flex:1,overflowY:"auto"}}}};function xt(){const{t}=p();return e.jsx(g,{as:"section",sx:mt,children:e.jsxs(g,{children:[e.jsxs(g,{children:[e.jsx(z,{as:"h4",size:"md",children:t("Rail Map Toolkit")}),e.jsx(Oe,{environment:h.getEnv(),version:h.getAppVersion()})]}),e.jsxs(g,{children:[e.jsx(et,{}),e.jsx(st,{})]}),e.jsx(pt,{})]})})}function gt(t){const{isOpen:n,onClose:o}=t,{t:s}=p(),a=u.useRef(null),r=()=>{h.allowAnalytics(!0),o()},c=()=>{h.allowAnalytics(!1).refreshRequired?window.location.reload():o()};return e.jsxs(M,{initialFocusRef:a,isOpen:n,onClose:()=>{},children:[e.jsx(R,{}),e.jsxs(w,{children:[e.jsx(H,{children:s("CookiesModal.header")}),e.jsxs(C,{children:[e.jsx(m,{children:s("CookiesModal.text1")}),e.jsx(m,{mt:2,children:s("CookiesModal.text2")}),e.jsx(fe,{children:e.jsxs(ze,{children:[" ",s("CookiesModal.item1")]})}),e.jsx(m,{mt:2,children:s("CookiesModal.text3")})]}),e.jsx(y,{children:e.jsxs(Z,{children:[e.jsx(x,{variant:"ghost",onClick:c,children:s("CookiesModal.reject")}),e.jsx(x,{ref:a,colorScheme:"primary",onClick:r,children:s("CookiesModal.accept")})]})})]})]})}const jt=()=>{};function ft(){const{t}=p();return e.jsx(M,{isOpen:!0,onClose:jt,children:e.jsxs(w,{children:[e.jsx(H,{children:t("Rail Map Toolkit is opened in another window")}),e.jsx(C,{children:t("You cannot open multiple Rail Map Toolkit at the same time. Please close this window.")}),e.jsx(y,{})]})})}function bt(){const{t}=p(),n=ae(),{isPrimary:o,isShowMenu:s}=_(i=>i.app),[a,r]=u.useState(!1);u.useEffect(()=>{h.isAnalyticsQADone()||r(!0)},[]);const c=()=>{h.toggleNavMenu(!s),n(P()),h.event(k.TOGGLE_NAV_MENU,{})};return o===!1?e.jsx(q,{children:e.jsx(ft,{})}):e.jsx(ke,{basename:"/",children:e.jsxs(q,{className:s?"show-menu":"",children:[e.jsx(A,{variant:s?"ghost":"solid",colorScheme:s?void 0:"primary",size:"md","aria-label":t("Toggle menu"),title:t("Toggle menu"),icon:e.jsx($e,{}),position:"absolute",zIndex:110,borderRadius:0,onClick:c}),e.jsxs(Pe,{sx:{flexDirection:"row"},children:[e.jsx(xt,{}),e.jsx(De,{})]}),e.jsx(gt,{isOpen:a,onClose:()=>r(!1)})]})})}export{bt as default};
